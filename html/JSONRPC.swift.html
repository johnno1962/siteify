<html><head>
    <meta charset="UTF-8">
    <title>.build/checkouts/SwiftLSPClient/SwiftLSPClient/JSONRPC/JSONRPC.swift</title>
    <link rel="stylesheet" type="text/css" href="siteify.css">
    <script src="siteify.js"></script>
</head><html><body><h3>.build/checkouts/SwiftLSPClient/SwiftLSPClient/JSONRPC/JSONRPC.swift</h3><pre>
<script>
var commits = {"9378f987":"\n    Message Delivery and Error Fixes\n    \n    - Handles a dumb bug were two messages delivered at the same time cause the delivery system to lock up\n    - Correctly remove stored message handlers once they have been invoked\n    - Extract out and return errors when they have been returned from requests\n    - Reduce the strictness of the error structure\n","6d70f533":"\n    Tests for ProtocolTransport\n    \n    Before working on server->client requests, I though it would be useful to have some good tests in place for the ProtocolTransport class. Also, noticed that the DataTransport protocol fit nicely, to refactored to use that. I think this should make it possible to write some more straight-forward tests in the future.\n","ccb88202":"\n    \".hpp\" file extension. 'data' field in received errors optional. (#37)\n    \n    * Update Basic.swift\n    \n    * Error data not populated by sourcekit-lsp\n","d86bb6b6":"\n    Migrating in code\n","bfc73ecc":"\n    Add missing null case from JSONValue\n","250a2748":"\n    Test data without strings (#31)\n    \n    It wasn't possible to easily encode the LSP types to protocol messages for testing. So, I was just using strings. This was really annoying and error-prone. Finally took the time to make this possible, and it is way better.\n"}
</script>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0001") </script><span class='comment' title='source.lang.swift.syntaxtype.comment'>//
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0002") </script></span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  JSONRPC.swift
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0003") </script></span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  SwiftLSPClient
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0004") </script></span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0005") </script></span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  Created by Matt Massicotte on 2018-10-13.
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0006") </script></span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  Copyright Â© 2018 Matt Massicotte. All rights reserved.
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0007") </script></span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0008") </script></span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0009") </script><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>import</span> <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>Foundation</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0010") </script>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0011") </script><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>enum</span> <span class='identifier' title='usrString2'><a name='11_12' href='#' onclick='return expand(this);'>JSONId<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#30_29"; event.stopPropagation(); return false;'>ProtocolTransport.swift:30</td><td><pre>    private var responders: [JSONId: MessageResponder]</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#54_33"; event.stopPropagation(); return false;'>ProtocolTransport.swift:54</td><td><pre>    private func generateID() -> JSONId {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#55_23"; event.stopPropagation(); return false;'>ProtocolTransport.swift:55</td><td><pre>        let issuedId = JSONId.numericId(id)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#57_19"; return false;'>JSONRPC.swift:57</td><td><pre>    public let id: JSONId</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#61_20"; return false;'>JSONRPC.swift:61</td><td><pre>    public init(id: JSONId, method: String, params: T? = nil) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#68_24"; return false;'>JSONRPC.swift:68</td><td><pre>        let numericId = JSONId.numericId(id)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#86_19"; return false;'>JSONRPC.swift:86</td><td><pre>    public let id: JSONId</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#92_19"; return false;'>JSONRPC.swift:92</td><td><pre>    public let id: JSONId?</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#96_20"; return false;'>JSONRPC.swift:96</td><td><pre>    public init(id: JSONId, result: T) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#105_18"; return false;'>JSONRPC.swift:105</td><td><pre>        self.id = JSONId.numericId(id)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#110_20"; return false;'>JSONRPC.swift:110</td><td><pre>    public init(id: JSONId, error: ResponseError) {</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span>, <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Hashable</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0012") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='12_9' href='#' onclick='return expand(this);'>numericId<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#55_30"; event.stopPropagation(); return false;'>ProtocolTransport.swift:55</td><td><pre>        let issuedId = JSONId.numericId(id)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#19_20"; return false;'>JSONRPC.swift:19</td><td><pre>            self = .numericId(value)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#32_14"; return false;'>JSONRPC.swift:32</td><td><pre>        case .numericId(let value):</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#68_31"; return false;'>JSONRPC.swift:68</td><td><pre>        let numericId = JSONId.numericId(id)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#105_25"; return false;'>JSONRPC.swift:105</td><td><pre>        self.id = JSONId.numericId(id)</pre></td></table></span></a></span>(<span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Int</span>)
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0013") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='13_9' href='#' onclick='return expand(this);'>stringId<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#21_20"; return false;'>JSONRPC.swift:21</td><td><pre>            self = .stringId(value)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#34_14"; return false;'>JSONRPC.swift:34</td><td><pre>        case .stringId(let value):</pre></td></table></span></a></span>(<span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>)
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0014") </script>    
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0015") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>init</span>(<span class='identifier' title='JSONRPC.swift'><a name='15_16' href='JSONRPC.swift.html#15_11'>from</a></span> <span class='identifier' title='usrString2'><a name='15_21' onclick='return expand(this);'>decoder<span class='references'><table></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Decoder</span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>throws</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0016") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='JSONRPC.swift'><a name='16_12'>container</a></span> = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span> <span class='identifier' title='JSONRPC.swift'><a name='16_28' href='JSONRPC.swift.html#15_21'>decoder</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>singleValueContainer</span>()
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0017") </script>        
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0018") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='JSONRPC.swift'><a name='18_15'>value</a></span> = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span>? <span class='identifier' title='JSONRPC.swift'><a name='18_28' href='JSONRPC.swift.html#16_12'>container</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>decode</span>(<span class='identifier' title='x86_64-apple-macos.swiftmodule'>Int</span>.<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>) {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0019") </script>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span> = .<span class='identifier' title='JSONRPC.swift'><a name='19_20' href='JSONRPC.swift.html#12_9'>numericId</a></span>(<span class='identifier' title='JSONRPC.swift'><a name='19_30' href='JSONRPC.swift.html#18_15'>value</a></span>)
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0020") </script>        } <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='JSONRPC.swift'><a name='20_22'>value</a></span> = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span>? <span class='identifier' title='JSONRPC.swift'><a name='20_35' href='JSONRPC.swift.html#16_12'>container</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>decode</span>(<span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>.<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>) {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0021") </script>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span> = .<span class='identifier' title='JSONRPC.swift'><a name='21_20' href='JSONRPC.swift.html#13_9'>stringId</a></span>(<span class='identifier' title='JSONRPC.swift'><a name='21_29' href='JSONRPC.swift.html#20_22'>value</a></span>)
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0022") </script>        } <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0023") </script>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='JSONRPC.swift'><a name='23_16'>ctx</a></span> = <span class='identifier' title='x86_64-apple-macos.swiftmodule'>DecodingError</span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>Context</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>codingPath</span>: <span class='identifier' title='JSONRPC.swift'><a name='23_56' href='JSONRPC.swift.html#16_12'>container</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>codingPath</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>debugDescription</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"Unknown JSONId Type"</span>)
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0024") </script>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>throw</span> <span class='identifier' title='x86_64-apple-macos.swiftmodule'>DecodingError</span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>typeMismatch</span>(<span class='identifier' title='JSONValue.swift'><a name='24_45' href='JSONValue.swift.html#11_12'>JSONValue</a></span>.<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>, <span class='identifier' title='JSONRPC.swift'><a name='24_61' href='JSONRPC.swift.html#23_16'>ctx</a></span>)
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0025") </script>        }
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0026") </script>    }
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0027") </script>    
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0028") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><a name='28_16' onclick='return expand(this);'>encode<span class='references'><table></table></span></a></span>(<span class='identifier' title='JSONRPC.swift'><a name='28_23' href='JSONRPC.swift.html#28_16'>to</a></span> <span class='identifier' title='usrString2'><a name='28_26' onclick='return expand(this);'>encoder<span class='references'><table></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Encoder</span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>throws</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0029") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='JSONRPC.swift'><a name='29_12'>container</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='29_24' href='JSONRPC.swift.html#28_26'>encoder</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>singleValueContainer</span>()
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0030") </script>        
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0031") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>switch</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0032") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='JSONRPC.swift'><a name='32_14' href='JSONRPC.swift.html#12_9'>numericId</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='JSONRPC.swift'><a name='32_28'>value</a></span>):
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0033") </script>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span> <span class='identifier' title='JSONRPC.swift'><a name='33_16' href='JSONRPC.swift.html#29_12'>container</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>encode</span>(<span class='identifier' title='JSONRPC.swift'><a name='33_33' href='JSONRPC.swift.html#32_28'>value</a></span>)
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0034") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='JSONRPC.swift'><a name='34_14' href='JSONRPC.swift.html#13_9'>stringId</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='JSONRPC.swift'><a name='34_27'>value</a></span>):
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0035") </script>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span> <span class='identifier' title='JSONRPC.swift'><a name='35_16' href='JSONRPC.swift.html#29_12'>container</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>encode</span>(<span class='identifier' title='JSONRPC.swift'><a name='35_33' href='JSONRPC.swift.html#34_27'>value</a></span>)
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0036") </script>        }
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0037") </script>    }
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0038") </script>}
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0039") </script>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0040") </script><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>enum</span> <span class='identifier' title='usrString2'><a name='40_12' onclick='return expand(this);'>ProtocolErrorCode<span class='references'><table></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Int</span>, <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0041") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='41_9' onclick='return expand(this);'>parseError<span class='references'><table></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>-32700</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0042") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='42_9' onclick='return expand(this);'>invalidRequest<span class='references'><table></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>-32600</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0043") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='43_9' onclick='return expand(this);'>methodNotFound<span class='references'><table></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>-32601</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0044") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='44_9' onclick='return expand(this);'>invalidParams<span class='references'><table></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>-32602</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0045") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='45_9' onclick='return expand(this);'>internalError<span class='references'><table></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>-32603</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0046") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='46_9' onclick='return expand(this);'>serverErrorStart<span class='references'><table></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>-32099</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0047") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='47_9' onclick='return expand(this);'>serverErrorEnd<span class='references'><table></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>-32000</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0048") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='48_9' onclick='return expand(this);'>serverNotInitialized<span class='references'><table></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>-32002</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0049") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='49_9' onclick='return expand(this);'>unknownErrorCode<span class='references'><table></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>-32001</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0050") </script>    
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0051") </script>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> <span class='identifier' title='usrString2'><a name='51_9' onclick='return expand(this);'>requestCancelled<span class='references'><table></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>-32800</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0052") </script>}
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0053") </script>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0054") </script><span class='comment' title='source.lang.swift.syntaxtype.comment'>// MARK: Requests, Responses, and Errors
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0055") </script></span><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>struct</span> <span class='identifier' title='usrString2'><a name='55_14' href='#' onclick='return expand(this);'>JSONRPCRequest<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#66_29"; event.stopPropagation(); return false;'>ProtocolTransport.swift:66</td><td><pre>            let rpcRequest = JSONRPCRequest(id: issuedId, method: method, params: request)</pre></td></table></span></a></span>&lt;<span class='identifier' title='usrString2'><a name='55_29' href='#' onclick='return expand(this);'>T<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#55_47"; return false;'>JSONRPC.swift:55</td><td><pre>public struct JSONRPCRequest&lt;T>: Codable where T: Codable {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#59_23"; return false;'>JSONRPC.swift:59</td><td><pre>    public let params: T?</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#61_52"; return false;'>JSONRPC.swift:61</td><td><pre>    public init(id: JSONId, method: String, params: T? = nil) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#67_49"; return false;'>JSONRPC.swift:67</td><td><pre>    public init(id: Int, method: String, params: T? = nil) {</pre></td></table></span></a></span>>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>where</span> <span class='typeidentifier' title='JSONRPC.swift'><a name='55_47' href='JSONRPC.swift.html#55_29'>T</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0056") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='56_15' onclick='return expand(this);'>jsonrpc<span class='references'><table></table></span></a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"2.0"</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0057") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='57_15' href='#' onclick='return expand(this);'>id<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#62_13"; return false;'>JSONRPC.swift:62</td><td><pre>        self.id = id</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='57_19' href='JSONRPC.swift.html#11_12'>JSONId</a></span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0058") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='58_15' href='#' onclick='return expand(this);'>method<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#63_13"; return false;'>JSONRPC.swift:63</td><td><pre>        self.method = method</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0059") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='59_15' href='#' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#64_13"; return false;'>JSONRPC.swift:64</td><td><pre>        self.params = params</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='59_23' href='JSONRPC.swift.html#55_29'>T</a></span>?
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0060") </script>
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0061") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>init</span>(<span class='identifier' title='usrString2'><a name='61_16' href='#' onclick='return expand(this);'>id<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#62_18"; return false;'>JSONRPC.swift:62</td><td><pre>        self.id = id</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='61_20' href='JSONRPC.swift.html#11_12'>JSONId</a></span>, <span class='identifier' title='usrString2'><a name='61_28' href='#' onclick='return expand(this);'>method<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#63_22"; return false;'>JSONRPC.swift:63</td><td><pre>        self.method = method</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>, <span class='identifier' title='usrString2'><a name='61_44' href='#' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#64_22"; return false;'>JSONRPC.swift:64</td><td><pre>        self.params = params</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='61_52' href='JSONRPC.swift.html#55_29'>T</a></span>? = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>) {
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0062") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='62_13' href='JSONRPC.swift.html#57_15'>id</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='62_18' href='JSONRPC.swift.html#61_16'>id</a></span>
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0063") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='63_13' href='JSONRPC.swift.html#58_15'>method</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='63_22' href='JSONRPC.swift.html#61_28'>method</a></span>
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0064") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='64_13' href='JSONRPC.swift.html#59_15'>params</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='64_22' href='JSONRPC.swift.html#61_44'>params</a></span>
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0065") </script>    }
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0066") </script>
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0067") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>init</span>(<span class='identifier' title='usrString2'><a name='67_16' href='#' onclick='return expand(this);'>id<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#68_41"; return false;'>JSONRPC.swift:68</td><td><pre>        let numericId = JSONId.numericId(id)</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Int</span>, <span class='identifier' title='usrString2'><a name='67_25' href='#' onclick='return expand(this);'>method<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#70_41"; return false;'>JSONRPC.swift:70</td><td><pre>        self.init(id: numericId, method: method, params: params)</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>, <span class='identifier' title='usrString2'><a name='67_41' href='#' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#70_57"; return false;'>JSONRPC.swift:70</td><td><pre>        self.init(id: numericId, method: method, params: params)</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='67_49' href='JSONRPC.swift.html#55_29'>T</a></span>? = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>) {
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0068") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='JSONRPC.swift'><a name='68_12'>numericId</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='68_24' href='JSONRPC.swift.html#11_12'>JSONId</a></span>.<span class='identifier' title='JSONRPC.swift'><a name='68_31' href='JSONRPC.swift.html#12_9'>numericId</a></span>(<span class='identifier' title='JSONRPC.swift'><a name='68_41' href='JSONRPC.swift.html#67_16'>id</a></span>)
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0069") </script>
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0070") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='70_13' href='JSONRPC.swift.html#61_11'>init</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>id</span>: <span class='identifier' title='JSONRPC.swift'><a name='70_22' href='JSONRPC.swift.html#68_12'>numericId</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>method</span>: <span class='identifier' title='JSONRPC.swift'><a name='70_41' href='JSONRPC.swift.html#67_25'>method</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>params</span>: <span class='identifier' title='JSONRPC.swift'><a name='70_57' href='JSONRPC.swift.html#67_41'>params</a></span>)
<script> lineLink("250a2748", "Matt Massicotte", 1572521702, "0071") </script>    }
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0072") </script>}
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0073") </script>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0074") </script><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>struct</span> <span class='identifier' title='usrString2'><a name='74_14' href='#' onclick='return expand(this);'>ResponseError<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#87_22"; return false;'>JSONRPC.swift:87</td><td><pre>    public let error: ResponseError?</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#94_22"; return false;'>JSONRPC.swift:94</td><td><pre>    public let error: ResponseError?</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#110_35"; return false;'>JSONRPC.swift:110</td><td><pre>    public init(id: JSONId, error: ResponseError) {</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span> {
<script> lineLink("9378f987", "Matt Massicotte", 1548638244, "0075") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='75_15' href='#' onclick='return expand(this);'>code<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#80_53"; return false;'>JSONRPC.swift:80</td><td><pre>        return LanguageServerError.serverError(code: code, message: message, data: nil)</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Int</span>
<script> lineLink("9378f987", "Matt Massicotte", 1548638244, "0076") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='76_15' href='#' onclick='return expand(this);'>message<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#80_68"; return false;'>JSONRPC.swift:80</td><td><pre>        return LanguageServerError.serverError(code: code, message: message, data: nil)</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>
<script> lineLink("ccb88202", "John Holdsworth", 1573247221, "0077") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='77_15' onclick='return expand(this);'>data<span class='references'><table></table></span></a></span>: <span class='typeidentifier' title='JSONValue.swift'><a name='77_21' href='JSONValue.swift.html#11_12'>JSONValue</a></span>?
<script> lineLink("9378f987", "Matt Massicotte", 1548638244, "0078") </script>
<script> lineLink("9378f987", "Matt Massicotte", 1548638244, "0079") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='usrString2'><a name='79_15' href='#' onclick='return expand(this);'>languageServerError<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#91_38"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:91</td><td><pre>            block(.failure(errorParam.languageServerError))</pre></td></table></span></a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='79_36' href='LanguageServer.swift.html#11_12'>LanguageServerError</a></span> {
<script> lineLink("9378f987", "Matt Massicotte", 1548638244, "0080") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='LanguageServer.swift'><a name='80_15' href='LanguageServer.swift.html#11_12'>LanguageServerError</a></span>.<span class='identifier' title='LanguageServer.swift'><a name='80_35' href='LanguageServer.swift.html#21_9'>serverError</a></span>(<span class='identifier' title='LanguageServer.swift'><a name='80_47' href='LanguageServer.swift.html#21_9'>code</a></span>: <span class='identifier' title='JSONRPC.swift'><a name='80_53' href='JSONRPC.swift.html#75_15'>code</a></span>, <span class='identifier' title='LanguageServer.swift'><a name='80_59' href='LanguageServer.swift.html#21_9'>message</a></span>: <span class='identifier' title='JSONRPC.swift'><a name='80_68' href='JSONRPC.swift.html#76_15'>message</a></span>, <span class='identifier' title='LanguageServer.swift'><a name='80_77' href='LanguageServer.swift.html#21_9'>data</a></span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>)
<script> lineLink("9378f987", "Matt Massicotte", 1548638244, "0081") </script>    }
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0082") </script>}
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0083") </script>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0084") </script><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>struct</span> <span class='identifier' title='usrString2'><a name='84_14' href='#' onclick='return expand(this);'>JSONRPCResponse<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#123_54"; event.stopPropagation(); return false;'>ProtocolTransport.swift:123</td><td><pre>            if let message = try? self.decoder.decode(JSONRPCResponse.self, from: data) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#137_44"; event.stopPropagation(); return false;'>ProtocolTransport.swift:137</td><td><pre>    private func dispatchMessage(_ message: JSONRPCResponse, originalData data: Data) {</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0085") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='85_15' onclick='return expand(this);'>jsonrpc<span class='references'><table></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0086") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='86_15' href='#' onclick='return expand(this);'>id<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#142_49"; event.stopPropagation(); return false;'>ProtocolTransport.swift:142</td><td><pre>        guard let responder = responders[message.id] else {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#144_56"; event.stopPropagation(); return false;'>ProtocolTransport.swift:144</td><td><pre>            print("not matching responder for \(message.id), dropping message")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#151_47"; event.stopPropagation(); return false;'>ProtocolTransport.swift:151</td><td><pre>        responders.removeValue(forKey: message.id)</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='86_19' href='JSONRPC.swift.html#11_12'>JSONId</a></span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0087") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='87_15' onclick='return expand(this);'>error<span class='references'><table></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='87_22' href='JSONRPC.swift.html#74_14'>ResponseError</a></span>?
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0088") </script>}
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0089") </script>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0090") </script><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>struct</span> <span class='identifier' title='usrString2'><a name='90_14' href='#' onclick='return expand(this);'>JSONRPCResultResponse<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#24_57"; event.stopPropagation(); return false;'>ProtocolTransport.swift:24</td><td><pre>    public typealias ResponseResult&lt;T: Codable> = Result&lt;JSONRPCResultResponse&lt;T>, ProtocolTransportError></pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#92_61"; event.stopPropagation(); return false;'>ProtocolTransport.swift:92</td><td><pre>                    let jsonResult = try self.decoder.decode(JSONRPCResultResponse&lt;T>.self, from: data)</pre></td></table></span></a></span>&lt;<span class='identifier' title='usrString2'><a name='90_36' href='#' onclick='return expand(this);'>T<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#90_54"; return false;'>JSONRPC.swift:90</td><td><pre>public struct JSONRPCResultResponse&lt;T>: Codable where T: Codable {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#93_23"; return false;'>JSONRPC.swift:93</td><td><pre>    public let result: T?</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#96_36"; return false;'>JSONRPC.swift:96</td><td><pre>    public init(id: JSONId, result: T) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#103_33"; return false;'>JSONRPC.swift:103</td><td><pre>    public init(id: Int, result: T) {</pre></td></table></span></a></span>>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>where</span> <span class='typeidentifier' title='JSONRPC.swift'><a name='90_54' href='JSONRPC.swift.html#90_36'>T</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0091") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='91_15' href='#' onclick='return expand(this);'>jsonrpc<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#97_13"; return false;'>JSONRPC.swift:97</td><td><pre>        self.jsonrpc = "2.0"</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#104_13"; return false;'>JSONRPC.swift:104</td><td><pre>        self.jsonrpc = "2.0"</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#111_13"; return false;'>JSONRPC.swift:111</td><td><pre>        self.jsonrpc = "2.0"</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0092") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='92_15' href='#' onclick='return expand(this);'>id<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#98_13"; return false;'>JSONRPC.swift:98</td><td><pre>        self.id = id</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#105_13"; return false;'>JSONRPC.swift:105</td><td><pre>        self.id = JSONId.numericId(id)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#112_13"; return false;'>JSONRPC.swift:112</td><td><pre>        self.id = id</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='92_19' href='JSONRPC.swift.html#11_12'>JSONId</a></span>?
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0093") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='93_15' href='#' onclick='return expand(this);'>result<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#88_47"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:88</td><td><pre>        if let responseParam = responseMessage.result {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#99_13"; return false;'>JSONRPC.swift:99</td><td><pre>        self.result = result</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#106_13"; return false;'>JSONRPC.swift:106</td><td><pre>        self.result = result</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#113_13"; return false;'>JSONRPC.swift:113</td><td><pre>        self.result = nil</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='93_23' href='JSONRPC.swift.html#90_36'>T</a></span>?
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0094") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='94_15' href='#' onclick='return expand(this);'>error<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#90_51"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:90</td><td><pre>        } else if let errorParam = responseMessage.error {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#100_13"; return false;'>JSONRPC.swift:100</td><td><pre>        self.error = nil</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#107_13"; return false;'>JSONRPC.swift:107</td><td><pre>        self.error = nil</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#114_13"; return false;'>JSONRPC.swift:114</td><td><pre>        self.error = error</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='94_22' href='JSONRPC.swift.html#74_14'>ResponseError</a></span>?
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0095") </script>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0096") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>init</span>(<span class='identifier' title='usrString2'><a name='96_16' href='#' onclick='return expand(this);'>id<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#98_18"; return false;'>JSONRPC.swift:98</td><td><pre>        self.id = id</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='96_20' href='JSONRPC.swift.html#11_12'>JSONId</a></span>, <span class='identifier' title='usrString2'><a name='96_28' href='#' onclick='return expand(this);'>result<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#99_22"; return false;'>JSONRPC.swift:99</td><td><pre>        self.result = result</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='96_36' href='JSONRPC.swift.html#90_36'>T</a></span>) {
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0097") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='97_13' href='JSONRPC.swift.html#91_15'>jsonrpc</a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"2.0"</span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0098") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='98_13' href='JSONRPC.swift.html#92_15'>id</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='98_18' href='JSONRPC.swift.html#96_16'>id</a></span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0099") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='99_13' href='JSONRPC.swift.html#93_15'>result</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='99_22' href='JSONRPC.swift.html#96_28'>result</a></span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0100") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='100_13' href='JSONRPC.swift.html#94_15'>error</a></span> = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0101") </script>    }
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0102") </script>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0103") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>init</span>(<span class='identifier' title='usrString2'><a name='103_16' href='#' onclick='return expand(this);'>id<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#105_35"; return false;'>JSONRPC.swift:105</td><td><pre>        self.id = JSONId.numericId(id)</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Int</span>, <span class='identifier' title='usrString2'><a name='103_25' href='#' onclick='return expand(this);'>result<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#106_22"; return false;'>JSONRPC.swift:106</td><td><pre>        self.result = result</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='103_33' href='JSONRPC.swift.html#90_36'>T</a></span>) {
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0104") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='104_13' href='JSONRPC.swift.html#91_15'>jsonrpc</a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"2.0"</span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0105") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='105_13' href='JSONRPC.swift.html#92_15'>id</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='105_18' href='JSONRPC.swift.html#11_12'>JSONId</a></span>.<span class='identifier' title='JSONRPC.swift'><a name='105_25' href='JSONRPC.swift.html#12_9'>numericId</a></span>(<span class='identifier' title='JSONRPC.swift'><a name='105_35' href='JSONRPC.swift.html#103_16'>id</a></span>)
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0106") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='106_13' href='JSONRPC.swift.html#93_15'>result</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='106_22' href='JSONRPC.swift.html#103_25'>result</a></span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0107") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='107_13' href='JSONRPC.swift.html#94_15'>error</a></span> = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0108") </script>    }
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0109") </script>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0110") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>init</span>(<span class='identifier' title='usrString2'><a name='110_16' href='#' onclick='return expand(this);'>id<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#112_18"; return false;'>JSONRPC.swift:112</td><td><pre>        self.id = id</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='110_20' href='JSONRPC.swift.html#11_12'>JSONId</a></span>, <span class='identifier' title='usrString2'><a name='110_28' href='#' onclick='return expand(this);'>error<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#114_21"; return false;'>JSONRPC.swift:114</td><td><pre>        self.error = error</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='110_35' href='JSONRPC.swift.html#74_14'>ResponseError</a></span>) {
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0111") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='111_13' href='JSONRPC.swift.html#91_15'>jsonrpc</a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"2.0"</span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0112") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='112_13' href='JSONRPC.swift.html#92_15'>id</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='112_18' href='JSONRPC.swift.html#110_16'>id</a></span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0113") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='113_13' href='JSONRPC.swift.html#93_15'>result</a></span> = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0114") </script>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='JSONRPC.swift'><a name='114_13' href='JSONRPC.swift.html#94_15'>error</a></span> = <span class='identifier' title='JSONRPC.swift'><a name='114_21' href='JSONRPC.swift.html#110_28'>error</a></span>
<script> lineLink("6d70f533", "Matt Massicotte", 1549653964, "0115") </script>    }
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0116") </script>}
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0117") </script>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0118") </script><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>struct</span> <span class='identifier' title='usrString2'><a name='118_14' href='#' onclick='return expand(this);'>JSONRPCNotification<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#128_59"; event.stopPropagation(); return false;'>ProtocolTransport.swift:128</td><td><pre>            if let notification = try? self.decoder.decode(JSONRPCNotification.self, from: data) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#154_54"; event.stopPropagation(); return false;'>ProtocolTransport.swift:154</td><td><pre>    private func dispatchNotification(_ notification: JSONRPCNotification, originalData data: Data) {</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0119") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='119_15' onclick='return expand(this);'>jsonrpc<span class='references'><table></table></span></a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"2.0"</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0120") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='120_15' href='#' onclick='return expand(this);'>method<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#155_34"; event.stopPropagation(); return false;'>ProtocolTransport.swift:155</td><td><pre>        let method = notification.method</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0121") </script>}
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0122") </script>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0123") </script><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>struct</span> <span class='identifier' title='usrString2'><a name='123_14' href='#' onclick='return expand(this);'>JSONRPCNotificationParams<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#103_27"; event.stopPropagation(); return false;'>ProtocolTransport.swift:103</td><td><pre>        let notification = JSONRPCNotificationParams(method: method, params: params)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#65_29"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:65</td><td><pre>            let resultType = JSONRPCNotificationParams&lt;T>.self</pre></td></table></span></a></span>&lt;<span class='identifier' title='usrString2'><a name='123_40' href='#' onclick='return expand(this);'>T<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#123_58"; return false;'>JSONRPC.swift:123</td><td><pre>public struct JSONRPCNotificationParams&lt;T>: Codable where T: Codable {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#126_23"; return false;'>JSONRPC.swift:126</td><td><pre>    public let params: T?</pre></td></table></span></a></span>>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>where</span> <span class='typeidentifier' title='JSONRPC.swift'><a name='123_58' href='JSONRPC.swift.html#123_40'>T</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Codable</span> {
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0124") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='124_15' onclick='return expand(this);'>jsonrpc<span class='references'><table></table></span></a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"2.0"</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0125") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='125_15' href='#' onclick='return expand(this);'>method<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#103_53"; event.stopPropagation(); return false;'>ProtocolTransport.swift:103</td><td><pre>        let notification = JSONRPCNotificationParams(method: method, params: params)</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0126") </script>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='126_15' href='#' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="ProtocolTransport.swift.html#103_69"; event.stopPropagation(); return false;'>ProtocolTransport.swift:103</td><td><pre>        let notification = JSONRPCNotificationParams(method: method, params: params)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#68_38"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:68</td><td><pre>            guard let params = result.params else {</pre></td></table></span></a></span>: <span class='typeidentifier' title='JSONRPC.swift'><a name='126_23' href='JSONRPC.swift.html#123_40'>T</a></span>?
<script> lineLink("d86bb6b6", "Matt Massicotte", 1542850296, "0127") </script>}
<a class=linenum name='L128'>0128</a>    