<html><head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="siteify.css">
<script>

var lastlink;

function expand(a) {
    if ( a.children[0].style.display != "block" ) {
        if ( lastlink )
            lastlink.style.display = "none";
        a.children[0].style.display = "block";
        lastlink = a.children[0];
    }
    else {
        a.children[0].style.display = "none";
        lastlink = null;
    }
    return false;
}

</script></head><body><pre>
0001    <span class='comment'><a name='1_1'>//
0002    </a></span><span class='comment'><a name='2_1'>//  SwiftRegex.swift
0003    </a></span><span class='comment'><a name='3_1'>//  SwiftRegex
0004    </a></span><span class='comment'><a name='4_1'>//
0005    </a></span><span class='comment'><a name='5_1'>//  Created by John Holdsworth on 26/06/2014.
0006    </a></span><span class='comment'><a name='6_1'>//  Copyright (c) 2014 John Holdsworth.
0007    </a></span><span class='comment'><a name='7_1'>//
0008    </a></span><span class='comment'><a name='8_1'>//  $Id: //depot/siteify/siteify/SwiftRegex.swift#3 $
0009    </a></span><span class='comment'><a name='9_1'>//
0010    </a></span><span class='comment'><a name='10_1'>//  This code is in the public domain from:
0011    </a></span><span class='comment'><a name='11_1'>//  </a></span><span class='url'><a href='https://github.com/johnno1962/SwiftRegex'>https://github.com/johnno1962/SwiftRegex</a></span><span class='comment'><a name='11_45'>
0012    </a></span><span class='comment'><a name='12_1'>//
0013    </a></span>
0014    <span class='keyword'><a name='14_1'>import</a></span> <span class='identifier'><a name='14_8'>Foundation</a></span>
0015    
0016    <span class='builtin'><a name='16_1'>private</a></span> <span class='keyword'><a name='16_9'>var</a></span> <span class='identifier'><a name='16_13' href='#' title='s:v7siteifyP33_F2A4F39744594A4732E56F34E53BDDF615swiftRegexCacheGVs10DictionarySSCSo19NSRegularExpression_' onclick='return expand(this);'>swiftRegexCache<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#27_24"; return false;'>SwiftRegex.swift:27</td><td><pre>        if let regex = <b title='source.lang.swift.ref.var.global'>swiftRegexCache</b>[pattern] {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#32_17"; return false;'>SwiftRegex.swift:32</td><td><pre>                <b title='source.lang.swift.ref.var.global'>swiftRegexCache</b>[pattern] = regex</pre></td></table></span></a></span> = <span class='identifier'><a name='16_31' title='s:Vs10Dictionary'>Dictionary</a></span>&lt;<span class='typeidentifier'><a name='16_42' title='s:SS'>String</a></span>,<span class='typeidentifier'><a name='16_49' title='c:objc(cs)NSRegularExpression'>NSRegularExpression</a></span>>()
0017    <span class='builtin'><a name='17_1'>public</a></span> <span class='keyword'><a name='17_8'>let</a></span> <span class='identifier'><a name='17_12' href='#' title='s:v7siteify12regexNoGroupSS' onclick='return expand(this);'>regexNoGroup<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#115_36"; return false;'>SwiftRegex.swift:115</td><td><pre>                    groups.append( <b title='source.lang.swift.ref.var.global'>regexNoGroup</b> ) // avoids bridging problems</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#128_33"; return false;'>SwiftRegex.swift:128</td><td><pre>                return group != <b title='source.lang.swift.ref.var.global'>regexNoGroup</b> ? group : nil</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#273_51"; return false;'>SwiftRegex.swift:273</td><td><pre>        lastRegexMatchGroups = groups.map { $0 != <b title='source.lang.swift.ref.var.global'>regexNoGroup</b> ? $0 : nil }</pre></td></table></span></a></span> = <span class='string'><a name='17_27'>"__nil__"</a></span>
0018    
0019    <span class='builtin'><a name='19_1'>public</a></span> <span class='keyword'><a name='19_8'>class</a></span> <span class='identifier'><a name='19_14' href='#' title='s:C7siteify10SwiftRegex' onclick='return expand(this);'>SwiftRegex<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#35_17"; return false;'>SwiftRegex.swift:35</td><td><pre>                <b title='source.lang.swift.ref.class'>SwiftRegex</b>.failure("Error in pattern: \(pattern) - \(error.localizedDescription)")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#141_17"; return false;'>SwiftRegex.swift:141</td><td><pre>                <b title='source.lang.swift.ref.class'>SwiftRegex</b>.failure("Group modify on non-mutable")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#198_13"; return false;'>SwiftRegex.swift:198</td><td><pre>            <b title='source.lang.swift.ref.class'>SwiftRegex</b>.failure("Modify on non-mutable")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#242_16"; return false;'>SwiftRegex.swift:242</td><td><pre>        return <b title='source.lang.swift.ref.class'>SwiftRegex</b>( target: self, pattern: pattern, options: options )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#248_16"; return false;'>SwiftRegex.swift:248</td><td><pre>        return <b title='source.lang.swift.ref.class'>SwiftRegex</b>( target: self, pattern: pattern, options: options )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#254_16"; return false;'>SwiftRegex.swift:254</td><td><pre>        return <b title='source.lang.swift.ref.class'>SwiftRegex</b>( target: self, pattern: pattern )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#260_16"; return false;'>SwiftRegex.swift:260</td><td><pre>        return <b title='source.lang.swift.ref.class'>SwiftRegex</b>( target: self, pattern: pattern )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#272_21"; return false;'>SwiftRegex.swift:272</td><td><pre>    if let groups = <b title='source.lang.swift.ref.class'>SwiftRegex</b>( target: right, pattern: left ).groups() {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#280_24"; return false;'>SwiftRegex.swift:280</td><td><pre>public func ~= ( left: <b title='source.lang.swift.ref.class'>SwiftRegex</b>, right: String ) -> Bool {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#288_24"; return false;'>SwiftRegex.swift:288</td><td><pre>public func ~= ( left: <b title='source.lang.swift.ref.class'>SwiftRegex</b>, right: [String] ) -> Bool {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#303_24"; return false;'>SwiftRegex.swift:303</td><td><pre>public func ~= ( left: <b title='source.lang.swift.ref.class'>SwiftRegex</b>, right: (String) -> String ) -> Bool {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#310_24"; return false;'>SwiftRegex.swift:310</td><td><pre>public func ~= ( left: <b title='source.lang.swift.ref.class'>SwiftRegex</b>, right: ([String]) -> String ) -> Bool {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#324_20"; return false;'>SwiftRegex.swift:324</td><td><pre>        contents = <b title='source.lang.swift.ref.class'>SwiftRegex</b>.loadFile( path )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#328_21"; return false;'>SwiftRegex.swift:328</td><td><pre>        let regex = <b title='source.lang.swift.ref.class'>SwiftRegex</b>( target: contents, pattern: pattern )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#334_9"; return false;'>SwiftRegex.swift:334</td><td><pre>        <b title='source.lang.swift.ref.class'>SwiftRegex</b>.saveFile( filepath, newContents: contents )</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='19_26' title='c:objc(cs)NSObject'>NSObject</a></span>, <span class='typeidentifier'><a name='19_36' title='s:Ps11BooleanType'>BooleanType</a></span> {
0020    
0021        <span class='keyword'><a name='21_5'>let</a></span> <span class='identifier'><a name='21_9' href='#' title='s:vC7siteify10SwiftRegex6targetCSo8NSString' onclick='return expand(this);'>target<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#26_14"; return false;'>SwiftRegex.swift:26</td><td><pre>        self.<b title='source.lang.swift.ref.var.instance'>target</b> = target</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#81_44"; return false;'>SwiftRegex.swift:81</td><td><pre>        return NSRange(location: 0,length: <b title='source.lang.swift.ref.var.instance'>target</b>.length)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#86_20"; return false;'>SwiftRegex.swift:86</td><td><pre>            return <b title='source.lang.swift.ref.var.instance'>target</b>.substringWithRange(range)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#97_49"; return false;'>SwiftRegex.swift:97</td><td><pre>        return regex.rangeOfFirstMatchInString( <b title='source.lang.swift.ref.var.instance'>target</b> as String, options: options ?? NSMatchingOptions(rawValue: 0), range: targetRange )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#105_57"; return false;'>SwiftRegex.swift:105</td><td><pre>        return groupsForMatch( regex.firstMatchInString(<b title='source.lang.swift.ref.var.instance'>target</b> as String, options: options ?? NSMatchingOptions(rawValue: 0), range: targetRange) )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#134_36"; return false;'>SwiftRegex.swift:134</td><td><pre>            if let mutableTarget = <b title='source.lang.swift.ref.var.instance'>target</b> as? NSMutableString {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#137_35"; return false;'>SwiftRegex.swift:137</td><td><pre>                        inString: <b title='source.lang.swift.ref.var.instance'>target</b> as String, offset: 0, template: newValue )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#153_39"; return false;'>SwiftRegex.swift:153</td><td><pre>        return regex.matchesInString( <b title='source.lang.swift.ref.var.instance'>target</b> as String, options: options ?? NSMatchingOptions(rawValue: 0), range: targetRange ) as [NSTextCheckingResult]</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#181_41"; return false;'>SwiftRegex.swift:181</td><td><pre>        regex.enumerateMatchesInString( <b title='source.lang.swift.ref.var.instance'>target</b> as String, options: NSMatchingOptions(rawValue: 0), range: targetRange ) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#192_32"; return false;'>SwiftRegex.swift:192</td><td><pre>        if let mutableTarget = <b title='source.lang.swift.ref.var.instance'>target</b> as? NSMutableString {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#193_23"; return false;'>SwiftRegex.swift:193</td><td><pre>            if out != <b title='source.lang.swift.ref.var.instance'>target</b> {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#205_71"; return false;'>SwiftRegex.swift:205</td><td><pre>        let mutable = /*target as? NSMutableString ??*/ RegexMutable( <b title='source.lang.swift.ref.var.instance'>target</b> )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#284_28"; return false;'>SwiftRegex.swift:284</td><td><pre>            inString: left.<b title='source.lang.swift.ref.var.instance'>target</b> as String, offset: 0, template: right )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#299_28"; return false;'>SwiftRegex.swift:299</td><td><pre>            inString: left.<b title='source.lang.swift.ref.var.instance'>target</b> as String, offset: 0, template: right[matchNumber-1] )</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='21_17' title='c:objc(cs)NSString'>NSString</a></span>
0022        <span class='keyword'><a name='22_5'>let</a></span> <span class='identifier'><a name='22_9' href='#' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression' onclick='return expand(this);'>regex<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#28_18"; return false;'>SwiftRegex.swift:28</td><td><pre>            self.<b title='source.lang.swift.ref.var.instance'>regex</b> = regex</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#33_22"; return false;'>SwiftRegex.swift:33</td><td><pre>                self.<b title='source.lang.swift.ref.var.instance'>regex</b> = regex</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#36_22"; return false;'>SwiftRegex.swift:36</td><td><pre>                self.<b title='source.lang.swift.ref.var.instance'>regex</b> = NSRegularExpression()</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#97_16"; return false;'>SwiftRegex.swift:97</td><td><pre>        return <b title='source.lang.swift.ref.var.instance'>regex</b>.rangeOfFirstMatchInString( target as String, options: options ?? NSMatchingOptions(rawValue: 0), range: targetRange )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#105_32"; return false;'>SwiftRegex.swift:105</td><td><pre>        return groupsForMatch( <b title='source.lang.swift.ref.var.instance'>regex</b>.firstMatchInString(target as String, options: options ?? NSMatchingOptions(rawValue: 0), range: targetRange) )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#111_32"; return false;'>SwiftRegex.swift:111</td><td><pre>            for groupno in 0...<b title='source.lang.swift.ref.var.instance'>regex</b>.numberOfCaptureGroups {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#136_39"; return false;'>SwiftRegex.swift:136</td><td><pre>                    let replacement = <b title='source.lang.swift.ref.var.instance'>regex</b>.replacementStringForResult( match,</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#153_16"; return false;'>SwiftRegex.swift:153</td><td><pre>        return <b title='source.lang.swift.ref.var.instance'>regex</b>.matchesInString( target as String, options: options ?? NSMatchingOptions(rawValue: 0), range: targetRange ) as [NSTextCheckingResult]</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#181_9"; return false;'>SwiftRegex.swift:181</td><td><pre>        <b title='source.lang.swift.ref.var.instance'>regex</b>.enumerateMatchesInString( target as String, options: NSMatchingOptions(rawValue: 0), range: targetRange ) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#206_9"; return false;'>SwiftRegex.swift:206</td><td><pre>        <b title='source.lang.swift.ref.var.instance'>regex</b>.replaceMatchesInString( mutable, options: options ?? NSMatchingOptions(rawValue: 0), range: targetRange, withTemplate: template )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#283_21"; return false;'>SwiftRegex.swift:283</td><td><pre>        return left.<b title='source.lang.swift.ref.var.instance'>regex</b>.replacementStringForResult( match,</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#298_21"; return false;'>SwiftRegex.swift:298</td><td><pre>        return left.<b title='source.lang.swift.ref.var.instance'>regex</b>.replacementStringForResult( match,</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='22_16' title='c:objc(cs)NSRegularExpression'>NSRegularExpression</a></span>
0023        <span class='keyword'><a name='23_5'>var</a></span> <span class='identifier'><a name='23_9' href='#' title='s:vC7siteify10SwiftRegex9regexFileGSqCS_9RegexFile_' onclick='return expand(this);'>regexFile<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#329_15"; return false;'>SwiftRegex.swift:329</td><td><pre>        regex.<b title='source.lang.swift.ref.var.instance'>regexFile</b> = self // retains until after substitution</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='23_20' href='SwiftRegex.html#317_14' title='s:C7siteify9RegexFile'>RegexFile</a></span>?
0024    
0025        <span class='keyword'><a name='25_5' href='#' title='s:FC7siteify10SwiftRegexcFT6targetCSo8NSString7patternSS7optionsVSC26NSRegularExpressionOptions_S0_' onclick='return expand(this);'>init<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#242_16"; return false;'>SwiftRegex.swift:242</td><td><pre>        return <b title='source.lang.swift.ref.function.constructor'>SwiftRegex</b>( target: self, pattern: pattern, options: options )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#248_16"; return false;'>SwiftRegex.swift:248</td><td><pre>        return <b title='source.lang.swift.ref.function.constructor'>SwiftRegex</b>( target: self, pattern: pattern, options: options )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#254_16"; return false;'>SwiftRegex.swift:254</td><td><pre>        return <b title='source.lang.swift.ref.function.constructor'>SwiftRegex</b>( target: self, pattern: pattern )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#260_16"; return false;'>SwiftRegex.swift:260</td><td><pre>        return <b title='source.lang.swift.ref.function.constructor'>SwiftRegex</b>( target: self, pattern: pattern )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#272_21"; return false;'>SwiftRegex.swift:272</td><td><pre>    if let groups = <b title='source.lang.swift.ref.function.constructor'>SwiftRegex</b>( target: right, pattern: left ).groups() {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#328_21"; return false;'>SwiftRegex.swift:328</td><td><pre>        let regex = <b title='source.lang.swift.ref.function.constructor'>SwiftRegex</b>( target: contents, pattern: pattern )</pre></td></table></span></a></span>( <span class='identifier'><a name='25_11'>target</a></span>:<span class='typeidentifier'><a name='25_18' title='c:objc(cs)NSString'>NSString</a></span>, <span class='identifier'><a name='25_28'>pattern</a></span>:<span class='typeidentifier'><a name='25_36' title='s:SS'>String</a></span>, <span class='identifier'><a name='25_44'>options</a></span>:<span class='typeidentifier'><a name='25_52' title='c:@E@NSRegularExpressionOptions'>NSRegularExpressionOptions</a></span> = .<span class='identifier'><a name='25_82' title='c:@E@NSRegularExpressionOptions@NSRegularExpressionDotMatchesLineSeparators'>DotMatchesLineSeparators</a></span> ) {
0026            <span class='keyword'><a name='26_9'>self</a></span>.<span class='identifier'><a name='26_14' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> = <span class='identifier'><a name='26_23'>target</a></span>
0027            <span class='keyword'><a name='27_9'>if</a></span> <span class='keyword'><a name='27_12'>let</a></span> <span class='identifier'><a name='27_16'>regex</a></span> = <span class='identifier'><a name='27_24' href='SwiftRegex.html#16_13' title='s:v7siteifyP33_F2A4F39744594A4732E56F34E53BDDF615swiftRegexCacheGVs10DictionarySSCSo19NSRegularExpression_'>swiftRegexCache</a></span>[<span class='identifier'><a name='27_40'>pattern</a></span>] {
0028                <span class='keyword'><a name='28_13'>self</a></span>.<span class='identifier'><a name='28_18' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span> = <span class='identifier'><a name='28_26'>regex</a></span>
0029            } <span class='keyword'><a name='29_11'>else</a></span> {
0030                <span class='keyword'><a name='30_13'>do</a></span> {
0031                    <span class='keyword'><a name='31_17'>let</a></span> <span class='identifier'><a name='31_21'>regex</a></span> = <span class='keyword'><a name='31_29'>try</a></span> <span class='identifier'><a name='31_33' title='c:objc(cs)NSRegularExpression(im)initWithPattern:options:error:'>NSRegularExpression</a></span>( <span class='identifier'><a name='31_54'>pattern</a></span>: <span class='identifier'><a name='31_63'>pattern</a></span>, <span class='identifier'><a name='31_72'>options</a></span>:<span class='identifier'><a name='31_80'>options</a></span>)
0032                    <span class='identifier'><a name='32_17' href='SwiftRegex.html#16_13' title='s:v7siteifyP33_F2A4F39744594A4732E56F34E53BDDF615swiftRegexCacheGVs10DictionarySSCSo19NSRegularExpression_'>swiftRegexCache</a></span>[<span class='identifier'><a name='32_33'>pattern</a></span>] = <span class='identifier'><a name='32_44'>regex</a></span>
0033                    <span class='keyword'><a name='33_17'>self</a></span>.<span class='identifier'><a name='33_22' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span> = <span class='identifier'><a name='33_30'>regex</a></span>
0034                } <span class='keyword'><a name='34_15'>catch</a></span> <span class='keyword'><a name='34_21'>let</a></span> <span class='identifier'><a name='34_25'>error</a></span> <span class='keyword'><a name='34_31'>as</a></span> <span class='typeidentifier'><a name='34_34' title='c:objc(cs)NSError'>NSError</a></span> {
0035                    <span class='identifier'><a name='35_17' href='SwiftRegex.html#19_14' title='s:C7siteify10SwiftRegex'>SwiftRegex</a></span>.<span class='identifier'><a name='35_28' href='SwiftRegex.html#42_16' title='s:ZFC7siteify10SwiftRegex7failureFSST_'>failure</a></span>(<span class='string'><a name='35_36'>"Error in pattern: </a></span>\<span class='string_interpolation_anchor'><a name='35_56'>(</a></span><span class='identifier'><a name='35_57'>pattern</a></span><span class='string_interpolation_anchor'><a name='35_64'>)</a></span><span class='string'><a name='35_65'> - </a></span>\<span class='string_interpolation_anchor'><a name='35_69'>(</a></span><span class='identifier'><a name='35_70'>error</a></span>.<span class='identifier'><a name='35_76' title='c:objc(cs)NSError(py)localizedDescription'>localizedDescription</a></span><span class='string_interpolation_anchor'><a name='35_96'>)</a></span><span class='string'><a name='35_97'>"</a></span>)
0036                    <span class='keyword'><a name='36_17'>self</a></span>.<span class='identifier'><a name='36_22' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span> = <span class='identifier'><a name='36_30' title='c:objc(cs)NSRegularExpression'>NSRegularExpression</a></span>()
0037                }
0038            }
0039            <span class='keyword'><a name='39_9'>super</a></span>.<span class='keyword'><a name='39_15' title='c:objc(cs)NSObject(im)init'>init</a></span>()
0040        }
0041    
0042        <span class='keyword'><a name='42_5'>class</a></span> <span class='keyword'><a name='42_11'>func</a></span> <span class='identifier'><a name='42_16' href='#' title='s:ZFC7siteify10SwiftRegex7failureFSST_' onclick='return expand(this);'>failure<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#35_28"; return false;'>SwiftRegex.swift:35</td><td><pre>                SwiftRegex.<b title='source.lang.swift.ref.function.method.class'>failure</b>("Error in pattern: \(pattern) - \(error.localizedDescription)")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#53_17"; return false;'>SwiftRegex.swift:53</td><td><pre>                <b title='source.lang.swift.ref.function.method.class'>failure</b>( "Could not load file: \(path), \(error.localizedDescription)" )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#67_17"; return false;'>SwiftRegex.swift:67</td><td><pre>                <b title='source.lang.swift.ref.function.method.class'>failure</b>( "Could not write to file: \(path), \(error.localizedDescription)" )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#141_28"; return false;'>SwiftRegex.swift:141</td><td><pre>                SwiftRegex.<b title='source.lang.swift.ref.function.method.class'>failure</b>("Group modify on non-mutable")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#198_24"; return false;'>SwiftRegex.swift:198</td><td><pre>            SwiftRegex.<b title='source.lang.swift.ref.function.method.class'>failure</b>("Modify on non-mutable")</pre></td></table></span></a></span>( <span class='identifier'><a name='42_25'>message</a></span>: <span class='typeidentifier'><a name='42_34' title='s:SS'>String</a></span> ) {
0043            <span class='identifier'><a name='43_9' title='s:F10Foundation5NSLogFtSSGSaPs11CVarArgType___T_'>NSLog</a></span>( <span class='string'><a name='43_16'>"*** SwiftRegex: </a></span>\<span class='string_interpolation_anchor'><a name='43_34'>(</a></span><span class='identifier'><a name='43_35'>message</a></span><span class='string_interpolation_anchor'><a name='43_42'>)</a></span><span class='string'><a name='43_43'>"</a></span>[<span class='string'><a name='43_45'>"%"</a></span>][<span class='string'><a name='43_50'>"%%"</a></span>] )
0044            <span class='comment'><a name='44_9'>//assert(false,"SwiftRegex: failed")
0045    </a></span>    }
0046    
0047        <span class='builtin'><a name='47_5'>public</a></span> <span class='keyword'><a name='47_12'>class</a></span> <span class='keyword'><a name='47_18'>func</a></span> <span class='identifier'><a name='47_23' href='#' title='s:ZFC7siteify10SwiftRegex8loadFileFTSS5bleatSb_GSQCSo15NSMutableString_' onclick='return expand(this);'>loadFile<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#60_37"; return false;'>SwiftRegex.swift:60</td><td><pre>        let current = force ? nil : <b title='source.lang.swift.ref.function.method.class'>loadFile</b>( path, bleat: false )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#75_23"; return false;'>SwiftRegex.swift:75</td><td><pre>        let patched = <b title='source.lang.swift.ref.function.method.class'>loadFile</b>( path )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#324_31"; return false;'>SwiftRegex.swift:324</td><td><pre>        contents = SwiftRegex.<b title='source.lang.swift.ref.function.method.class'>loadFile</b>( path )</pre></td></table></span></a></span>( <span class='identifier'><a name='47_33'>path</a></span>: <span class='typeidentifier'><a name='47_39' title='s:SS'>String</a></span>, <span class='identifier'><a name='47_47'>bleat</a></span>: <span class='typeidentifier'><a name='47_54' title='s:Sb'>Bool</a></span> = <span class='keyword'><a name='47_61'>true</a></span> ) -> <span class='typeidentifier'><a name='47_71' title='c:objc(cs)NSMutableString'>NSMutableString</a></span>! {
0048            <span class='keyword'><a name='48_9'>do</a></span> {
0049                <span class='keyword'><a name='49_13'>let</a></span> <span class='identifier'><a name='49_17'>string</a></span> = <span class='keyword'><a name='49_26'>try</a></span> <span class='identifier'><a name='49_30' title='c:objc(cs)NSMutableString'>NSMutableString</a></span>( <span class='identifier'><a name='49_47'>contentsOfFile</a></span>: <span class='identifier'><a name='49_63'>path</a></span>, <span class='identifier'><a name='49_69'>encoding</a></span>: <span class='identifier'><a name='49_79' title='s:v10Foundation20NSUTF8StringEncodingSu'>NSUTF8StringEncoding</a></span> )
0050                <span class='keyword'><a name='50_13'>return</a></span> <span class='identifier'><a name='50_20'>string</a></span>
0051            } <span class='keyword'><a name='51_11'>catch</a></span> <span class='keyword'><a name='51_17'>let</a></span> <span class='identifier'><a name='51_21'>error</a></span> <span class='keyword'><a name='51_27'>as</a></span> <span class='typeidentifier'><a name='51_30' title='c:objc(cs)NSError'>NSError</a></span> {
0052                <span class='keyword'><a name='52_13'>if</a></span> <span class='identifier'><a name='52_16'>bleat</a></span> {
0053                    <span class='identifier'><a name='53_17' href='SwiftRegex.html#42_16' title='s:ZFC7siteify10SwiftRegex7failureFSST_'>failure</a></span>( <span class='string'><a name='53_26'>"Could not load file: </a></span>\<span class='string_interpolation_anchor'><a name='53_49'>(</a></span><span class='identifier'><a name='53_50'>path</a></span><span class='string_interpolation_anchor'><a name='53_54'>)</a></span><span class='string'><a name='53_55'>, </a></span>\<span class='string_interpolation_anchor'><a name='53_58'>(</a></span><span class='identifier'><a name='53_59'>error</a></span>.<span class='identifier'><a name='53_65' title='c:objc(cs)NSError(py)localizedDescription'>localizedDescription</a></span><span class='string_interpolation_anchor'><a name='53_85'>)</a></span><span class='string'><a name='53_86'>"</a></span> )
0054                }
0055            }
0056            <span class='keyword'><a name='56_9'>return</a></span> <span class='keyword'><a name='56_16'>nil</a></span>
0057        }
0058    
0059        <span class='builtin'><a name='59_5'>public</a></span> <span class='keyword'><a name='59_12'>class</a></span> <span class='keyword'><a name='59_18'>func</a></span> <span class='identifier'><a name='59_23' href='#' title='s:ZFC7siteify10SwiftRegex8saveFileFTSS11newContentsCSo8NSString5forceSb_Sb' onclick='return expand(this);'>saveFile<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#77_16"; return false;'>SwiftRegex.swift:77</td><td><pre>        return <b title='source.lang.swift.ref.function.method.class'>saveFile</b>( path, newContents: patched )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#334_20"; return false;'>SwiftRegex.swift:334</td><td><pre>        SwiftRegex.<b title='source.lang.swift.ref.function.method.class'>saveFile</b>( filepath, newContents: contents )</pre></td></table></span></a></span>( <span class='identifier'><a name='59_33'>path</a></span>: <span class='typeidentifier'><a name='59_39' title='s:SS'>String</a></span>, <span class='identifier'><a name='59_47'>newContents</a></span>: <span class='typeidentifier'><a name='59_60' title='c:objc(cs)NSString'>NSString</a></span>, <span class='identifier'><a name='59_70'>force</a></span>: <span class='typeidentifier'><a name='59_77' title='s:Sb'>Bool</a></span> = <span class='keyword'><a name='59_84'>false</a></span> ) -> <span class='typeidentifier'><a name='59_95' title='s:Sb'>Bool</a></span> {
0060            <span class='keyword'><a name='60_9'>let</a></span> <span class='identifier'><a name='60_13'>current</a></span> = <span class='identifier'><a name='60_23'>force</a></span> ? <span class='keyword'><a name='60_31'>nil</a></span> : <span class='identifier'><a name='60_37' href='SwiftRegex.html#47_23' title='s:ZFC7siteify10SwiftRegex8loadFileFTSS5bleatSb_GSQCSo15NSMutableString_'>loadFile</a></span>( <span class='identifier'><a name='60_47'>path</a></span>, <span class='identifier'><a name='60_53'>bleat</a></span>: <span class='keyword'><a name='60_60'>false</a></span> )
0061    
0062            <span class='keyword'><a name='62_9'>if</a></span> <span class='identifier'><a name='62_12'>current</a></span> == <span class='keyword'><a name='62_23'>nil</a></span> || <span class='identifier'><a name='62_30'>current</a></span> != <span class='identifier'><a name='62_41'>newContents</a></span> {
0063                <span class='keyword'><a name='63_13'>do</a></span> {
0064                    <span class='keyword'><a name='64_17'>try</a></span> <span class='identifier'><a name='64_21'>newContents</a></span>.<span class='identifier'><a name='64_33' title='c:objc(cs)NSString(im)writeToFile:atomically:encoding:error:'>writeToFile</a></span>( <span class='identifier'><a name='64_46'>path</a></span>, <span class='identifier'><a name='64_52'>atomically</a></span>: <span class='keyword'><a name='64_64'>true</a></span>, <span class='identifier'><a name='64_70'>encoding</a></span>: <span class='identifier'><a name='64_80' title='s:v10Foundation20NSUTF8StringEncodingSu'>NSUTF8StringEncoding</a></span>)
0065                    <span class='keyword'><a name='65_17'>return</a></span> <span class='keyword'><a name='65_24'>true</a></span>
0066                } <span class='keyword'><a name='66_15'>catch</a></span> <span class='keyword'><a name='66_21'>let</a></span> <span class='identifier'><a name='66_25'>error</a></span> <span class='keyword'><a name='66_31'>as</a></span> <span class='typeidentifier'><a name='66_34' title='c:objc(cs)NSError'>NSError</a></span> {
0067                    <span class='identifier'><a name='67_17' href='SwiftRegex.html#42_16' title='s:ZFC7siteify10SwiftRegex7failureFSST_'>failure</a></span>( <span class='string'><a name='67_26'>"Could not write to file: </a></span>\<span class='string_interpolation_anchor'><a name='67_53'>(</a></span><span class='identifier'><a name='67_54'>path</a></span><span class='string_interpolation_anchor'><a name='67_58'>)</a></span><span class='string'><a name='67_59'>, </a></span>\<span class='string_interpolation_anchor'><a name='67_62'>(</a></span><span class='identifier'><a name='67_63'>error</a></span>.<span class='identifier'><a name='67_69' title='c:objc(cs)NSError(py)localizedDescription'>localizedDescription</a></span><span class='string_interpolation_anchor'><a name='67_89'>)</a></span><span class='string'><a name='67_90'>"</a></span> )
0068                }
0069            }
0070    
0071            <span class='keyword'><a name='71_9'>return</a></span> <span class='keyword'><a name='71_16'>false</a></span>
0072        }
0073    
0074        <span class='builtin'><a name='74_5'>public</a></span> <span class='keyword'><a name='74_12'>class</a></span> <span class='keyword'><a name='74_18'>func</a></span> <span class='identifier'><a name='74_23'>patchFile</a></span>( <span class='identifier'><a name='74_34'>path</a></span>: <span class='typeidentifier'><a name='74_40' title='s:SS'>String</a></span>, <span class='identifier'><a name='74_48'>replace</a></span> <span class='identifier'><a name='74_56'>pattern</a></span>: <span class='typeidentifier'><a name='74_65' title='s:SS'>String</a></span>, <span class='identifier'><a name='74_73'>with</a></span> <span class='identifier'><a name='74_78'>template</a></span>: <span class='typeidentifier'><a name='74_88' title='s:SS'>String</a></span> ) -> <span class='typeidentifier'><a name='74_100' title='s:Sb'>Bool</a></span> {
0075            <span class='keyword'><a name='75_9'>let</a></span> <span class='identifier'><a name='75_13'>patched</a></span> = <span class='identifier'><a name='75_23' href='SwiftRegex.html#47_23' title='s:ZFC7siteify10SwiftRegex8loadFileFTSS5bleatSb_GSQCSo15NSMutableString_'>loadFile</a></span>( <span class='identifier'><a name='75_33'>path</a></span> )
0076            <span class='identifier'><a name='76_9'>patched</a></span>[<span class='identifier'><a name='76_17'>pattern</a></span>] ~= <span class='identifier'><a name='76_29'>template</a></span>
0077            <span class='keyword'><a name='77_9'>return</a></span> <span class='identifier'><a name='77_16' href='SwiftRegex.html#59_23' title='s:ZFC7siteify10SwiftRegex8saveFileFTSS11newContentsCSo8NSString5forceSb_Sb'>saveFile</a></span>( <span class='identifier'><a name='77_26'>path</a></span>, <span class='identifier'><a name='77_32'>newContents</a></span>: <span class='identifier'><a name='77_45'>patched</a></span> )
0078        }
0079    
0080        <span class='builtin'><a name='80_5'>final</a></span> <span class='keyword'><a name='80_11'>var</a></span> <span class='identifier'><a name='80_15' href='#' title='s:vC7siteify10SwiftRegex11targetRangeVSC8_NSRange' onclick='return expand(this);'>targetRange<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#97_126"; return false;'>SwiftRegex.swift:97</td><td><pre>        return regex.rangeOfFirstMatchInString( target as String, options: options ?? NSMatchingOptions(rawValue: 0), range: <b title='source.lang.swift.ref.var.instance'>targetRange</b> )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#105_134"; return false;'>SwiftRegex.swift:105</td><td><pre>        return groupsForMatch( regex.firstMatchInString(target as String, options: options ?? NSMatchingOptions(rawValue: 0), range: <b title='source.lang.swift.ref.var.instance'>targetRange</b>) )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#153_116"; return false;'>SwiftRegex.swift:153</td><td><pre>        return regex.matchesInString( target as String, options: options ?? NSMatchingOptions(rawValue: 0), range: <b title='source.lang.swift.ref.var.instance'>targetRange</b> ) as [NSTextCheckingResult]</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#181_107"; return false;'>SwiftRegex.swift:181</td><td><pre>        regex.enumerateMatchesInString( target as String, options: NSMatchingOptions(rawValue: 0), range: <b title='source.lang.swift.ref.var.instance'>targetRange</b> ) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#190_67"; return false;'>SwiftRegex.swift:190</td><td><pre>        out.appendString( substring( NSRange(location:pos, length:<b title='source.lang.swift.ref.var.instance'>targetRange</b>.length-pos) ) )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#206_107"; return false;'>SwiftRegex.swift:206</td><td><pre>        regex.replaceMatchesInString( mutable, options: options ?? NSMatchingOptions(rawValue: 0), range: <b title='source.lang.swift.ref.var.instance'>targetRange</b>, withTemplate: template )</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='80_28' title='c:@T@NSRange'>NSRange</a></span> {
0081            <span class='keyword'><a name='81_9'>return</a></span> <span class='identifier'><a name='81_16' title='s:FVSC8_NSRangecFT8locationSi6lengthSi_S_'>NSRange</a></span>(<span class='identifier'><a name='81_24'>location</a></span>: <span class='number'><a name='81_34'>0</a></span>,<span class='identifier'><a name='81_36'>length</a></span>: <span class='identifier'><a name='81_44' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span>.<span class='identifier'><a name='81_51' title='c:objc(cs)NSString(py)length'>length</a></span>)
0082        }
0083    
0084        <span class='builtin'><a name='84_5'>final</a></span> <span class='keyword'><a name='84_11'>func</a></span> <span class='identifier'><a name='84_16' href='#' title='s:FC7siteify10SwiftRegex9substringFVSC8_NSRangeGSQSS_' onclick='return expand(this);'>substring<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#101_16"; return false;'>SwiftRegex.swift:101</td><td><pre>        return <b title='source.lang.swift.ref.function.method.instance'>substring</b>( range( options ) )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#112_32"; return false;'>SwiftRegex.swift:112</td><td><pre>                if let group = <b title='source.lang.swift.ref.function.method.instance'>substring</b>( match.rangeAtIndex(groupno) ) as String! {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#161_51"; return false;'>SwiftRegex.swift:161</td><td><pre>        return matchResults( options ).map { self.<b title='source.lang.swift.ref.function.method.instance'>substring</b>($0.range) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#171_17"; return false;'>SwiftRegex.swift:171</td><td><pre>            out[<b title='source.lang.swift.ref.function.method.instance'>substring</b>(match.rangeAtIndex(1))] =</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#172_17"; return false;'>SwiftRegex.swift:172</td><td><pre>                <b title='source.lang.swift.ref.function.method.instance'>substring</b>(match.rangeAtIndex(2))</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#185_36"; return false;'>SwiftRegex.swift:185</td><td><pre>            out.appendString( self.<b title='source.lang.swift.ref.function.method.instance'>substring</b>( NSRange(location:pos, length:matchRange.location-pos) ) )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#190_27"; return false;'>SwiftRegex.swift:190</td><td><pre>        out.appendString( <b title='source.lang.swift.ref.function.method.instance'>substring</b>( NSRange(location:pos, length:targetRange.length-pos) ) )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#306_28"; return false;'>SwiftRegex.swift:306</td><td><pre>        return right( left.<b title='source.lang.swift.ref.function.method.instance'>substring</b>(match.range) )</pre></td></table></span></a></span>( <span class='identifier'><a name='84_27'>range</a></span>: <span class='typeidentifier'><a name='84_34' title='c:@T@NSRange'>NSRange</a></span> ) -> <span class='typeidentifier'><a name='84_47' title='s:SS'>String</a></span>! {
0085            <span class='keyword'><a name='85_9'>if</a></span> ( <span class='identifier'><a name='85_14'>range</a></span>.<span class='identifier'><a name='85_20' title='c:@S@_NSRange@FI@location'>location</a></span> != <span class='identifier'><a name='85_32' title='s:v10Foundation10NSNotFoundSi'>NSNotFound</a></span> ) {
0086                <span class='keyword'><a name='86_13'>return</a></span> <span class='identifier'><a name='86_20' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span>.<span class='identifier'><a name='86_27' title='c:objc(cs)NSString(im)substringWithRange:'>substringWithRange</a></span>(<span class='identifier'><a name='86_46'>range</a></span>)
0087            } <span class='keyword'><a name='87_11'>else</a></span> {
0088                <span class='keyword'><a name='88_13'>return</a></span> <span class='keyword'><a name='88_20'>nil</a></span>
0089            }
0090        }
0091    
0092        <span class='builtin'><a name='92_5'>public</a></span> <span class='keyword'><a name='92_12'>func</a></span> <span class='identifier'><a name='92_17' href='#' title='s:FC7siteify10SwiftRegex9doesMatchFTGSqVSC17NSMatchingOptions__Sb' onclick='return expand(this);'>doesMatch<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#236_16"; return false;'>SwiftRegex.swift:236</td><td><pre>        return <b title='source.lang.swift.ref.function.method.instance'>doesMatch</b>()</pre></td></table></span></a></span>( <span class='identifier'><a name='92_28'>options</a></span>: <span class='typeidentifier'><a name='92_37' title='c:@E@NSMatchingOptions'>NSMatchingOptions</a></span>? = <span class='keyword'><a name='92_58'>nil</a></span> ) -> <span class='typeidentifier'><a name='92_67' title='s:Sb'>Bool</a></span> {
0093            <span class='keyword'><a name='93_9'>return</a></span> <span class='identifier'><a name='93_16' href='SwiftRegex.html#96_17' title='s:FC7siteify10SwiftRegex5rangeFTGSqVSC17NSMatchingOptions__VSC8_NSRange'>range</a></span>(<span class='identifier'><a name='93_22'>options</a></span>).<span class='identifier'><a name='93_31' title='c:@S@_NSRange@FI@location'>location</a></span> != <span class='identifier'><a name='93_43' title='s:v10Foundation10NSNotFoundSi'>NSNotFound</a></span>
0094        }
0095    
0096        <span class='builtin'><a name='96_5'>public</a></span> <span class='keyword'><a name='96_12'>func</a></span> <span class='identifier'><a name='96_17' href='#' title='s:FC7siteify10SwiftRegex5rangeFTGSqVSC17NSMatchingOptions__VSC8_NSRange' onclick='return expand(this);'>range<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#93_16"; return false;'>SwiftRegex.swift:93</td><td><pre>        return <b title='source.lang.swift.ref.function.method.instance'>range</b>(options).location != NSNotFound</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#101_27"; return false;'>SwiftRegex.swift:101</td><td><pre>        return substring( <b title='source.lang.swift.ref.function.method.instance'>range</b>( options ) )</pre></td></table></span></a></span>( <span class='identifier'><a name='96_24'>options</a></span>: <span class='typeidentifier'><a name='96_33' title='c:@E@NSMatchingOptions'>NSMatchingOptions</a></span>? = <span class='keyword'><a name='96_54'>nil</a></span> ) -> <span class='typeidentifier'><a name='96_63' title='c:@T@NSRange'>NSRange</a></span> {
0097            <span class='keyword'><a name='97_9'>return</a></span> <span class='identifier'><a name='97_16' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span>.<span class='identifier'><a name='97_22' title='c:objc(cs)NSRegularExpression(im)rangeOfFirstMatchInString:options:range:'>rangeOfFirstMatchInString</a></span>( <span class='identifier'><a name='97_49' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> <span class='keyword'><a name='97_56'>as</a></span> <span class='typeidentifier'><a name='97_59' title='s:SS'>String</a></span>, <span class='identifier'><a name='97_67'>options</a></span>: <span class='identifier'><a name='97_76'>options</a></span> ?? <span class='identifier'><a name='97_87' title='s:FVSC17NSMatchingOptionscFT8rawValueSu_S_'>NSMatchingOptions</a></span>(<span class='identifier'><a name='97_105'>rawValue</a></span>: <span class='number'><a name='97_115'>0</a></span>), <span class='identifier'><a name='97_119'>range</a></span>: <span class='identifier'><a name='97_126' href='SwiftRegex.html#80_15' title='s:vC7siteify10SwiftRegex11targetRangeVSC8_NSRange'>targetRange</a></span> )
0098        }
0099    
0100        <span class='builtin'><a name='100_5'>public</a></span> <span class='keyword'><a name='100_12'>func</a></span> <span class='identifier'><a name='100_17'>match</a></span>( <span class='identifier'><a name='100_24'>options</a></span>: <span class='typeidentifier'><a name='100_33' title='c:@E@NSMatchingOptions'>NSMatchingOptions</a></span>? = <span class='keyword'><a name='100_54'>nil</a></span> ) -> <span class='typeidentifier'><a name='100_63' title='s:SS'>String</a></span>! {
0101            <span class='keyword'><a name='101_9'>return</a></span> <span class='identifier'><a name='101_16' href='SwiftRegex.html#84_16' title='s:FC7siteify10SwiftRegex9substringFVSC8_NSRangeGSQSS_'>substring</a></span>( <span class='identifier'><a name='101_27' href='SwiftRegex.html#96_17' title='s:FC7siteify10SwiftRegex5rangeFTGSqVSC17NSMatchingOptions__VSC8_NSRange'>range</a></span>( <span class='identifier'><a name='101_34'>options</a></span> ) )
0102        }
0103    
0104        <span class='builtin'><a name='104_5'>public</a></span> <span class='keyword'><a name='104_12'>func</a></span> <span class='identifier'><a name='104_17' href='#' title='s:FC7siteify10SwiftRegex6groupsFTGSqVSC17NSMatchingOptions__GSQGSaSS__' onclick='return expand(this);'>groups<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#126_29"; return false;'>SwiftRegex.swift:126</td><td><pre>            if let groups = <b title='source.lang.swift.ref.function.method.instance'>groups</b>() {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#272_64"; return false;'>SwiftRegex.swift:272</td><td><pre>    if let groups = SwiftRegex( target: right, pattern: left ).<b title='source.lang.swift.ref.function.method.instance'>groups</b>() {</pre></td></table></span></a></span>( <span class='identifier'><a name='104_25'>options</a></span>: <span class='typeidentifier'><a name='104_34' title='c:@E@NSMatchingOptions'>NSMatchingOptions</a></span>? = <span class='keyword'><a name='104_55'>nil</a></span> ) -> [<span class='typeidentifier'><a name='104_65' title='s:SS'>String</a></span>]! {
0105            <span class='keyword'><a name='105_9'>return</a></span> <span class='identifier'><a name='105_16' href='SwiftRegex.html#108_10' title='s:FC7siteify10SwiftRegex14groupsForMatchFGSQCSo20NSTextCheckingResult_GSQGSaSS__'>groupsForMatch</a></span>( <span class='identifier'><a name='105_32' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span>.<span class='identifier'><a name='105_38' title='c:objc(cs)NSRegularExpression(im)firstMatchInString:options:range:'>firstMatchInString</a></span>(<span class='identifier'><a name='105_57' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> <span class='keyword'><a name='105_64'>as</a></span> <span class='typeidentifier'><a name='105_67' title='s:SS'>String</a></span>, <span class='identifier'><a name='105_75'>options</a></span>: <span class='identifier'><a name='105_84'>options</a></span> ?? <span class='identifier'><a name='105_95' title='s:FVSC17NSMatchingOptionscFT8rawValueSu_S_'>NSMatchingOptions</a></span>(<span class='identifier'><a name='105_113'>rawValue</a></span>: <span class='number'><a name='105_123'>0</a></span>), <span class='identifier'><a name='105_127'>range</a></span>: <span class='identifier'><a name='105_134' href='SwiftRegex.html#80_15' title='s:vC7siteify10SwiftRegex11targetRangeVSC8_NSRange'>targetRange</a></span>) )
0106        }
0107    
0108        <span class='keyword'><a name='108_5'>func</a></span> <span class='identifier'><a name='108_10' href='#' title='s:FC7siteify10SwiftRegex14groupsForMatchFGSQCSo20NSTextCheckingResult_GSQGSaSS__' onclick='return expand(this);'>groupsForMatch<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#105_16"; return false;'>SwiftRegex.swift:105</td><td><pre>        return <b title='source.lang.swift.ref.function.method.instance'>groupsForMatch</b>( regex.firstMatchInString(target as String, options: options ?? NSMatchingOptions(rawValue: 0), range: targetRange) )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#165_51"; return false;'>SwiftRegex.swift:165</td><td><pre>        return matchResults( options ).map { self.<b title='source.lang.swift.ref.function.method.instance'>groupsForMatch</b>($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#313_28"; return false;'>SwiftRegex.swift:313</td><td><pre>        return right( left.<b title='source.lang.swift.ref.function.method.instance'>groupsForMatch</b>(match) )</pre></td></table></span></a></span>( <span class='identifier'><a name='108_26'>match</a></span>: <span class='typeidentifier'><a name='108_33' title='c:objc(cs)NSTextCheckingResult'>NSTextCheckingResult</a></span>! ) -> [<span class='typeidentifier'><a name='108_61' title='s:SS'>String</a></span>]! {
0109            <span class='keyword'><a name='109_9'>if</a></span> <span class='identifier'><a name='109_12'>match</a></span> != <span class='keyword'><a name='109_21'>nil</a></span> {
0110                <span class='keyword'><a name='110_13'>var</a></span> <span class='identifier'><a name='110_17'>groups</a></span> = [<span class='identifier'><a name='110_27' title='s:SS'>String</a></span>]()
0111                <span class='keyword'><a name='111_13'>for</a></span> <span class='identifier'><a name='111_17'>groupno</a></span> <span class='keyword'><a name='111_25'>in</a></span> <span class='number'><a name='111_28'>0</a></span>...<span class='identifier'><a name='111_32' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span>.<span class='identifier'><a name='111_38' title='c:objc(cs)NSRegularExpression(py)numberOfCaptureGroups'>numberOfCaptureGroups</a></span> {
0112                    <span class='keyword'><a name='112_17'>if</a></span> <span class='keyword'><a name='112_20'>let</a></span> <span class='identifier'><a name='112_24'>group</a></span> = <span class='identifier'><a name='112_32' href='SwiftRegex.html#84_16' title='s:FC7siteify10SwiftRegex9substringFVSC8_NSRangeGSQSS_'>substring</a></span>( <span class='identifier'><a name='112_43'>match</a></span>.<span class='identifier'><a name='112_49' title='c:objc(cs)NSTextCheckingResult(im)rangeAtIndex:'>rangeAtIndex</a></span>(<span class='identifier'><a name='112_62'>groupno</a></span>) ) <span class='keyword'><a name='112_73'>as</a></span> <span class='typeidentifier'><a name='112_76' title='s:SS'>String</a></span>! {
0113                        <span class='identifier'><a name='113_21'>groups</a></span>.<span class='identifier'><a name='113_28' title='s:FSa6appendFxT_'>append</a></span>( <span class='identifier'><a name='113_36'>group</a></span> )
0114                    } <span class='keyword'><a name='114_19'>else</a></span> {
0115                        <span class='identifier'><a name='115_21'>groups</a></span>.<span class='identifier'><a name='115_28' title='s:FSa6appendFxT_'>append</a></span>( <span class='identifier'><a name='115_36' href='SwiftRegex.html#17_12' title='s:v7siteify12regexNoGroupSS'>regexNoGroup</a></span> ) <span class='comment'><a name='115_51'>// avoids bridging problems
0116    </a></span>                }
0117                }
0118                <span class='keyword'><a name='118_13'>return</a></span> <span class='identifier'><a name='118_20'>groups</a></span>
0119            } <span class='keyword'><a name='119_11'>else</a></span> {
0120                <span class='keyword'><a name='120_13'>return</a></span> <span class='keyword'><a name='120_20'>nil</a></span>
0121            }
0122        }
0123    
0124        <span class='builtin'><a name='124_5'>public</a></span> <span class='keyword'><a name='124_12' href='#' title='s:iC7siteify10SwiftRegex9subscriptFSiGSQSS_' onclick='return expand(this);'>subscript<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#90_72"; event.stopPropagation(); return false;'>main.swift:90</td><td><pre>    if storingLog == nil, let symroot = line["^    SYMROOT = ([^\n]+)"]<b title='source.lang.swift.ref.function.subscript'></b>[1] where !filemgr.fileExistsAtPath( symroot ) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#98_27"; event.stopPropagation(); return false;'>main.swift:98</td><td><pre>    if let primary = regex<b title='source.lang.swift.ref.function.subscript'></b>[1] ?? regex[2] {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#98_39"; event.stopPropagation(); return false;'>main.swift:98</td><td><pre>    if let primary = regex[1] ?? regex<b title='source.lang.swift.ref.function.subscript'></b>[2] {</pre></td></table></span></a></span>( <span class='identifier'><a name='124_23'>groupno</a></span>: <span class='typeidentifier'><a name='124_32'>Int</a></span> ) -> <span class='typeidentifier'><a name='124_41'>String</a></span>! {
0125            <span class='keyword'><a name='125_9'>get</a></span> {
0126                <span class='keyword'><a name='126_13'>if</a></span> <span class='keyword'><a name='126_16'>let</a></span> <span class='identifier'><a name='126_20'>groups</a></span> = <span class='identifier'><a name='126_29' href='SwiftRegex.html#104_17' title='s:FC7siteify10SwiftRegex6groupsFTGSqVSC17NSMatchingOptions__GSQGSaSS__'>groups</a></span>() {
0127                    <span class='keyword'><a name='127_17'>let</a></span> <span class='identifier'><a name='127_21'>group</a></span> = <span class='identifier'><a name='127_29'>groups</a></span>[<span class='identifier'><a name='127_36'>groupno</a></span>]
0128                    <span class='keyword'><a name='128_17'>return</a></span> <span class='identifier'><a name='128_24'>group</a></span> != <span class='identifier'><a name='128_33' href='SwiftRegex.html#17_12' title='s:v7siteify12regexNoGroupSS'>regexNoGroup</a></span> ? <span class='identifier'><a name='128_48'>group</a></span> : <span class='keyword'><a name='128_56'>nil</a></span>
0129                } <span class='keyword'><a name='129_15'>else</a></span> {
0130                    <span class='keyword'><a name='130_17'>return</a></span> <span class='keyword'><a name='130_24'>nil</a></span>
0131                }
0132            }
0133            <span class='keyword'><a name='133_9'>set</a></span>( <span class='identifier'><a name='133_14'>newValue</a></span> ) {
0134                <span class='keyword'><a name='134_13'>if</a></span> <span class='keyword'><a name='134_16'>let</a></span> <span class='identifier'><a name='134_20'>mutableTarget</a></span> = <span class='identifier'><a name='134_36' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> <span class='keyword'><a name='134_43'>as</a></span>? <span class='typeidentifier'><a name='134_47' title='c:objc(cs)NSMutableString'>NSMutableString</a></span> {
0135                    <span class='keyword'><a name='135_17'>for</a></span> <span class='identifier'><a name='135_21'>match</a></span> <span class='keyword'><a name='135_27'>in</a></span> <span class='identifier'><a name='135_30' title='s:FSacuRd__s12SequenceTypexzWd__9Generator7Element_rFqd__GSax_'>Array</a></span>(<span class='identifier'><a name='135_36' href='SwiftRegex.html#152_10' title='s:FC7siteify10SwiftRegex12matchResultsFTGSqVSC17NSMatchingOptions__GSaCSo20NSTextCheckingResult_'>matchResults</a></span>().<span class='identifier'><a name='135_51' title='s:FesRxs14CollectionTypewx5Indexs21RandomAccessIndexTyperS_7reverseFT_GVs29ReverseRandomAccessCollectionx_'>reverse</a></span>()) {
0136                        <span class='keyword'><a name='136_21'>let</a></span> <span class='identifier'><a name='136_25'>replacement</a></span> = <span class='identifier'><a name='136_39' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span>.<span class='identifier'><a name='136_45' title='c:objc(cs)NSRegularExpression(im)replacementStringForResult:inString:offset:template:'>replacementStringForResult</a></span>( <span class='identifier'><a name='136_73'>match</a></span>,
0137                            <span class='identifier'><a name='137_25'>inString</a></span>: <span class='identifier'><a name='137_35' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> <span class='keyword'><a name='137_42'>as</a></span> <span class='typeidentifier'><a name='137_45' title='s:SS'>String</a></span>, <span class='identifier'><a name='137_53'>offset</a></span>: <span class='number'><a name='137_61'>0</a></span>, <span class='identifier'><a name='137_64'>template</a></span>: <span class='identifier'><a name='137_74'>newValue</a></span> )
0138                        <span class='identifier'><a name='138_21'>mutableTarget</a></span>.<span class='identifier'><a name='138_35' title='c:objc(cs)NSMutableString(im)replaceCharactersInRange:withString:'>replaceCharactersInRange</a></span>( <span class='identifier'><a name='138_61'>match</a></span>.<span class='identifier'><a name='138_67' title='c:objc(cs)NSTextCheckingResult(im)rangeAtIndex:'>rangeAtIndex</a></span>(<span class='identifier'><a name='138_80'>groupno</a></span>), <span class='identifier'><a name='138_90'>withString</a></span>: <span class='identifier'><a name='138_102'>replacement</a></span> )
0139                    }
0140                } <span class='keyword'><a name='140_15'>else</a></span> {
0141                    <span class='identifier'><a name='141_17' href='SwiftRegex.html#19_14' title='s:C7siteify10SwiftRegex'>SwiftRegex</a></span>.<span class='identifier'><a name='141_28' href='SwiftRegex.html#42_16' title='s:ZFC7siteify10SwiftRegex7failureFSST_'>failure</a></span>(<span class='string'><a name='141_36'>"Group modify on non-mutable"</a></span>)
0142                }
0143            }
0144        }
0145    
0146        <span class='builtin'><a name='146_5'>public</a></span> <span class='keyword'><a name='146_12' href='#' title='s:iC7siteify10SwiftRegex9subscriptFSSSS' onclick='return expand(this);'>subscript<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#43_49"; return false;'>SwiftRegex.swift:43</td><td><pre>        NSLog( "*** SwiftRegex: \(message)"["%"]<b title='source.lang.swift.ref.function.subscript'></b>["%%"] )</pre></td></table></span></a></span>( <span class='identifier'><a name='146_23'>template</a></span>: <span class='typeidentifier'><a name='146_33'>String</a></span> ) -> <span class='typeidentifier'><a name='146_45'>String</a></span> {
0147            <span class='keyword'><a name='147_9'>get</a></span> {
0148                <span class='keyword'><a name='148_13'>return</a></span> <span class='identifier'><a name='148_20' href='SwiftRegex.html#204_10' title='s:FC7siteify10SwiftRegex11replaceWithFTSS7optionsGSqVSC17NSMatchingOptions__CSo15NSMutableString'>replaceWith</a></span>( <span class='identifier'><a name='148_33'>template</a></span> ) <span class='keyword'><a name='148_44'>as</a></span> <span class='typeidentifier'><a name='148_47' title='s:SS'>String</a></span>
0149            }
0150        }
0151    
0152        <span class='keyword'><a name='152_5'>func</a></span> <span class='identifier'><a name='152_10' href='#' title='s:FC7siteify10SwiftRegex12matchResultsFTGSqVSC17NSMatchingOptions__GSaCSo20NSTextCheckingResult_' onclick='return expand(this);'>matchResults<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#135_36"; return false;'>SwiftRegex.swift:135</td><td><pre>                for match in Array(<b title='source.lang.swift.ref.function.method.instance'>matchResults</b>().reverse()) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#157_16"; return false;'>SwiftRegex.swift:157</td><td><pre>        return <b title='source.lang.swift.ref.function.method.instance'>matchResults</b>( options ).map { $0.range }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#161_16"; return false;'>SwiftRegex.swift:161</td><td><pre>        return <b title='source.lang.swift.ref.function.method.instance'>matchResults</b>( options ).map { self.substring($0.range) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#165_16"; return false;'>SwiftRegex.swift:165</td><td><pre>        return <b title='source.lang.swift.ref.function.method.instance'>matchResults</b>( options ).map { self.groupsForMatch($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#170_22"; return false;'>SwiftRegex.swift:170</td><td><pre>        for match in <b title='source.lang.swift.ref.function.method.instance'>matchResults</b>(options) {</pre></td></table></span></a></span>( <span class='identifier'><a name='152_24'>options</a></span>: <span class='typeidentifier'><a name='152_33' title='c:@E@NSMatchingOptions'>NSMatchingOptions</a></span>? = <span class='keyword'><a name='152_54'>nil</a></span> ) -> [<span class='typeidentifier'><a name='152_64' title='c:objc(cs)NSTextCheckingResult'>NSTextCheckingResult</a></span>] {
0153            <span class='keyword'><a name='153_9'>return</a></span> <span class='identifier'><a name='153_16' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span>.<span class='identifier'><a name='153_22' title='c:objc(cs)NSRegularExpression(im)matchesInString:options:range:'>matchesInString</a></span>( <span class='identifier'><a name='153_39' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> <span class='keyword'><a name='153_46'>as</a></span> <span class='typeidentifier'><a name='153_49' title='s:SS'>String</a></span>, <span class='identifier'><a name='153_57'>options</a></span>: <span class='identifier'><a name='153_66'>options</a></span> ?? <span class='identifier'><a name='153_77' title='s:FVSC17NSMatchingOptionscFT8rawValueSu_S_'>NSMatchingOptions</a></span>(<span class='identifier'><a name='153_95'>rawValue</a></span>: <span class='number'><a name='153_105'>0</a></span>), <span class='identifier'><a name='153_109'>range</a></span>: <span class='identifier'><a name='153_116' href='SwiftRegex.html#80_15' title='s:vC7siteify10SwiftRegex11targetRangeVSC8_NSRange'>targetRange</a></span> ) <span class='keyword'><a name='153_130'>as</a></span> [<span class='typeidentifier'><a name='153_134' title='c:objc(cs)NSTextCheckingResult'>NSTextCheckingResult</a></span>]
0154        }
0155    
0156        <span class='builtin'><a name='156_5'>public</a></span> <span class='keyword'><a name='156_12'>func</a></span> <span class='identifier'><a name='156_17'>ranges</a></span>( <span class='identifier'><a name='156_25'>options</a></span>: <span class='typeidentifier'><a name='156_34' title='c:@E@NSMatchingOptions'>NSMatchingOptions</a></span>? = <span class='keyword'><a name='156_55'>nil</a></span> ) -> [<span class='typeidentifier'><a name='156_65' title='c:@T@NSRange'>NSRange</a></span>] {
0157            <span class='keyword'><a name='157_9'>return</a></span> <span class='identifier'><a name='157_16' href='SwiftRegex.html#152_10' title='s:FC7siteify10SwiftRegex12matchResultsFTGSqVSC17NSMatchingOptions__GSaCSo20NSTextCheckingResult_'>matchResults</a></span>( <span class='identifier'><a name='157_30'>options</a></span> ).<span class='identifier'><a name='157_40' title='s:FEsPs14CollectionType3mapurFzFzWx9Generator7Element_qd__GSaqd___'>map</a></span> { <span class='identifier'><a name='157_46'>$0</a></span>.<span class='identifier'><a name='157_49' title='c:objc(cs)NSTextCheckingResult(py)range'>range</a></span> }
0158        }
0159    
0160        <span class='builtin'><a name='160_5'>public</a></span> <span class='keyword'><a name='160_12'>func</a></span> <span class='identifier'><a name='160_17'>matches</a></span>( <span class='identifier'><a name='160_26'>options</a></span>: <span class='typeidentifier'><a name='160_35' title='c:@E@NSMatchingOptions'>NSMatchingOptions</a></span>? = <span class='keyword'><a name='160_56'>nil</a></span> ) -> [<span class='typeidentifier'><a name='160_66' title='s:SS'>String</a></span>] {
0161            <span class='keyword'><a name='161_9'>return</a></span> <span class='identifier'><a name='161_16' href='SwiftRegex.html#152_10' title='s:FC7siteify10SwiftRegex12matchResultsFTGSqVSC17NSMatchingOptions__GSaCSo20NSTextCheckingResult_'>matchResults</a></span>( <span class='identifier'><a name='161_30'>options</a></span> ).<span class='identifier'><a name='161_40' title='s:FEsPs14CollectionType3mapurFzFzWx9Generator7Element_qd__GSaqd___'>map</a></span> { <span class='keyword'><a name='161_46'>self</a></span>.<span class='identifier'><a name='161_51' href='SwiftRegex.html#84_16' title='s:FC7siteify10SwiftRegex9substringFVSC8_NSRangeGSQSS_'>substring</a></span>(<span class='identifier'><a name='161_61'>$0</a></span>.<span class='identifier'><a name='161_64' title='c:objc(cs)NSTextCheckingResult(py)range'>range</a></span>) }
0162        }
0163    
0164        <span class='builtin'><a name='164_5'>public</a></span> <span class='keyword'><a name='164_12'>func</a></span> <span class='identifier'><a name='164_17'>allGroups</a></span>( <span class='identifier'><a name='164_28'>options</a></span>: <span class='typeidentifier'><a name='164_37' title='c:@E@NSMatchingOptions'>NSMatchingOptions</a></span>? = <span class='keyword'><a name='164_58'>nil</a></span> ) -> [[<span class='typeidentifier'><a name='164_69' title='s:SS'>String</a></span>]] {
0165            <span class='keyword'><a name='165_9'>return</a></span> <span class='identifier'><a name='165_16' href='SwiftRegex.html#152_10' title='s:FC7siteify10SwiftRegex12matchResultsFTGSqVSC17NSMatchingOptions__GSaCSo20NSTextCheckingResult_'>matchResults</a></span>( <span class='identifier'><a name='165_30'>options</a></span> ).<span class='identifier'><a name='165_40' title='s:FEsPs14CollectionType3mapurFzFzWx9Generator7Element_qd__GSaqd___'>map</a></span> { <span class='keyword'><a name='165_46'>self</a></span>.<span class='identifier'><a name='165_51' href='SwiftRegex.html#108_10' title='s:FC7siteify10SwiftRegex14groupsForMatchFGSQCSo20NSTextCheckingResult_GSQGSaSS__'>groupsForMatch</a></span>(<span class='identifier'><a name='165_66'>$0</a></span>) }
0166        }
0167    
0168        <span class='builtin'><a name='168_5'>public</a></span> <span class='keyword'><a name='168_12'>func</a></span> <span class='identifier'><a name='168_17'>dictionary</a></span>( <span class='identifier'><a name='168_29'>options</a></span>: <span class='typeidentifier'><a name='168_38' title='c:@E@NSMatchingOptions'>NSMatchingOptions</a></span>? = <span class='keyword'><a name='168_59'>nil</a></span> ) -> <span class='typeidentifier'><a name='168_68' title='s:Vs10Dictionary'>Dictionary</a></span>&lt;<span class='typeidentifier'><a name='168_79' title='s:SS'>String</a></span>,<span class='typeidentifier'><a name='168_86' title='s:SS'>String</a></span>> {
0169            <span class='keyword'><a name='169_9'>var</a></span> <span class='identifier'><a name='169_13'>out</a></span> = <span class='identifier'><a name='169_19' title='s:Vs10Dictionary'>Dictionary</a></span>&lt;<span class='typeidentifier'><a name='169_30' title='s:SS'>String</a></span>,<span class='typeidentifier'><a name='169_37' title='s:SS'>String</a></span>>()
0170            <span class='keyword'><a name='170_9'>for</a></span> <span class='identifier'><a name='170_13'>match</a></span> <span class='keyword'><a name='170_19'>in</a></span> <span class='identifier'><a name='170_22' href='SwiftRegex.html#152_10' title='s:FC7siteify10SwiftRegex12matchResultsFTGSqVSC17NSMatchingOptions__GSaCSo20NSTextCheckingResult_'>matchResults</a></span>(<span class='identifier'><a name='170_35'>options</a></span>) {
0171                <span class='identifier'><a name='171_13'>out</a></span>[<span class='identifier'><a name='171_17' href='SwiftRegex.html#84_16' title='s:FC7siteify10SwiftRegex9substringFVSC8_NSRangeGSQSS_'>substring</a></span>(<span class='identifier'><a name='171_27'>match</a></span>.<span class='identifier'><a name='171_33' title='c:objc(cs)NSTextCheckingResult(im)rangeAtIndex:'>rangeAtIndex</a></span>(<span class='number'><a name='171_46'>1</a></span>))] =
0172                    <span class='identifier'><a name='172_17' href='SwiftRegex.html#84_16' title='s:FC7siteify10SwiftRegex9substringFVSC8_NSRangeGSQSS_'>substring</a></span>(<span class='identifier'><a name='172_27'>match</a></span>.<span class='identifier'><a name='172_33' title='c:objc(cs)NSTextCheckingResult(im)rangeAtIndex:'>rangeAtIndex</a></span>(<span class='number'><a name='172_46'>2</a></span>))
0173            }
0174            <span class='keyword'><a name='174_9'>return</a></span> <span class='identifier'><a name='174_16'>out</a></span>
0175        }
0176    
0177        <span class='keyword'><a name='177_5'>func</a></span> <span class='identifier'><a name='177_10' href='#' title='s:FC7siteify10SwiftRegex17substituteMatchesFFTCSo20NSTextCheckingResultGSpV10ObjectiveC8ObjCBool__SSSb' onclick='return expand(this);'>substituteMatches<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#281_17"; return false;'>SwiftRegex.swift:281</td><td><pre>    return left.<b title='source.lang.swift.ref.function.method.instance'>substituteMatches</b>( {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#290_17"; return false;'>SwiftRegex.swift:290</td><td><pre>    return left.<b title='source.lang.swift.ref.function.method.instance'>substituteMatches</b>( {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#304_17"; return false;'>SwiftRegex.swift:304</td><td><pre>    return left.<b title='source.lang.swift.ref.function.method.instance'>substituteMatches</b>( {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#311_17"; return false;'>SwiftRegex.swift:311</td><td><pre>    return left.<b title='source.lang.swift.ref.function.method.instance'>substituteMatches</b>( {</pre></td></table></span></a></span>( <span class='identifier'><a name='177_29'>substitution</a></span>: (<span class='typeidentifier'><a name='177_44' title='c:objc(cs)NSTextCheckingResult'>NSTextCheckingResult</a></span>, <span class='typeidentifier'><a name='177_66' title='s:Sp'>UnsafeMutablePointer</a></span>&lt;<span class='typeidentifier'><a name='177_87' title='s:V10ObjectiveC8ObjCBool'>ObjCBool</a></span>>) -> <span class='typeidentifier'><a name='177_101' title='s:SS'>String</a></span> ) -> <span class='typeidentifier'><a name='177_113' title='s:Sb'>Bool</a></span> {
0178            <span class='keyword'><a name='178_9'>let</a></span> <span class='identifier'><a name='178_13'>out</a></span> = <span class='identifier'><a name='178_19' title='c:objc(cs)NSMutableString'>NSMutableString</a></span>()
0179            <span class='keyword'><a name='179_9'>var</a></span> <span class='identifier'><a name='179_13'>pos</a></span> = <span class='number'><a name='179_19'>0</a></span>
0180    
0181            <span class='identifier'><a name='181_9' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span>.<span class='identifier'><a name='181_15' title='c:objc(cs)NSRegularExpression(im)enumerateMatchesInString:options:range:usingBlock:'>enumerateMatchesInString</a></span>( <span class='identifier'><a name='181_41' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> <span class='keyword'><a name='181_48'>as</a></span> <span class='typeidentifier'><a name='181_51' title='s:SS'>String</a></span>, <span class='identifier'><a name='181_59'>options</a></span>: <span class='identifier'><a name='181_68' title='s:FVSC17NSMatchingOptionscFT8rawValueSu_S_'>NSMatchingOptions</a></span>(<span class='identifier'><a name='181_86'>rawValue</a></span>: <span class='number'><a name='181_96'>0</a></span>), <span class='identifier'><a name='181_100'>range</a></span>: <span class='identifier'><a name='181_107' href='SwiftRegex.html#80_15' title='s:vC7siteify10SwiftRegex11targetRangeVSC8_NSRange'>targetRange</a></span> ) {
0182                (<span class='identifier'><a name='182_14'>match</a></span>: <span class='typeidentifier'><a name='182_21' title='c:objc(cs)NSTextCheckingResult'>NSTextCheckingResult</a></span>?, <span class='identifier'><a name='182_44'>flags</a></span>: <span class='typeidentifier'><a name='182_51' title='c:@E@NSMatchingFlags'>NSMatchingFlags</a></span>, <span class='identifier'><a name='182_68'>stop</a></span>: <span class='typeidentifier'><a name='182_74' title='s:Sp'>UnsafeMutablePointer</a></span>&lt;<span class='typeidentifier'><a name='182_95' title='s:V10ObjectiveC8ObjCBool'>ObjCBool</a></span>>) <span class='keyword'><a name='182_106'>in</a></span>
0183    
0184                <span class='keyword'><a name='184_13'>let</a></span> <span class='identifier'><a name='184_17'>matchRange</a></span> = <span class='identifier'><a name='184_30'>match</a></span>!.<span class='identifier'><a name='184_37' title='c:objc(cs)NSTextCheckingResult(py)range'>range</a></span>
0185                <span class='identifier'><a name='185_13'>out</a></span>.<span class='identifier'><a name='185_17' title='c:objc(cs)NSMutableString(im)appendString:'>appendString</a></span>( <span class='keyword'><a name='185_31'>self</a></span>.<span class='identifier'><a name='185_36' href='SwiftRegex.html#84_16' title='s:FC7siteify10SwiftRegex9substringFVSC8_NSRangeGSQSS_'>substring</a></span>( <span class='identifier'><a name='185_47' title='s:FVSC8_NSRangecFT8locationSi6lengthSi_S_'>NSRange</a></span>(<span class='identifier'><a name='185_55'>location</a></span>:<span class='identifier'><a name='185_64'>pos</a></span>, <span class='identifier'><a name='185_69'>length</a></span>:<span class='identifier'><a name='185_76'>matchRange</a></span>.<span class='identifier'><a name='185_87' title='c:@S@_NSRange@FI@location'>location</a></span>-<span class='identifier'><a name='185_96'>pos</a></span>) ) )
0186                <span class='identifier'><a name='186_13'>out</a></span>.<span class='identifier'><a name='186_17' title='c:objc(cs)NSMutableString(im)appendString:'>appendString</a></span>( <span class='identifier'><a name='186_31'>substitution</a></span>(<span class='identifier'><a name='186_44'>match</a></span>!, <span class='identifier'><a name='186_52'>stop</a></span>) )
0187                <span class='identifier'><a name='187_13'>pos</a></span> = <span class='identifier'><a name='187_19'>matchRange</a></span>.<span class='identifier'><a name='187_30' title='c:@S@_NSRange@FI@location'>location</a></span> + <span class='identifier'><a name='187_41'>matchRange</a></span>.<span class='identifier'><a name='187_52' title='c:@S@_NSRange@FI@length'>length</a></span>
0188            }
0189    
0190            <span class='identifier'><a name='190_9'>out</a></span>.<span class='identifier'><a name='190_13' title='c:objc(cs)NSMutableString(im)appendString:'>appendString</a></span>( <span class='identifier'><a name='190_27' href='SwiftRegex.html#84_16' title='s:FC7siteify10SwiftRegex9substringFVSC8_NSRangeGSQSS_'>substring</a></span>( <span class='identifier'><a name='190_38' title='s:FVSC8_NSRangecFT8locationSi6lengthSi_S_'>NSRange</a></span>(<span class='identifier'><a name='190_46'>location</a></span>:<span class='identifier'><a name='190_55'>pos</a></span>, <span class='identifier'><a name='190_60'>length</a></span>:<span class='identifier'><a name='190_67' href='SwiftRegex.html#80_15' title='s:vC7siteify10SwiftRegex11targetRangeVSC8_NSRange'>targetRange</a></span>.<span class='identifier'><a name='190_79' title='c:@S@_NSRange@FI@length'>length</a></span>-<span class='identifier'><a name='190_86'>pos</a></span>) ) )
0191    
0192            <span class='keyword'><a name='192_9'>if</a></span> <span class='keyword'><a name='192_12'>let</a></span> <span class='identifier'><a name='192_16'>mutableTarget</a></span> = <span class='identifier'><a name='192_32' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> <span class='keyword'><a name='192_39'>as</a></span>? <span class='typeidentifier'><a name='192_43' title='c:objc(cs)NSMutableString'>NSMutableString</a></span> {
0193                <span class='keyword'><a name='193_13'>if</a></span> <span class='identifier'><a name='193_16'>out</a></span> != <span class='identifier'><a name='193_23' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> {
0194                    <span class='identifier'><a name='194_17'>mutableTarget</a></span>.<span class='identifier'><a name='194_31' title='c:objc(cs)NSMutableString(im)setString:'>setString</a></span>(<span class='identifier'><a name='194_41'>out</a></span> <span class='keyword'><a name='194_45'>as</a></span> <span class='typeidentifier'><a name='194_48' title='s:SS'>String</a></span>)
0195                    <span class='keyword'><a name='195_17'>return</a></span> <span class='keyword'><a name='195_24'>true</a></span>
0196                }
0197            } <span class='keyword'><a name='197_11'>else</a></span> {
0198                <span class='identifier'><a name='198_13' href='SwiftRegex.html#19_14' title='s:C7siteify10SwiftRegex'>SwiftRegex</a></span>.<span class='identifier'><a name='198_24' href='SwiftRegex.html#42_16' title='s:ZFC7siteify10SwiftRegex7failureFSST_'>failure</a></span>(<span class='string'><a name='198_32'>"Modify on non-mutable"</a></span>)
0199            }
0200            <span class='keyword'><a name='200_9'>return</a></span> <span class='keyword'><a name='200_16'>false</a></span>
0201    
0202        }
0203    
0204        <span class='keyword'><a name='204_5'>func</a></span> <span class='identifier'><a name='204_10' href='#' title='s:FC7siteify10SwiftRegex11replaceWithFTSS7optionsGSqVSC17NSMatchingOptions__CSo15NSMutableString' onclick='return expand(this);'>replaceWith<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#148_20"; return false;'>SwiftRegex.swift:148</td><td><pre>            return <b title='source.lang.swift.ref.function.method.instance'>replaceWith</b>( template ) as String</pre></td></table></span></a></span>( <span class='identifier'><a name='204_23'>template</a></span>: <span class='typeidentifier'><a name='204_33' title='s:SS'>String</a></span>, <span class='identifier'><a name='204_41'>options</a></span>: <span class='typeidentifier'><a name='204_50' title='c:@E@NSMatchingOptions'>NSMatchingOptions</a></span>? = <span class='keyword'><a name='204_71'>nil</a></span> ) -> <span class='typeidentifier'><a name='204_80' title='c:objc(cs)NSMutableString'>NSMutableString</a></span> {
0205            <span class='keyword'><a name='205_9'>let</a></span> <span class='identifier'><a name='205_13'>mutable</a></span> = <span class='comment'><a name='205_23'>/*target as? NSMutableString ??*/</a></span> <span class='identifier'><a name='205_57' href='SwiftRegex.html#264_13' title='s:F7siteify12RegexMutableFCSo8NSStringCSo15NSMutableString'>RegexMutable</a></span>( <span class='identifier'><a name='205_71' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> )
0206            <span class='identifier'><a name='206_9' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span>.<span class='identifier'><a name='206_15' title='c:objc(cs)NSRegularExpression(im)replaceMatchesInString:options:range:withTemplate:'>replaceMatchesInString</a></span>( <span class='identifier'><a name='206_39'>mutable</a></span>, <span class='identifier'><a name='206_48'>options</a></span>: <span class='identifier'><a name='206_57'>options</a></span> ?? <span class='identifier'><a name='206_68' title='s:FVSC17NSMatchingOptionscFT8rawValueSu_S_'>NSMatchingOptions</a></span>(<span class='identifier'><a name='206_86'>rawValue</a></span>: <span class='number'><a name='206_96'>0</a></span>), <span class='identifier'><a name='206_100'>range</a></span>: <span class='identifier'><a name='206_107' href='SwiftRegex.html#80_15' title='s:vC7siteify10SwiftRegex11targetRangeVSC8_NSRange'>targetRange</a></span>, <span class='identifier'><a name='206_120'>withTemplate</a></span>: <span class='identifier'><a name='206_134'>template</a></span> )
0207            <span class='keyword'><a name='207_9'>return</a></span> <span class='identifier'><a name='207_16'>mutable</a></span>
0208        }
0209    
0210    <span class='comment'><a name='210_1'>/* removed Beta6
0211        public func __conversion() -> Bool {
0212            return doesMatch()
0213        }
0214    
0215        public func __conversion() -> NSRange {
0216            return range()
0217        }
0218    
0219        public func __conversion() -> String {
0220            return match()
0221        }
0222    
0223        public func __conversion() -> [String] {
0224            return matches()
0225        }
0226    
0227        public func __conversion() -> [[String]] {
0228            return allGroups()
0229        }
0230    
0231        public func __conversion() -> [String:String] {
0232            return dictionary()
0233        }
0234    */</a></span>
0235        <span class='builtin'><a name='235_5'>public</a></span> <span class='keyword'><a name='235_12'>var</a></span> <span class='identifier'><a name='235_16'>boolValue</a></span>: <span class='typeidentifier'><a name='235_27' title='s:Sb'>Bool</a></span> {
0236            <span class='keyword'><a name='236_9'>return</a></span> <span class='identifier'><a name='236_16' href='SwiftRegex.html#92_17' title='s:FC7siteify10SwiftRegex9doesMatchFTGSqVSC17NSMatchingOptions__Sb'>doesMatch</a></span>()
0237        }
0238    }
0239    
0240    <span class='keyword'><a name='240_1'>extension</a></span> <span class='typeidentifier'><a name='240_11' title='c:objc(cs)NSString'>NSString</a></span> {
0241        <span class='builtin'><a name='241_5'>public</a></span> <span class='keyword'><a name='241_12'>subscript</a></span>( <span class='identifier'><a name='241_23'>pattern</a></span>: <span class='typeidentifier'><a name='241_32'>String</a></span>, <span class='identifier'><a name='241_40'>options</a></span>: <span class='typeidentifier'><a name='241_49'>NSRegularExpressionOptions</a></span> ) -> <span class='typeidentifier'><a name='241_81'>SwiftRegex</a></span> {
0242            <span class='keyword'><a name='242_9'>return</a></span> <span class='identifier'><a name='242_16' href='SwiftRegex.html#25_5' title='s:FC7siteify10SwiftRegexcFT6targetCSo8NSString7patternSS7optionsVSC26NSRegularExpressionOptions_S0_'>SwiftRegex</a></span>( <span class='identifier'><a name='242_28'>target</a></span>: <span class='keyword'><a name='242_36'>self</a></span>, <span class='identifier'><a name='242_42'>pattern</a></span>: <span class='identifier'><a name='242_51'>pattern</a></span>, <span class='identifier'><a name='242_60'>options</a></span>: <span class='identifier'><a name='242_69'>options</a></span> )
0243        }
0244    }
0245    
0246    <span class='keyword'><a name='246_1'>extension</a></span> <span class='typeidentifier'><a name='246_11' title='s:SS'>String</a></span> {
0247        <span class='builtin'><a name='247_5'>public</a></span> <span class='keyword'><a name='247_12'>subscript</a></span>( <span class='identifier'><a name='247_23'>pattern</a></span>: <span class='typeidentifier'><a name='247_32'>String</a></span>, <span class='identifier'><a name='247_40'>options</a></span>: <span class='typeidentifier'><a name='247_49'>NSRegularExpressionOptions</a></span> ) -> <span class='typeidentifier'><a name='247_81'>SwiftRegex</a></span> {
0248            <span class='keyword'><a name='248_9'>return</a></span> <span class='identifier'><a name='248_16' href='SwiftRegex.html#25_5' title='s:FC7siteify10SwiftRegexcFT6targetCSo8NSString7patternSS7optionsVSC26NSRegularExpressionOptions_S0_'>SwiftRegex</a></span>( <span class='identifier'><a name='248_28'>target</a></span>: <span class='keyword'><a name='248_36'>self</a></span>, <span class='identifier'><a name='248_42'>pattern</a></span>: <span class='identifier'><a name='248_51'>pattern</a></span>, <span class='identifier'><a name='248_60'>options</a></span>: <span class='identifier'><a name='248_69'>options</a></span> )
0249        }
0250    }
0251    
0252    <span class='keyword'><a name='252_1'>extension</a></span> <span class='typeidentifier'><a name='252_11' title='c:objc(cs)NSString'>NSString</a></span> {
0253        <span class='builtin'><a name='253_5'>public</a></span> <span class='keyword'><a name='253_12' href='#' title='s:iE7siteifyCSo8NSString9subscriptFSSCS_10SwiftRegex' onclick='return expand(this);'>subscript<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#308_13"; event.stopPropagation(); return false;'>main.swift:308</td><td><pre>        htmp<b title='source.lang.swift.ref.function.subscript'></b>["(^|\\n)"] ~= { (group: String) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#76_16"; return false;'>SwiftRegex.swift:76</td><td><pre>        patched<b title='source.lang.swift.ref.function.subscript'></b>[pattern] ~= template</pre></td></table></span></a></span>( <span class='identifier'><a name='253_23'>pattern</a></span>: <span class='typeidentifier'><a name='253_32'>String</a></span> ) -> <span class='typeidentifier'><a name='253_44'>SwiftRegex</a></span> {
0254            <span class='keyword'><a name='254_9'>return</a></span> <span class='identifier'><a name='254_16' href='SwiftRegex.html#25_5' title='s:FC7siteify10SwiftRegexcFT6targetCSo8NSString7patternSS7optionsVSC26NSRegularExpressionOptions_S0_'>SwiftRegex</a></span>( <span class='identifier'><a name='254_28'>target</a></span>: <span class='keyword'><a name='254_36'>self</a></span>, <span class='identifier'><a name='254_42'>pattern</a></span>: <span class='identifier'><a name='254_51'>pattern</a></span> )
0255        }
0256    }
0257    
0258    <span class='keyword'><a name='258_1'>extension</a></span> <span class='typeidentifier'><a name='258_11' title='s:SS'>String</a></span> {
0259        <span class='builtin'><a name='259_5'>public</a></span> <span class='keyword'><a name='259_12' href='#' title='s:iE7siteifySS9subscriptFSSCS_10SwiftRegex' onclick='return expand(this);'>subscript<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#90_45"; event.stopPropagation(); return false;'>main.swift:90</td><td><pre>    if storingLog == nil, let symroot = line<b title='source.lang.swift.ref.function.subscript'></b>["^    SYMROOT = ([^\n]+)"][1] where !filemgr.fileExistsAtPath( symroot ) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#96_21"; event.stopPropagation(); return false;'>main.swift:96</td><td><pre>    let regex = line<b title='source.lang.swift.ref.function.subscript'></b>["-primary-file (?:\"([^\"]+)\"|(\\S+)) "]</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#43_44"; return false;'>SwiftRegex.swift:43</td><td><pre>        NSLog( "*** SwiftRegex: \(message)"<b title='source.lang.swift.ref.function.subscript'></b>["%"]["%%"] )</pre></td></table></span></a></span>( <span class='identifier'><a name='259_23'>pattern</a></span>: <span class='typeidentifier'><a name='259_32'>String</a></span> ) -> <span class='typeidentifier'><a name='259_44'>SwiftRegex</a></span> {
0260            <span class='keyword'><a name='260_9'>return</a></span> <span class='identifier'><a name='260_16' href='SwiftRegex.html#25_5' title='s:FC7siteify10SwiftRegexcFT6targetCSo8NSString7patternSS7optionsVSC26NSRegularExpressionOptions_S0_'>SwiftRegex</a></span>( <span class='identifier'><a name='260_28'>target</a></span>: <span class='keyword'><a name='260_36'>self</a></span>, <span class='identifier'><a name='260_42'>pattern</a></span>: <span class='identifier'><a name='260_51'>pattern</a></span> )
0261        }
0262    }
0263    
0264    <span class='builtin'><a name='264_1'>public</a></span> <span class='keyword'><a name='264_8'>func</a></span> <span class='identifier'><a name='264_13' href='#' title='s:F7siteify12RegexMutableFCSo8NSStringCSo15NSMutableString' onclick='return expand(this);'>RegexMutable<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#305_20"; event.stopPropagation(); return false;'>main.swift:305</td><td><pre>        let htmp = <b title='source.lang.swift.ref.function.free'>RegexMutable</b>( html )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#205_57"; return false;'>SwiftRegex.swift:205</td><td><pre>        let mutable = /*target as? NSMutableString ??*/ <b title='source.lang.swift.ref.function.free'>RegexMutable</b>( target )</pre></td></table></span></a></span>( <span class='identifier'><a name='264_27'>string</a></span>: <span class='typeidentifier'><a name='264_35' title='c:objc(cs)NSString'>NSString</a></span> ) -> <span class='typeidentifier'><a name='264_49' title='c:objc(cs)NSMutableString'>NSMutableString</a></span> {
0265        <span class='keyword'><a name='265_5'>return</a></span> <span class='identifier'><a name='265_12' title='s:FE10FoundationCSo8NSStringcFT6stringS0__S0_'>NSMutableString</a></span>( <span class='identifier'><a name='265_29'>string</a></span>: <span class='identifier'><a name='265_37'>string</a></span> )
0266    }
0267    
0268    <span class='comment'><a name='268_1'>// for switch
0269    </a></span><span class='builtin'><a name='269_1'>public</a></span> <span class='keyword'><a name='269_8'>var</a></span> <span class='identifier'><a name='269_12' href='#' title='s:v7siteify20lastRegexMatchGroupsGSQGSaGSQSS___' onclick='return expand(this);'>lastRegexMatchGroups<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#273_9"; return false;'>SwiftRegex.swift:273</td><td><pre>        <b title='source.lang.swift.ref.var.global'>lastRegexMatchGroups</b> = groups.map { $0 != regexNoGroup ? $0 : nil }</pre></td></table></span></a></span>: [<span class='typeidentifier'><a name='269_35' title='s:SS'>String</a></span>!]!
0270    
0271    <span class='builtin'><a name='271_1'>public</a></span> <span class='keyword'><a name='271_8'>func</a></span> ~= ( <span class='identifier'><a name='271_18'>left</a></span>: <span class='typeidentifier'><a name='271_24' title='s:SS'>String</a></span>, <span class='identifier'><a name='271_32'>right</a></span>: <span class='typeidentifier'><a name='271_39' title='s:SS'>String</a></span> ) -> <span class='typeidentifier'><a name='271_51' title='s:Sb'>Bool</a></span> {
0272        <span class='keyword'><a name='272_5'>if</a></span> <span class='keyword'><a name='272_8'>let</a></span> <span class='identifier'><a name='272_12'>groups</a></span> = <span class='identifier'><a name='272_21' href='SwiftRegex.html#25_5' title='s:FC7siteify10SwiftRegexcFT6targetCSo8NSString7patternSS7optionsVSC26NSRegularExpressionOptions_S0_'>SwiftRegex</a></span>( <span class='identifier'><a name='272_33'>target</a></span>: <span class='identifier'><a name='272_41'>right</a></span>, <span class='identifier'><a name='272_48'>pattern</a></span>: <span class='identifier'><a name='272_57'>left</a></span> ).<span class='identifier'><a name='272_64' href='SwiftRegex.html#104_17' title='s:FC7siteify10SwiftRegex6groupsFTGSqVSC17NSMatchingOptions__GSQGSaSS__'>groups</a></span>() {
0273            <span class='identifier'><a name='273_9' href='SwiftRegex.html#269_12' title='s:v7siteify20lastRegexMatchGroupsGSQGSaGSQSS___'>lastRegexMatchGroups</a></span> = <span class='identifier'><a name='273_32'>groups</a></span>.<span class='identifier'><a name='273_39' title='s:FEsPs14CollectionType3mapurFzFzWx9Generator7Element_qd__GSaqd___'>map</a></span> { <span class='identifier'><a name='273_45'>$0</a></span> != <span class='identifier'><a name='273_51' href='SwiftRegex.html#17_12' title='s:v7siteify12regexNoGroupSS'>regexNoGroup</a></span> ? <span class='identifier'><a name='273_66'>$0</a></span> : <span class='keyword'><a name='273_71'>nil</a></span> }
0274            <span class='keyword'><a name='274_9'>return</a></span> <span class='keyword'><a name='274_16'>true</a></span>
0275        }
0276        <span class='keyword'><a name='276_5'>return</a></span> <span class='keyword'><a name='276_12'>false</a></span>
0277    }
0278    
0279    <span class='comment'><a name='279_1'>// for replacements
0280    </a></span><span class='builtin'><a name='280_1'>public</a></span> <span class='keyword'><a name='280_8'>func</a></span> ~= ( <span class='identifier'><a name='280_18'>left</a></span>: <span class='typeidentifier'><a name='280_24' href='SwiftRegex.html#19_14' title='s:C7siteify10SwiftRegex'>SwiftRegex</a></span>, <span class='identifier'><a name='280_36'>right</a></span>: <span class='typeidentifier'><a name='280_43' title='s:SS'>String</a></span> ) -> <span class='typeidentifier'><a name='280_55' title='s:Sb'>Bool</a></span> {
0281        <span class='keyword'><a name='281_5'>return</a></span> <span class='identifier'><a name='281_12'>left</a></span>.<span class='identifier'><a name='281_17' href='SwiftRegex.html#177_10' title='s:FC7siteify10SwiftRegex17substituteMatchesFFTCSo20NSTextCheckingResultGSpV10ObjectiveC8ObjCBool__SSSb'>substituteMatches</a></span>( {
0282            (<span class='identifier'><a name='282_10'>match</a></span>: <span class='typeidentifier'><a name='282_17' title='c:objc(cs)NSTextCheckingResult'>NSTextCheckingResult</a></span>, <span class='identifier'><a name='282_39'>stop</a></span>: <span class='typeidentifier'><a name='282_45' title='s:Sp'>UnsafeMutablePointer</a></span>&lt;<span class='typeidentifier'><a name='282_66' title='s:V10ObjectiveC8ObjCBool'>ObjCBool</a></span>>) <span class='keyword'><a name='282_77'>in</a></span>
0283            <span class='keyword'><a name='283_9'>return</a></span> <span class='identifier'><a name='283_16'>left</a></span>.<span class='identifier'><a name='283_21' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span>.<span class='identifier'><a name='283_27' title='c:objc(cs)NSRegularExpression(im)replacementStringForResult:inString:offset:template:'>replacementStringForResult</a></span>( <span class='identifier'><a name='283_55'>match</a></span>,
0284                <span class='identifier'><a name='284_13'>inString</a></span>: <span class='identifier'><a name='284_23'>left</a></span>.<span class='identifier'><a name='284_28' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> <span class='keyword'><a name='284_35'>as</a></span> <span class='typeidentifier'><a name='284_38' title='s:SS'>String</a></span>, <span class='identifier'><a name='284_46'>offset</a></span>: <span class='number'><a name='284_54'>0</a></span>, <span class='identifier'><a name='284_57'>template</a></span>: <span class='identifier'><a name='284_67'>right</a></span> )
0285        } )
0286    }
0287    
0288    <span class='builtin'><a name='288_1'>public</a></span> <span class='keyword'><a name='288_8'>func</a></span> ~= ( <span class='identifier'><a name='288_18'>left</a></span>: <span class='typeidentifier'><a name='288_24' href='SwiftRegex.html#19_14' title='s:C7siteify10SwiftRegex'>SwiftRegex</a></span>, <span class='identifier'><a name='288_36'>right</a></span>: [<span class='typeidentifier'><a name='288_44' title='s:SS'>String</a></span>] ) -> <span class='typeidentifier'><a name='288_57' title='s:Sb'>Bool</a></span> {
0289        <span class='keyword'><a name='289_5'>var</a></span> <span class='identifier'><a name='289_9'>matchNumber</a></span> = <span class='number'><a name='289_23'>0</a></span>
0290        <span class='keyword'><a name='290_5'>return</a></span> <span class='identifier'><a name='290_12'>left</a></span>.<span class='identifier'><a name='290_17' href='SwiftRegex.html#177_10' title='s:FC7siteify10SwiftRegex17substituteMatchesFFTCSo20NSTextCheckingResultGSpV10ObjectiveC8ObjCBool__SSSb'>substituteMatches</a></span>( {
0291            (<span class='identifier'><a name='291_10'>match</a></span>: <span class='typeidentifier'><a name='291_17' title='c:objc(cs)NSTextCheckingResult'>NSTextCheckingResult</a></span>, <span class='identifier'><a name='291_39'>stop</a></span>: <span class='typeidentifier'><a name='291_45' title='s:Sp'>UnsafeMutablePointer</a></span>&lt;<span class='typeidentifier'><a name='291_66' title='s:V10ObjectiveC8ObjCBool'>ObjCBool</a></span>>) <span class='keyword'><a name='291_77'>in</a></span>
0292    
0293            <span class='identifier'><a name='293_9'>matchNumber</a></span> += <span class='number'><a name='293_24'>1</a></span>
0294            <span class='keyword'><a name='294_9'>if</a></span> <span class='identifier'><a name='294_12'>matchNumber</a></span> == <span class='identifier'><a name='294_27'>right</a></span>.<span class='identifier'><a name='294_33' title='s:vSa5countSi'>count</a></span> {
0295                <span class='identifier'><a name='295_13'>stop</a></span>.<span class='identifier'><a name='295_18' title='s:vSp6memoryx'>memory</a></span> = <span class='keyword'><a name='295_27'>true</a></span>
0296            }
0297    
0298            <span class='keyword'><a name='298_9'>return</a></span> <span class='identifier'><a name='298_16'>left</a></span>.<span class='identifier'><a name='298_21' href='SwiftRegex.html#22_9' title='s:vC7siteify10SwiftRegex5regexCSo19NSRegularExpression'>regex</a></span>.<span class='identifier'><a name='298_27' title='c:objc(cs)NSRegularExpression(im)replacementStringForResult:inString:offset:template:'>replacementStringForResult</a></span>( <span class='identifier'><a name='298_55'>match</a></span>,
0299                <span class='identifier'><a name='299_13'>inString</a></span>: <span class='identifier'><a name='299_23'>left</a></span>.<span class='identifier'><a name='299_28' href='SwiftRegex.html#21_9' title='s:vC7siteify10SwiftRegex6targetCSo8NSString'>target</a></span> <span class='keyword'><a name='299_35'>as</a></span> <span class='typeidentifier'><a name='299_38' title='s:SS'>String</a></span>, <span class='identifier'><a name='299_46'>offset</a></span>: <span class='number'><a name='299_54'>0</a></span>, <span class='identifier'><a name='299_57'>template</a></span>: <span class='identifier'><a name='299_67'>right</a></span>[<span class='identifier'><a name='299_73'>matchNumber</a></span>-<span class='number'><a name='299_85'>1</a></span>] )
0300        } )
0301    }
0302    
0303    <span class='builtin'><a name='303_1'>public</a></span> <span class='keyword'><a name='303_8'>func</a></span> ~= ( <span class='identifier'><a name='303_18'>left</a></span>: <span class='typeidentifier'><a name='303_24' href='SwiftRegex.html#19_14' title='s:C7siteify10SwiftRegex'>SwiftRegex</a></span>, <span class='identifier'><a name='303_36'>right</a></span>: (<span class='typeidentifier'><a name='303_44' title='s:SS'>String</a></span>) -> <span class='typeidentifier'><a name='303_55' title='s:SS'>String</a></span> ) -> <span class='typeidentifier'><a name='303_67' title='s:Sb'>Bool</a></span> {
0304        <span class='keyword'><a name='304_5'>return</a></span> <span class='identifier'><a name='304_12'>left</a></span>.<span class='identifier'><a name='304_17' href='SwiftRegex.html#177_10' title='s:FC7siteify10SwiftRegex17substituteMatchesFFTCSo20NSTextCheckingResultGSpV10ObjectiveC8ObjCBool__SSSb'>substituteMatches</a></span>( {
0305            (<span class='identifier'><a name='305_10'>match</a></span>: <span class='typeidentifier'><a name='305_17' title='c:objc(cs)NSTextCheckingResult'>NSTextCheckingResult</a></span>, <span class='identifier'><a name='305_39'>stop</a></span>: <span class='typeidentifier'><a name='305_45' title='s:Sp'>UnsafeMutablePointer</a></span>&lt;<span class='typeidentifier'><a name='305_66' title='s:V10ObjectiveC8ObjCBool'>ObjCBool</a></span>>) <span class='keyword'><a name='305_77'>in</a></span>
0306            <span class='keyword'><a name='306_9'>return</a></span> <span class='identifier'><a name='306_16'>right</a></span>( <span class='identifier'><a name='306_23'>left</a></span>.<span class='identifier'><a name='306_28' href='SwiftRegex.html#84_16' title='s:FC7siteify10SwiftRegex9substringFVSC8_NSRangeGSQSS_'>substring</a></span>(<span class='identifier'><a name='306_38'>match</a></span>.<span class='identifier'><a name='306_44' title='c:objc(cs)NSTextCheckingResult(py)range'>range</a></span>) )
0307        } )
0308    }
0309    
0310    <span class='builtin'><a name='310_1'>public</a></span> <span class='keyword'><a name='310_8'>func</a></span> ~= ( <span class='identifier'><a name='310_18'>left</a></span>: <span class='typeidentifier'><a name='310_24' href='SwiftRegex.html#19_14' title='s:C7siteify10SwiftRegex'>SwiftRegex</a></span>, <span class='identifier'><a name='310_36'>right</a></span>: ([<span class='typeidentifier'><a name='310_45' title='s:SS'>String</a></span>]) -> <span class='typeidentifier'><a name='310_57' title='s:SS'>String</a></span> ) -> <span class='typeidentifier'><a name='310_69' title='s:Sb'>Bool</a></span> {
0311        <span class='keyword'><a name='311_5'>return</a></span> <span class='identifier'><a name='311_12'>left</a></span>.<span class='identifier'><a name='311_17' href='SwiftRegex.html#177_10' title='s:FC7siteify10SwiftRegex17substituteMatchesFFTCSo20NSTextCheckingResultGSpV10ObjectiveC8ObjCBool__SSSb'>substituteMatches</a></span>( {
0312            (<span class='identifier'><a name='312_10'>match</a></span>: <span class='typeidentifier'><a name='312_17' title='c:objc(cs)NSTextCheckingResult'>NSTextCheckingResult</a></span>, <span class='identifier'><a name='312_39'>stop</a></span>: <span class='typeidentifier'><a name='312_45' title='s:Sp'>UnsafeMutablePointer</a></span>&lt;<span class='typeidentifier'><a name='312_66' title='s:V10ObjectiveC8ObjCBool'>ObjCBool</a></span>>) <span class='keyword'><a name='312_77'>in</a></span>
0313            <span class='keyword'><a name='313_9'>return</a></span> <span class='identifier'><a name='313_16'>right</a></span>( <span class='identifier'><a name='313_23'>left</a></span>.<span class='identifier'><a name='313_28' href='SwiftRegex.html#108_10' title='s:FC7siteify10SwiftRegex14groupsForMatchFGSQCSo20NSTextCheckingResult_GSQGSaSS__'>groupsForMatch</a></span>(<span class='identifier'><a name='313_43'>match</a></span>) )
0314        } )
0315    }
0316    
0317    <span class='builtin'><a name='317_1'>public</a></span> <span class='keyword'><a name='317_8'>class</a></span> <span class='identifier'><a name='317_14' href='#' title='s:C7siteify9RegexFile' onclick='return expand(this);'>RegexFile<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#23_20"; return false;'>SwiftRegex.swift:23</td><td><pre>    var regexFile: <b title='source.lang.swift.ref.class'>RegexFile</b>?</pre></td></table></span></a></span> {
0318    
0319        <span class='keyword'><a name='319_5'>let</a></span> <span class='identifier'><a name='319_9' href='#' title='s:vC7siteify9RegexFile8filepathSS' onclick='return expand(this);'>filepath<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#323_9"; return false;'>SwiftRegex.swift:323</td><td><pre>        <b title='source.lang.swift.ref.var.instance'>filepath</b> = path</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#334_30"; return false;'>SwiftRegex.swift:334</td><td><pre>        SwiftRegex.saveFile( <b title='source.lang.swift.ref.var.instance'>filepath</b>, newContents: contents )</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='319_19' title='s:SS'>String</a></span>
0320        <span class='keyword'><a name='320_5'>let</a></span> <span class='identifier'><a name='320_9' href='#' title='s:vC7siteify9RegexFile8contentsGSQCSo15NSMutableString_' onclick='return expand(this);'>contents<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#324_9"; return false;'>SwiftRegex.swift:324</td><td><pre>        <b title='source.lang.swift.ref.var.instance'>contents</b> = SwiftRegex.loadFile( path )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#328_41"; return false;'>SwiftRegex.swift:328</td><td><pre>        let regex = SwiftRegex( target: <b title='source.lang.swift.ref.var.instance'>contents</b>, pattern: pattern )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SwiftRegex.html#334_53"; return false;'>SwiftRegex.swift:334</td><td><pre>        SwiftRegex.saveFile( filepath, newContents: <b title='source.lang.swift.ref.var.instance'>contents</b> )</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='320_19' title='c:objc(cs)NSMutableString'>NSMutableString</a></span>!
0321    
0322        <span class='builtin'><a name='322_5'>public</a></span> <span class='keyword'><a name='322_12'>init</a></span>( <span class='keyword'><a name='322_18'>_</a></span> <span class='identifier'><a name='322_20'>path</a></span>: <span class='typeidentifier'><a name='322_26' title='s:SS'>String</a></span> ) {
0323            <span class='identifier'><a name='323_9' href='SwiftRegex.html#319_9' title='s:vC7siteify9RegexFile8filepathSS'>filepath</a></span> = <span class='identifier'><a name='323_20'>path</a></span>
0324            <span class='identifier'><a name='324_9' href='SwiftRegex.html#320_9' title='s:vC7siteify9RegexFile8contentsGSQCSo15NSMutableString_'>contents</a></span> = <span class='identifier'><a name='324_20' href='SwiftRegex.html#19_14' title='s:C7siteify10SwiftRegex'>SwiftRegex</a></span>.<span class='identifier'><a name='324_31' href='SwiftRegex.html#47_23' title='s:ZFC7siteify10SwiftRegex8loadFileFTSS5bleatSb_GSQCSo15NSMutableString_'>loadFile</a></span>( <span class='identifier'><a name='324_41'>path</a></span> )
0325        }
0326    
0327        <span class='builtin'><a name='327_5'>public</a></span> <span class='keyword'><a name='327_12'>subscript</a></span>( <span class='identifier'><a name='327_23'>pattern</a></span>: <span class='typeidentifier'><a name='327_32'>String</a></span> ) -> <span class='typeidentifier'><a name='327_44'>SwiftRegex</a></span> {
0328            <span class='keyword'><a name='328_9'>let</a></span> <span class='identifier'><a name='328_13'>regex</a></span> = <span class='identifier'><a name='328_21' href='SwiftRegex.html#25_5' title='s:FC7siteify10SwiftRegexcFT6targetCSo8NSString7patternSS7optionsVSC26NSRegularExpressionOptions_S0_'>SwiftRegex</a></span>( <span class='identifier'><a name='328_33'>target</a></span>: <span class='identifier'><a name='328_41' href='SwiftRegex.html#320_9' title='s:vC7siteify9RegexFile8contentsGSQCSo15NSMutableString_'>contents</a></span>, <span class='identifier'><a name='328_51'>pattern</a></span>: <span class='identifier'><a name='328_60'>pattern</a></span> )
0329            <span class='identifier'><a name='329_9'>regex</a></span>.<span class='identifier'><a name='329_15' href='SwiftRegex.html#23_9' title='s:vC7siteify10SwiftRegex9regexFileGSqCS_9RegexFile_'>regexFile</a></span> = <span class='keyword'><a name='329_27'>self</a></span> <span class='comment'><a name='329_32'>// retains until after substitution
0330    </a></span>        <span class='keyword'><a name='330_9'>return</a></span> <span class='identifier'><a name='330_16'>regex</a></span>
0331        }
0332    
0333        <span class='keyword'><a name='333_5'>deinit</a></span> {
0334            <span class='identifier'><a name='334_9' href='SwiftRegex.html#19_14' title='s:C7siteify10SwiftRegex'>SwiftRegex</a></span>.<span class='identifier'><a name='334_20' href='SwiftRegex.html#59_23' title='s:ZFC7siteify10SwiftRegex8saveFileFTSS11newContentsCSo8NSString5forceSb_Sb'>saveFile</a></span>( <span class='identifier'><a name='334_30' href='SwiftRegex.html#319_9' title='s:vC7siteify9RegexFile8filepathSS'>filepath</a></span>, <span class='identifier'><a name='334_40'>newContents</a></span>: <span class='identifier'><a name='334_53' href='SwiftRegex.html#320_9' title='s:vC7siteify9RegexFile8contentsGSQCSo15NSMutableString_'>contents</a></span> )
0335        }
0336    
0337    }
0338    