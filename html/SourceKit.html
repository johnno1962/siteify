<html><head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="siteify.css">
<script>

var lastlink;

function expand(a) {
    if ( a.children[0].style.display != "block" ) {
        if ( lastlink )
            lastlink.style.display = "none";
        a.children[0].style.display = "block";
        lastlink = a.children[0];
    }
    else {
        a.children[0].style.display = "none";
        lastlink = null;
    }
    return false;
}

</script></head><body><pre>
0001    <span class='comment'><a name='1_1'>//
0002    </a></span><span class='comment'><a name='2_1'>//  SourceKit.swift
0003    </a></span><span class='comment'><a name='3_1'>//  refactord
0004    </a></span><span class='comment'><a name='4_1'>//
0005    </a></span><span class='comment'><a name='5_1'>//  Created by John Holdsworth on 19/12/2015.
0006    </a></span><span class='comment'><a name='6_1'>//  Copyright Â© 2015 John Holdsworth. All rights reserved.
0007    </a></span><span class='comment'><a name='7_1'>//
0008    </a></span><span class='comment'><a name='8_1'>//  $Id: //depot/siteify/siteify/SourceKit.swift#3 $
0009    </a></span><span class='comment'><a name='9_1'>//
0010    </a></span><span class='comment'><a name='10_1'>//  Repo: </a></span><span class='url'><a href='https://github.com/johnno1962/Refactorator'>https://github.com/johnno1962/Refactorator</a></span><span class='comment'><a name='10_53'>
0011    </a></span><span class='comment'><a name='11_1'>//
0012    </a></span>
0013    <span class='keyword'><a name='13_1'>import</a></span> <span class='identifier'><a name='13_8'>Foundation</a></span>
0014    
0015    <span class='keyword'><a name='15_1'>var</a></span> <span class='identifier'><a name='15_5' href='#' title='s:v7siteify5isTTYSb' onclick='return expand(this);'>isTTY<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#17_1"; event.stopPropagation(); return false;'>main.swift:17</td><td><pre><b>isTTY</b> = false</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#115_12"; return false;'>SourceKit.swift:115</td><td><pre>        if <b>isTTY</b> {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#121_12"; return false;'>SourceKit.swift:121</td><td><pre>        if <b>isTTY</b> &amp;&amp; !sourcekitd_response_is_error( resp ) {</pre></td></table></span></a></span> = <span class='identifier'><a name='15_13' title='c:@F@isatty'>isatty</a></span>( <span class='identifier'><a name='15_21' title='c:@macro@STDERR_FILENO'>STDERR_FILENO</a></span> ) != <span class='number'><a name='15_40'>0</a></span>
0016    
0017    <span class='keyword'><a name='17_1'>protocol</a></span> <span class='identifier'><a name='17_10' href='#' title='s:P7siteify10Visualiser' onclick='return expand(this);'>Visualiser<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#164_46"; return false;'>SourceKit.swift:164</td><td><pre>            indent: String = "", visualiser: <b>Visualiser</b>? = nil,</pre></td></table></span></a></span> {
0018    
0019        <span class='keyword'><a name='19_5'>func</a></span> <span class='identifier'><a name='19_10' href='#' title='s:FP7siteify10Visualiser5enteruRq_S0__Fq_FT_T_' onclick='return expand(this);'>enter<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#170_25"; return false;'>SourceKit.swift:170</td><td><pre>            visualiser?.<b>enter</b>()</pre></td></table></span></a></span>()
0020        <span class='keyword'><a name='20_5'>func</a></span> <span class='identifier'><a name='20_10' href='#' title='s:FP7siteify10Visualiser7presentuRq_S0__Fq_FTVSC20sourcekitd_variant_t6indentSS_T_' onclick='return expand(this);'>present<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#174_29"; return false;'>SourceKit.swift:174</td><td><pre>                visualiser?.<b>present</b>( dict, indent: indent )</pre></td></table></span></a></span>( <span class='identifier'><a name='20_19'>dict</a></span>: <span class='typeidentifier'><a name='20_25' title='c:@SA@sourcekitd_variant_t'>sourcekitd_variant_t</a></span>, <span class='identifier'><a name='20_47'>indent</a></span>: <span class='typeidentifier'><a name='20_55' title='s:SS'>String</a></span> )
0021        <span class='keyword'><a name='21_5'>func</a></span> <span class='identifier'><a name='21_10' href='#' title='s:FP7siteify10Visualiser4exituRq_S0__Fq_FT_T_' onclick='return expand(this);'>exit<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#179_25"; return false;'>SourceKit.swift:179</td><td><pre>            visualiser?.<b>exit</b>()</pre></td></table></span></a></span>()
0022    
0023    }
0024    
0025    <span class='keyword'><a name='25_1'>extension</a></span> <span class='typeidentifier'><a name='25_11' title='c:@SA@sourcekitd_variant_t'>sourcekitd_variant_t</a></span> {
0026    
0027        <span class='keyword'><a name='27_5'>func</a></span> <span class='identifier'><a name='27_10' href='#' title='s:FE7siteifyVSC20sourcekitd_variant_t6getIntFS0_FVSs14COpaquePointerSi' onclick='return expand(this);'>getInt<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#242_32"; event.stopPropagation(); return false;'>main.swift:242</td><td><pre>                    line: dict.<b>getInt</b>( SK.lineID ),</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#243_31"; event.stopPropagation(); return false;'>main.swift:243</td><td><pre>                    col: dict.<b>getInt</b>( SK.colID ) )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#330_31"; event.stopPropagation(); return false;'>main.swift:330</td><td><pre>            let offset = dict.<b>getInt</b>( SK.offsetID )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#331_31"; event.stopPropagation(); return false;'>main.swift:331</td><td><pre>            let length = dict.<b>getInt</b>( SK.lengthID )</pre></td></table></span></a></span>( <span class='identifier'><a name='27_18'>key</a></span>: <span class='typeidentifier'><a name='27_23' title='c:sourcekitd.h@T@sourcekitd_uid_t'>sourcekitd_uid_t</a></span> ) -> <span class='typeidentifier'><a name='27_45' title='s:Si'>Int</a></span> {
0028            <span class='keyword'><a name='28_9'>return</a></span> <span class='identifier'><a name='28_16' title='s:FSicFMSiFVSs5Int64Si'>Int</a></span>(<span class='identifier'><a name='28_20' title='c:@F@sourcekitd_variant_dictionary_get_int64'>sourcekitd_variant_dictionary_get_int64</a></span>( <span class='keyword'><a name='28_61'>self</a></span>, <span class='identifier'><a name='28_67'>key</a></span> ))
0029        }
0030    
0031        <span class='keyword'><a name='31_5'>func</a></span> <span class='identifier'><a name='31_10' href='#' title='s:FE7siteifyVSC20sourcekitd_variant_t9getStringFS0_FVSs14COpaquePointerGSqSS_' onclick='return expand(this);'>getString<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#240_37"; event.stopPropagation(); return false;'>main.swift:240</td><td><pre>            if let usrString = dict.<b>getString</b>( SK.usrID ) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#264_23"; event.stopPropagation(); return false;'>main.swift:264</td><td><pre>    if let usr = dict.<b>getString</b>( SK.usrID ) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#342_64"; event.stopPropagation(); return false;'>main.swift:342</td><td><pre>            else if let dict = entities[ent], usrString = dict.<b>getString</b>( SK.usrID ) {</pre></td></table></span></a></span>( <span class='identifier'><a name='31_21'>key</a></span>: <span class='typeidentifier'><a name='31_26' title='c:sourcekitd.h@T@sourcekitd_uid_t'>sourcekitd_uid_t</a></span> ) -> <span class='typeidentifier'><a name='31_48' title='s:SS'>String</a></span>? {
0032            <span class='keyword'><a name='32_9'>let</a></span> <span class='identifier'><a name='32_13'>cstr</a></span> = <span class='identifier'><a name='32_20' title='c:@F@sourcekitd_variant_dictionary_get_string'>sourcekitd_variant_dictionary_get_string</a></span>( <span class='keyword'><a name='32_62'>self</a></span>, <span class='identifier'><a name='32_68'>key</a></span> )
0033            <span class='keyword'><a name='33_9'>if</a></span> <span class='identifier'><a name='33_12'>cstr</a></span> != <span class='keyword'><a name='33_20'>nil</a></span>, <span class='keyword'><a name='33_25'>let</a></span> <span class='identifier'><a name='33_29'>str</a></span> = <span class='identifier'><a name='33_35' title='s:SS'>String</a></span>.<span class='identifier'><a name='33_42' title='s:ZFSS11fromCStringFMSSFGVSs13UnsafePointerVSs4Int8_GSqSS_'>fromCString</a></span>( <span class='identifier'><a name='33_55'>cstr</a></span> ) {
0034                <span class='keyword'><a name='34_13'>return</a></span> <span class='identifier'><a name='34_20'>str</a></span>
0035            }
0036            <span class='keyword'><a name='36_9'>return</a></span> <span class='keyword'><a name='36_16'>nil</a></span>
0037        }
0038    
0039        <span class='keyword'><a name='39_5'>func</a></span> <span class='identifier'><a name='39_10' href='#' title='s:FE7siteifyVSC20sourcekitd_variant_t13getUUIDStringFS0_FVSs14COpaquePointerSS' onclick='return expand(this);'>getUUIDString<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#249_33"; event.stopPropagation(); return false;'>main.swift:249</td><td><pre>                let kind = dict.<b>getUUIDString</b>( SK.kindID )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#265_25"; event.stopPropagation(); return false;'>main.swift:265</td><td><pre>        let kind = dict.<b>getUUIDString</b>( SK.kindID )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#328_29"; event.stopPropagation(); return false;'>main.swift:328</td><td><pre>            let kind = dict.<b>getUUIDString</b>( SK.kindID )</pre></td></table></span></a></span>( <span class='identifier'><a name='39_25'>key</a></span>: <span class='typeidentifier'><a name='39_30' title='c:sourcekitd.h@T@sourcekitd_uid_t'>sourcekitd_uid_t</a></span> ) -> <span class='typeidentifier'><a name='39_52' title='s:SS'>String</a></span> {
0040            <span class='keyword'><a name='40_9'>let</a></span> <span class='identifier'><a name='40_13'>uuid</a></span> = <span class='identifier'><a name='40_20' title='c:@F@sourcekitd_variant_dictionary_get_uid'>sourcekitd_variant_dictionary_get_uid</a></span>( <span class='keyword'><a name='40_59'>self</a></span>, <span class='identifier'><a name='40_65'>key</a></span> )
0041            <span class='keyword'><a name='41_9'>return</a></span> <span class='identifier'><a name='41_16' title='s:SS'>String</a></span>.<span class='identifier'><a name='41_23' title='s:ZFSS11fromCStringFMSSFGVSs13UnsafePointerVSs4Int8_GSqSS_'>fromCString</a></span>( <span class='identifier'><a name='41_36' title='c:@F@sourcekitd_uid_get_string_ptr'>sourcekitd_uid_get_string_ptr</a></span>( <span class='identifier'><a name='41_67'>uuid</a></span> ) ) ?? <span class='string'><a name='41_79'>"NOUUID"</a></span>
0042        }
0043    
0044    }
0045    
0046    <span class='keyword'><a name='46_1'>class</a></span> <span class='identifier'><a name='46_7' href='#' title='s:C7siteify9SourceKit' onclick='return expand(this);'>SourceKit<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#16_10"; event.stopPropagation(); return false;'>main.swift:16</td><td><pre>let SK = <b>SourceKit</b>()</pre></td></table></span></a></span> {
0047    
0048        <span class='doccomment'><a name='48_5'>/** request types */</a></span>
0049        <span class='builtin'><a name='49_5'>private</a></span> <span class='builtin'><a name='49_13'>lazy</a></span> <span class='keyword'><a name='49_18'>var</a></span> <span class='identifier'><a name='49_22' href='#' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D9requestIDVSs14COpaquePointer' onclick='return expand(this);'>requestID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#131_53"; return false;'>SourceKit.swift:131</td><td><pre>        sourcekitd_request_dictionary_set_uid( req, <b>requestID</b>, cursorRequestID )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#142_53"; return false;'>SourceKit.swift:142</td><td><pre>        sourcekitd_request_dictionary_set_uid( req, <b>requestID</b>, indexRequestID )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#152_53"; return false;'>SourceKit.swift:152</td><td><pre>        sourcekitd_request_dictionary_set_uid( req, <b>requestID</b>, editorOpenID )</pre></td></table></span></a></span> = <span class='identifier'><a name='49_34' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='49_63'>"key.request"</a></span>)
0050        <span class='builtin'><a name='50_5'>private</a></span> <span class='builtin'><a name='50_13'>lazy</a></span> <span class='keyword'><a name='50_18'>var</a></span> <span class='identifier'><a name='50_22' href='#' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D15cursorRequestIDVSs14COpaquePointer' onclick='return expand(this);'>cursorRequestID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#131_64"; return false;'>SourceKit.swift:131</td><td><pre>        sourcekitd_request_dictionary_set_uid( req, requestID, <b>cursorRequestID</b> )</pre></td></table></span></a></span> = <span class='identifier'><a name='50_40' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='50_69'>"source.request.cursorinfo"</a></span>)
0051        <span class='builtin'><a name='51_5'>private</a></span> <span class='builtin'><a name='51_13'>lazy</a></span> <span class='keyword'><a name='51_18'>var</a></span> <span class='identifier'><a name='51_22' href='#' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D14indexRequestIDVSs14COpaquePointer' onclick='return expand(this);'>indexRequestID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#142_64"; return false;'>SourceKit.swift:142</td><td><pre>        sourcekitd_request_dictionary_set_uid( req, requestID, <b>indexRequestID</b> )</pre></td></table></span></a></span> = <span class='identifier'><a name='51_39' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='51_68'>"source.request.indexsource"</a></span>)
0052        <span class='builtin'><a name='52_5'>private</a></span> <span class='builtin'><a name='52_13'>lazy</a></span> <span class='keyword'><a name='52_18'>var</a></span> <span class='identifier'><a name='52_22' href='#' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D12editorOpenIDVSs14COpaquePointer' onclick='return expand(this);'>editorOpenID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#152_64"; return false;'>SourceKit.swift:152</td><td><pre>        sourcekitd_request_dictionary_set_uid( req, requestID, <b>editorOpenID</b> )</pre></td></table></span></a></span> = <span class='identifier'><a name='52_37' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='52_66'>"source.request.editor.open"</a></span>)
0053    
0054        <span class='builtin'><a name='54_5'>private</a></span> <span class='builtin'><a name='54_13'>lazy</a></span> <span class='keyword'><a name='54_18'>var</a></span> <span class='identifier'><a name='54_22' href='#' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D11enableMapIDVSs14COpaquePointer' onclick='return expand(this);'>enableMapID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#156_55"; return false;'>SourceKit.swift:156</td><td><pre>        sourcekitd_request_dictionary_set_int64( req, <b>enableMapID</b>, 1 )</pre></td></table></span></a></span> = <span class='identifier'><a name='54_36' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='54_65'>"key.enablesyntaxmap"</a></span>)
0055        <span class='builtin'><a name='55_5'>private</a></span> <span class='builtin'><a name='55_13'>lazy</a></span> <span class='keyword'><a name='55_18'>var</a></span> <span class='identifier'><a name='55_22' href='#' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D11enableSubIDVSs14COpaquePointer' onclick='return expand(this);'>enableSubID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#157_55"; return false;'>SourceKit.swift:157</td><td><pre>        sourcekitd_request_dictionary_set_int64( req, <b>enableSubID</b>, 0 )</pre></td></table></span></a></span> = <span class='identifier'><a name='55_36' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='55_65'>"key.enablesubstructure"</a></span>)
0056        <span class='builtin'><a name='56_5'>private</a></span> <span class='builtin'><a name='56_13'>lazy</a></span> <span class='keyword'><a name='56_18'>var</a></span> <span class='identifier'><a name='56_22' href='#' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D12syntaxOnlyIDVSs14COpaquePointer' onclick='return expand(this);'>syntaxOnlyID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#158_55"; return false;'>SourceKit.swift:158</td><td><pre>        sourcekitd_request_dictionary_set_int64( req, <b>syntaxOnlyID</b>, 1 )</pre></td></table></span></a></span> = <span class='identifier'><a name='56_37' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='56_66'>"key.syntactic_only"</a></span>)
0057    
0058        <span class='doccomment'><a name='58_5'>/** request arguments */</a></span>
0059        <span class='builtin'><a name='59_5'>lazy</a></span> <span class='keyword'><a name='59_10'>var</a></span> <span class='identifier'><a name='59_14' href='#' title='s:vC7siteify9SourceKit8offsetIDVSs14COpaquePointer' onclick='return expand(this);'>offsetID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#330_42"; event.stopPropagation(); return false;'>main.swift:330</td><td><pre>            let offset = dict.getInt( SK.<b>offsetID</b> )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#133_55"; return false;'>SourceKit.swift:133</td><td><pre>        sourcekitd_request_dictionary_set_int64( req, <b>offsetID</b>, Int64(byteOffset) )</pre></td></table></span></a></span> = <span class='identifier'><a name='59_25' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='59_54'>"key.offset"</a></span>)
0060        <span class='builtin'><a name='60_5'>lazy</a></span> <span class='keyword'><a name='60_10'>var</a></span> <span class='identifier'><a name='60_14' href='#' title='s:vC7siteify9SourceKit12sourceFileIDVSs14COpaquePointer' onclick='return expand(this);'>sourceFileID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#132_56"; return false;'>SourceKit.swift:132</td><td><pre>        sourcekitd_request_dictionary_set_string( req, <b>sourceFileID</b>, filePath )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#143_56"; return false;'>SourceKit.swift:143</td><td><pre>        sourcekitd_request_dictionary_set_string( req, <b>sourceFileID</b>, filePath )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#154_56"; return false;'>SourceKit.swift:154</td><td><pre>        sourcekitd_request_dictionary_set_string( req, <b>sourceFileID</b>, filePath )</pre></td></table></span></a></span> = <span class='identifier'><a name='60_29' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='60_58'>"key.sourcefile"</a></span>)
0061        <span class='builtin'><a name='61_5'>lazy</a></span> <span class='keyword'><a name='61_10'>var</a></span> <span class='identifier'><a name='61_14' href='#' title='s:vC7siteify9SourceKit14compilerArgsIDVSs14COpaquePointer' onclick='return expand(this);'>compilerArgsID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#134_55"; return false;'>SourceKit.swift:134</td><td><pre>        sourcekitd_request_dictionary_set_value( req, <b>compilerArgsID</b>, compilerArgs )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#144_55"; return false;'>SourceKit.swift:144</td><td><pre>        sourcekitd_request_dictionary_set_value( req, <b>compilerArgsID</b>, compilerArgs )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#155_55"; return false;'>SourceKit.swift:155</td><td><pre>        sourcekitd_request_dictionary_set_value( req, <b>compilerArgsID</b>, compilerArgs )</pre></td></table></span></a></span> = <span class='identifier'><a name='61_31' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='61_60'>"key.compilerargs"</a></span>)
0062    
0063        <span class='doccomment'><a name='63_5'>/** sub entity lists */</a></span>
0064        <span class='builtin'><a name='64_5'>lazy</a></span> <span class='keyword'><a name='64_10'>var</a></span> <span class='identifier'><a name='64_14'>depedenciesID</a></span> = <span class='identifier'><a name='64_30' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='64_59'>"key.dependencies"</a></span>)
0065        <span class='builtin'><a name='65_5'>lazy</a></span> <span class='keyword'><a name='65_10'>var</a></span> <span class='identifier'><a name='65_14'>overridesID</a></span> = <span class='identifier'><a name='65_28' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='65_57'>"key.overrides"</a></span>)
0066        <span class='builtin'><a name='66_5'>lazy</a></span> <span class='keyword'><a name='66_10'>var</a></span> <span class='identifier'><a name='66_14' href='#' title='s:vC7siteify9SourceKit10entitiesIDVSs14COpaquePointer' onclick='return expand(this);'>entitiesID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#239_28"; event.stopPropagation(); return false;'>main.swift:239</td><td><pre>        SK.recurseOver( SK.<b>entitiesID</b>, resp: dict, block: { dict in</pre></td></table></span></a></span> = <span class='identifier'><a name='66_27' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='66_56'>"key.entities"</a></span>)
0067        <span class='builtin'><a name='67_5'>lazy</a></span> <span class='keyword'><a name='67_10'>var</a></span> <span class='identifier'><a name='67_14' href='#' title='s:vC7siteify9SourceKit8syntaxIDVSs14COpaquePointer' onclick='return expand(this);'>syntaxID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#326_69"; event.stopPropagation(); return false;'>main.swift:326</td><td><pre>        let map = sourcekitd_variant_dictionary_get_value( dict, SK.<b>syntaxID</b> )</pre></td></table></span></a></span> = <span class='identifier'><a name='67_25' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='67_54'>"key.syntaxmap"</a></span>)
0068    
0069        <span class='doccomment'><a name='69_5'>/** entity attributes */</a></span>
0070        <span class='builtin'><a name='70_5'>lazy</a></span> <span class='keyword'><a name='70_10'>var</a></span> <span class='identifier'><a name='70_14'>receiverID</a></span> = <span class='identifier'><a name='70_27' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='70_56'>"key.receiver_usr"</a></span>)
0071        <span class='builtin'><a name='71_5'>lazy</a></span> <span class='keyword'><a name='71_10'>var</a></span> <span class='identifier'><a name='71_14'>isDynamicID</a></span> = <span class='identifier'><a name='71_28' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='71_57'>"key.is_dynamic"</a></span>)
0072        <span class='builtin'><a name='72_5'>lazy</a></span> <span class='keyword'><a name='72_10'>var</a></span> <span class='identifier'><a name='72_14'>isSystemID</a></span> = <span class='identifier'><a name='72_27' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='72_56'>"key.is_system"</a></span>)
0073        <span class='builtin'><a name='73_5'>lazy</a></span> <span class='keyword'><a name='73_10'>var</a></span> <span class='identifier'><a name='73_14'>moduleID</a></span> = <span class='identifier'><a name='73_25' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='73_54'>"key.modulename"</a></span>)
0074        <span class='builtin'><a name='74_5'>lazy</a></span> <span class='keyword'><a name='74_10'>var</a></span> <span class='identifier'><a name='74_14' href='#' title='s:vC7siteify9SourceKit8lengthIDVSs14COpaquePointer' onclick='return expand(this);'>lengthID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#331_42"; event.stopPropagation(); return false;'>main.swift:331</td><td><pre>            let length = dict.getInt( SK.<b>lengthID</b> )</pre></td></table></span></a></span> = <span class='identifier'><a name='74_25' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='74_54'>"key.length"</a></span>)
0075        <span class='builtin'><a name='75_5'>lazy</a></span> <span class='keyword'><a name='75_10'>var</a></span> <span class='identifier'><a name='75_14' href='#' title='s:vC7siteify9SourceKit6kindIDVSs14COpaquePointer' onclick='return expand(this);'>kindID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#249_51"; event.stopPropagation(); return false;'>main.swift:249</td><td><pre>                let kind = dict.getUUIDString( SK.<b>kindID</b> )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#265_43"; event.stopPropagation(); return false;'>main.swift:265</td><td><pre>        let kind = dict.getUUIDString( SK.<b>kindID</b> )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#328_47"; event.stopPropagation(); return false;'>main.swift:328</td><td><pre>            let kind = dict.getUUIDString( SK.<b>kindID</b> )</pre></td></table></span></a></span> = <span class='identifier'><a name='75_23' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='75_52'>"key.kind"</a></span>)
0076        <span class='builtin'><a name='76_5'>lazy</a></span> <span class='keyword'><a name='76_10'>var</a></span> <span class='identifier'><a name='76_14' href='#' title='s:vC7siteify9SourceKit6nameIDVSs14COpaquePointer' onclick='return expand(this);'>nameID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#153_56"; return false;'>SourceKit.swift:153</td><td><pre>        sourcekitd_request_dictionary_set_string( req, <b>nameID</b>, filePath )</pre></td></table></span></a></span> = <span class='identifier'><a name='76_23' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='76_52'>"key.name"</a></span>)
0077        <span class='builtin'><a name='77_5'>lazy</a></span> <span class='keyword'><a name='77_10'>var</a></span> <span class='identifier'><a name='77_14' href='#' title='s:vC7siteify9SourceKit6lineIDVSs14COpaquePointer' onclick='return expand(this);'>lineID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#242_43"; event.stopPropagation(); return false;'>main.swift:242</td><td><pre>                    line: dict.getInt( SK.<b>lineID</b> ),</pre></td></table></span></a></span> = <span class='identifier'><a name='77_23' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='77_52'>"key.line"</a></span>)
0078        <span class='builtin'><a name='78_5'>lazy</a></span> <span class='keyword'><a name='78_10'>var</a></span> <span class='identifier'><a name='78_14' href='#' title='s:vC7siteify9SourceKit5colIDVSs14COpaquePointer' onclick='return expand(this);'>colID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#243_42"; event.stopPropagation(); return false;'>main.swift:243</td><td><pre>                    col: dict.getInt( SK.<b>colID</b> ) )</pre></td></table></span></a></span> = <span class='identifier'><a name='78_22' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='78_51'>"key.column"</a></span>)
0079        <span class='builtin'><a name='79_5'>lazy</a></span> <span class='keyword'><a name='79_10'>var</a></span> <span class='identifier'><a name='79_14' href='#' title='s:vC7siteify9SourceKit5usrIDVSs14COpaquePointer' onclick='return expand(this);'>usrID<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#240_51"; event.stopPropagation(); return false;'>main.swift:240</td><td><pre>            if let usrString = dict.getString( SK.<b>usrID</b> ) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#264_37"; event.stopPropagation(); return false;'>main.swift:264</td><td><pre>    if let usr = dict.getString( SK.<b>usrID</b> ) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#342_78"; event.stopPropagation(); return false;'>main.swift:342</td><td><pre>            else if let dict = entities[ent], usrString = dict.getString( SK.<b>usrID</b> ) {</pre></td></table></span></a></span> = <span class='identifier'><a name='79_22' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='79_51'>"key.usr"</a></span>)
0080    
0081        <span class='doccomment'><a name='81_5'>/** kinds */</a></span>
0082        <span class='builtin'><a name='82_5'>lazy</a></span> <span class='keyword'><a name='82_10'>var</a></span> <span class='identifier'><a name='82_14'>clangID</a></span> = <span class='identifier'><a name='82_24' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='82_53'>"source.lang.swift.import.module.clang"</a></span>)
0083    
0084        <span class='doccomment'><a name='84_5'>/** declarations */</a></span>
0085        <span class='builtin'><a name='85_5'>lazy</a></span> <span class='keyword'><a name='85_10'>var</a></span> <span class='identifier'><a name='85_14'>structID</a></span> = <span class='identifier'><a name='85_25' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='85_54'>"source.lang.swift.decl.struct"</a></span>)
0086        <span class='builtin'><a name='86_5'>lazy</a></span> <span class='keyword'><a name='86_10'>var</a></span> <span class='identifier'><a name='86_14'>classID</a></span> = <span class='identifier'><a name='86_24' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='86_53'>"source.lang.swift.decl.class"</a></span>)
0087        <span class='builtin'><a name='87_5'>lazy</a></span> <span class='keyword'><a name='87_10'>var</a></span> <span class='identifier'><a name='87_14'>enumID</a></span> = <span class='identifier'><a name='87_23' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='87_52'>"source.lang.swift.decl.enum"</a></span>)
0088    
0089        <span class='doccomment'><a name='89_5'>/** references */</a></span>
0090        <span class='builtin'><a name='90_5'>lazy</a></span> <span class='keyword'><a name='90_10'>var</a></span> <span class='identifier'><a name='90_14'>classVarID</a></span> = <span class='identifier'><a name='90_27' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='90_56'>"source.lang.swift.ref.function.var.class"</a></span>)
0091        <span class='builtin'><a name='91_5'>lazy</a></span> <span class='keyword'><a name='91_10'>var</a></span> <span class='identifier'><a name='91_14'>classMethodID</a></span> = <span class='identifier'><a name='91_30' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='91_59'>"source.lang.swift.ref.function.method.class"</a></span>)
0092        <span class='builtin'><a name='92_5'>lazy</a></span> <span class='keyword'><a name='92_10'>var</a></span> <span class='identifier'><a name='92_14'>initID</a></span> = <span class='identifier'><a name='92_23' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='92_52'>"source.lang.swift.ref.function.constructor"</a></span>)
0093        <span class='builtin'><a name='93_5'>lazy</a></span> <span class='keyword'><a name='93_10'>var</a></span> <span class='identifier'><a name='93_14'>varID</a></span> = <span class='identifier'><a name='93_22' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='93_51'>"source.lang.swift.ref.var.instance"</a></span>)
0094        <span class='builtin'><a name='94_5'>lazy</a></span> <span class='keyword'><a name='94_10'>var</a></span> <span class='identifier'><a name='94_14'>methodID</a></span> = <span class='identifier'><a name='94_25' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='94_54'>"source.lang.swift.ref.function.method.instance"</a></span>)
0095        <span class='builtin'><a name='95_5'>lazy</a></span> <span class='keyword'><a name='95_10'>var</a></span> <span class='identifier'><a name='95_14'>elementID</a></span> = <span class='identifier'><a name='95_26' title='c:@F@sourcekitd_uid_get_from_cstr'>sourcekitd_uid_get_from_cstr</a></span>(<span class='string'><a name='95_55'>"source.lang.swift.ref.enumelement"</a></span>)
0096    
0097        <span class='keyword'><a name='97_5' href='#' title='s:FC7siteify9SourceKitcFMS0_FT_S0_' onclick='return expand(this);'>init<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#16_10"; event.stopPropagation(); return false;'>main.swift:16</td><td><pre>let SK = <b>SourceKit</b>()</pre></td></table></span></a></span>() {
0098            <span class='identifier'><a name='98_9' title='c:@F@sourcekitd_initialize'>sourcekitd_initialize</a></span>()
0099        }
0100    
0101        <span class='keyword'><a name='101_5'>func</a></span> <span class='identifier'><a name='101_10' href='#' title='s:FC7siteify9SourceKit5arrayFS0_FGSaSS_GVSs20UnsafeMutablePointerT__' onclick='return expand(this);'>array<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#127_43"; event.stopPropagation(); return false;'>main.swift:127</td><td><pre>        compilations.append( (primary, SK.<b>array</b>( out ) ) )</pre></td></table></span></a></span>( <span class='identifier'><a name='101_17'>argv</a></span>: [<span class='typeidentifier'><a name='101_24' title='s:SS'>String</a></span>] ) -> <span class='typeidentifier'><a name='101_37' title='c:sourcekitd.h@T@sourcekitd_object_t'>sourcekitd_object_t</a></span> {
0102            <span class='keyword'><a name='102_9'>let</a></span> <span class='identifier'><a name='102_13'>objects</a></span> = <span class='identifier'><a name='102_23'>argv</a></span>.<span class='identifier'><a name='102_28' title='s:FeRq_Ss14CollectionType_SsS_3mapu__Rq_S__Fq_FzFzqqq_S_9GeneratorSs13GeneratorType7Elementqd__GSaqd___'>map</a></span> { <span class='identifier'><a name='102_34' title='c:@F@sourcekitd_request_string_create'>sourcekitd_request_string_create</a></span>( <span class='identifier'><a name='102_68'>$0</a></span> ) }
0103            <span class='keyword'><a name='103_9'>return</a></span> <span class='identifier'><a name='103_16' title='c:@F@sourcekitd_request_array_create'>sourcekitd_request_array_create</a></span>( <span class='identifier'><a name='103_49'>objects</a></span>, <span class='identifier'><a name='103_58'>objects</a></span>.<span class='identifier'><a name='103_66' title='s:vSa5countSi'>count</a></span> )
0104        }
0105    
0106        <span class='keyword'><a name='106_5'>func</a></span> <span class='identifier'><a name='106_10'>error</a></span>( <span class='identifier'><a name='106_17'>resp</a></span>: <span class='typeidentifier'><a name='106_23' title='c:sourcekitd.h@T@sourcekitd_response_t'>sourcekitd_response_t</a></span> ) -> <span class='typeidentifier'><a name='106_50' title='s:SS'>String</a></span>? {
0107            <span class='keyword'><a name='107_9'>if</a></span> <span class='identifier'><a name='107_12' title='c:@F@sourcekitd_response_is_error'>sourcekitd_response_is_error</a></span>( <span class='identifier'><a name='107_42'>resp</a></span> ) {
0108                <span class='keyword'><a name='108_13'>return</a></span> <span class='identifier'><a name='108_20' title='s:SS'>String</a></span>.<span class='identifier'><a name='108_27' title='s:ZFSS11fromCStringFMSSFGVSs13UnsafePointerVSs4Int8_GSqSS_'>fromCString</a></span>( <span class='identifier'><a name='108_40' title='c:@F@sourcekitd_response_error_get_description'>sourcekitd_response_error_get_description</a></span>( <span class='identifier'><a name='108_83'>resp</a></span> ) )
0109            }
0110            <span class='keyword'><a name='110_9'>return</a></span> <span class='keyword'><a name='110_16'>nil</a></span>
0111        }
0112    
0113        <span class='keyword'><a name='113_5'>func</a></span> <span class='identifier'><a name='113_10' href='#' title='s:FC7siteify9SourceKit11sendRequestFS0_FGVSs20UnsafeMutablePointerT__GS1_T__' onclick='return expand(this);'>sendRequest<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#136_16"; return false;'>SourceKit.swift:136</td><td><pre>        return <b>sendRequest</b>( req )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#146_16"; return false;'>SourceKit.swift:146</td><td><pre>        return <b>sendRequest</b>( req )</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#160_16"; return false;'>SourceKit.swift:160</td><td><pre>        return <b>sendRequest</b>( req )</pre></td></table></span></a></span>( <span class='identifier'><a name='113_23'>req</a></span>: <span class='typeidentifier'><a name='113_28' title='c:sourcekitd.h@T@sourcekitd_object_t'>sourcekitd_object_t</a></span> ) -> <span class='typeidentifier'><a name='113_53' title='c:sourcekitd.h@T@sourcekitd_response_t'>sourcekitd_response_t</a></span> {
0114    
0115            <span class='keyword'><a name='115_9'>if</a></span> <span class='identifier'><a name='115_12' href='SourceKit.html#15_5' title='s:v7siteify5isTTYSb'>isTTY</a></span> {
0116                <span class='identifier'><a name='116_13' title='c:@F@sourcekitd_request_description_dump'>sourcekitd_request_description_dump</a></span>( <span class='identifier'><a name='116_50'>req</a></span> )
0117            }
0118    
0119            <span class='keyword'><a name='119_9'>let</a></span> <span class='identifier'><a name='119_13'>resp</a></span> = <span class='identifier'><a name='119_20' title='c:@F@sourcekitd_send_request_sync'>sourcekitd_send_request_sync</a></span>( <span class='identifier'><a name='119_50'>req</a></span> )
0120    
0121            <span class='keyword'><a name='121_9'>if</a></span> <span class='identifier'><a name='121_12' href='SourceKit.html#15_5' title='s:v7siteify5isTTYSb'>isTTY</a></span> && !<span class='identifier'><a name='121_22' title='c:@F@sourcekitd_response_is_error'>sourcekitd_response_is_error</a></span>( <span class='identifier'><a name='121_52'>resp</a></span> ) {
0122                <span class='identifier'><a name='122_13' title='c:@F@sourcekitd_response_description_dump_filedesc'>sourcekitd_response_description_dump_filedesc</a></span>( <span class='identifier'><a name='122_60'>resp</a></span>, <span class='identifier'><a name='122_66' title='c:@macro@STDERR_FILENO'>STDERR_FILENO</a></span> )
0123            }
0124    
0125            <span class='keyword'><a name='125_9'>return</a></span> <span class='identifier'><a name='125_16'>resp</a></span>
0126        }
0127    
0128        <span class='keyword'><a name='128_5'>func</a></span> <span class='identifier'><a name='128_10'>cursorInfo</a></span>( <span class='identifier'><a name='128_22'>filePath</a></span>: <span class='typeidentifier'><a name='128_32' title='s:SS'>String</a></span>, <span class='identifier'><a name='128_40'>byteOffset</a></span>: <span class='typeidentifier'><a name='128_52' title='s:VSs5Int32'>Int32</a></span>, <span class='identifier'><a name='128_59'>compilerArgs</a></span>: <span class='typeidentifier'><a name='128_73' title='c:sourcekitd.h@T@sourcekitd_object_t'>sourcekitd_object_t</a></span> ) -> <span class='typeidentifier'><a name='128_98' title='c:sourcekitd.h@T@sourcekitd_response_t'>sourcekitd_response_t</a></span> {
0129            <span class='keyword'><a name='129_9'>let</a></span> <span class='identifier'><a name='129_13'>req</a></span> = <span class='identifier'><a name='129_19' title='c:@F@sourcekitd_request_dictionary_create'>sourcekitd_request_dictionary_create</a></span>( <span class='keyword'><a name='129_57'>nil</a></span>, <span class='keyword'><a name='129_62'>nil</a></span>, <span class='number'><a name='129_67'>0</a></span> )
0130    
0131            <span class='identifier'><a name='131_9' title='c:@F@sourcekitd_request_dictionary_set_uid'>sourcekitd_request_dictionary_set_uid</a></span>( <span class='identifier'><a name='131_48'>req</a></span>, <span class='identifier'><a name='131_53' href='SourceKit.html#49_22' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D9requestIDVSs14COpaquePointer'>requestID</a></span>, <span class='identifier'><a name='131_64' href='SourceKit.html#50_22' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D15cursorRequestIDVSs14COpaquePointer'>cursorRequestID</a></span> )
0132            <span class='identifier'><a name='132_9' title='c:@F@sourcekitd_request_dictionary_set_string'>sourcekitd_request_dictionary_set_string</a></span>( <span class='identifier'><a name='132_51'>req</a></span>, <span class='identifier'><a name='132_56' href='SourceKit.html#60_14' title='s:vC7siteify9SourceKit12sourceFileIDVSs14COpaquePointer'>sourceFileID</a></span>, <span class='identifier'><a name='132_70'>filePath</a></span> )
0133            <span class='identifier'><a name='133_9' title='c:@F@sourcekitd_request_dictionary_set_int64'>sourcekitd_request_dictionary_set_int64</a></span>( <span class='identifier'><a name='133_50'>req</a></span>, <span class='identifier'><a name='133_55' href='SourceKit.html#59_14' title='s:vC7siteify9SourceKit8offsetIDVSs14COpaquePointer'>offsetID</a></span>, <span class='identifier'><a name='133_65' title='s:FVSs5Int64cFMS_FVSs5Int32S_'>Int64</a></span>(<span class='identifier'><a name='133_71'>byteOffset</a></span>) )
0134            <span class='identifier'><a name='134_9' title='c:@F@sourcekitd_request_dictionary_set_value'>sourcekitd_request_dictionary_set_value</a></span>( <span class='identifier'><a name='134_50'>req</a></span>, <span class='identifier'><a name='134_55' href='SourceKit.html#61_14' title='s:vC7siteify9SourceKit14compilerArgsIDVSs14COpaquePointer'>compilerArgsID</a></span>, <span class='identifier'><a name='134_71'>compilerArgs</a></span> )
0135    
0136            <span class='keyword'><a name='136_9'>return</a></span> <span class='identifier'><a name='136_16' href='SourceKit.html#113_10' title='s:FC7siteify9SourceKit11sendRequestFS0_FGVSs20UnsafeMutablePointerT__GS1_T__'>sendRequest</a></span>( <span class='identifier'><a name='136_29'>req</a></span> )
0137        }
0138    
0139        <span class='keyword'><a name='139_5'>func</a></span> <span class='identifier'><a name='139_10' href='#' title='s:FC7siteify9SourceKit9indexFileFS0_FTSS12compilerArgsGVSs20UnsafeMutablePointerT___GS1_T__' onclick='return expand(this);'>indexFile<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#237_23"; event.stopPropagation(); return false;'>main.swift:237</td><td><pre>        let resp = SK.<b>indexFile</b>( file, compilerArgs: argv )</pre></td></table></span></a></span>( <span class='identifier'><a name='139_21'>filePath</a></span>: <span class='typeidentifier'><a name='139_31' title='s:SS'>String</a></span>, <span class='identifier'><a name='139_39'>compilerArgs</a></span>: <span class='typeidentifier'><a name='139_53' title='c:sourcekitd.h@T@sourcekitd_object_t'>sourcekitd_object_t</a></span> ) -> <span class='typeidentifier'><a name='139_78' title='c:sourcekitd.h@T@sourcekitd_response_t'>sourcekitd_response_t</a></span> {
0140            <span class='keyword'><a name='140_9'>let</a></span> <span class='identifier'><a name='140_13'>req</a></span> = <span class='identifier'><a name='140_19' title='c:@F@sourcekitd_request_dictionary_create'>sourcekitd_request_dictionary_create</a></span>( <span class='keyword'><a name='140_57'>nil</a></span>, <span class='keyword'><a name='140_62'>nil</a></span>, <span class='number'><a name='140_67'>0</a></span> )
0141    
0142            <span class='identifier'><a name='142_9' title='c:@F@sourcekitd_request_dictionary_set_uid'>sourcekitd_request_dictionary_set_uid</a></span>( <span class='identifier'><a name='142_48'>req</a></span>, <span class='identifier'><a name='142_53' href='SourceKit.html#49_22' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D9requestIDVSs14COpaquePointer'>requestID</a></span>, <span class='identifier'><a name='142_64' href='SourceKit.html#51_22' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D14indexRequestIDVSs14COpaquePointer'>indexRequestID</a></span> )
0143            <span class='identifier'><a name='143_9' title='c:@F@sourcekitd_request_dictionary_set_string'>sourcekitd_request_dictionary_set_string</a></span>( <span class='identifier'><a name='143_51'>req</a></span>, <span class='identifier'><a name='143_56' href='SourceKit.html#60_14' title='s:vC7siteify9SourceKit12sourceFileIDVSs14COpaquePointer'>sourceFileID</a></span>, <span class='identifier'><a name='143_70'>filePath</a></span> )
0144            <span class='identifier'><a name='144_9' title='c:@F@sourcekitd_request_dictionary_set_value'>sourcekitd_request_dictionary_set_value</a></span>( <span class='identifier'><a name='144_50'>req</a></span>, <span class='identifier'><a name='144_55' href='SourceKit.html#61_14' title='s:vC7siteify9SourceKit14compilerArgsIDVSs14COpaquePointer'>compilerArgsID</a></span>, <span class='identifier'><a name='144_71'>compilerArgs</a></span> )
0145    
0146            <span class='keyword'><a name='146_9'>return</a></span> <span class='identifier'><a name='146_16' href='SourceKit.html#113_10' title='s:FC7siteify9SourceKit11sendRequestFS0_FGVSs20UnsafeMutablePointerT__GS1_T__'>sendRequest</a></span>( <span class='identifier'><a name='146_29'>req</a></span> )
0147        }
0148    
0149        <span class='keyword'><a name='149_5'>func</a></span> <span class='identifier'><a name='149_10' href='#' title='s:FC7siteify9SourceKit9syntaxMapFS0_FTSS12compilerArgsGVSs20UnsafeMutablePointerT___GS1_T__' onclick='return expand(this);'>syntaxMap<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#324_23"; event.stopPropagation(); return false;'>main.swift:324</td><td><pre>        let resp = SK.<b>syntaxMap</b>( file, compilerArgs: argv )</pre></td></table></span></a></span>( <span class='identifier'><a name='149_21'>filePath</a></span>: <span class='typeidentifier'><a name='149_31' title='s:SS'>String</a></span>, <span class='identifier'><a name='149_39'>compilerArgs</a></span>: <span class='typeidentifier'><a name='149_53' title='c:sourcekitd.h@T@sourcekitd_object_t'>sourcekitd_object_t</a></span> ) -> <span class='typeidentifier'><a name='149_78' title='c:sourcekitd.h@T@sourcekitd_response_t'>sourcekitd_response_t</a></span> {
0150            <span class='keyword'><a name='150_9'>let</a></span> <span class='identifier'><a name='150_13'>req</a></span> = <span class='identifier'><a name='150_19' title='c:@F@sourcekitd_request_dictionary_create'>sourcekitd_request_dictionary_create</a></span>( <span class='keyword'><a name='150_57'>nil</a></span>, <span class='keyword'><a name='150_62'>nil</a></span>, <span class='number'><a name='150_67'>0</a></span> )
0151    
0152            <span class='identifier'><a name='152_9' title='c:@F@sourcekitd_request_dictionary_set_uid'>sourcekitd_request_dictionary_set_uid</a></span>( <span class='identifier'><a name='152_48'>req</a></span>, <span class='identifier'><a name='152_53' href='SourceKit.html#49_22' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D9requestIDVSs14COpaquePointer'>requestID</a></span>, <span class='identifier'><a name='152_64' href='SourceKit.html#52_22' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D12editorOpenIDVSs14COpaquePointer'>editorOpenID</a></span> )
0153            <span class='identifier'><a name='153_9' title='c:@F@sourcekitd_request_dictionary_set_string'>sourcekitd_request_dictionary_set_string</a></span>( <span class='identifier'><a name='153_51'>req</a></span>, <span class='identifier'><a name='153_56' href='SourceKit.html#76_14' title='s:vC7siteify9SourceKit6nameIDVSs14COpaquePointer'>nameID</a></span>, <span class='identifier'><a name='153_64'>filePath</a></span> )
0154            <span class='identifier'><a name='154_9' title='c:@F@sourcekitd_request_dictionary_set_string'>sourcekitd_request_dictionary_set_string</a></span>( <span class='identifier'><a name='154_51'>req</a></span>, <span class='identifier'><a name='154_56' href='SourceKit.html#60_14' title='s:vC7siteify9SourceKit12sourceFileIDVSs14COpaquePointer'>sourceFileID</a></span>, <span class='identifier'><a name='154_70'>filePath</a></span> )
0155            <span class='identifier'><a name='155_9' title='c:@F@sourcekitd_request_dictionary_set_value'>sourcekitd_request_dictionary_set_value</a></span>( <span class='identifier'><a name='155_50'>req</a></span>, <span class='identifier'><a name='155_55' href='SourceKit.html#61_14' title='s:vC7siteify9SourceKit14compilerArgsIDVSs14COpaquePointer'>compilerArgsID</a></span>, <span class='identifier'><a name='155_71'>compilerArgs</a></span> )
0156            <span class='identifier'><a name='156_9' title='c:@F@sourcekitd_request_dictionary_set_int64'>sourcekitd_request_dictionary_set_int64</a></span>( <span class='identifier'><a name='156_50'>req</a></span>, <span class='identifier'><a name='156_55' href='SourceKit.html#54_22' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D11enableMapIDVSs14COpaquePointer'>enableMapID</a></span>, <span class='number'><a name='156_68'>1</a></span> )
0157            <span class='identifier'><a name='157_9' title='c:@F@sourcekitd_request_dictionary_set_int64'>sourcekitd_request_dictionary_set_int64</a></span>( <span class='identifier'><a name='157_50'>req</a></span>, <span class='identifier'><a name='157_55' href='SourceKit.html#55_22' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D11enableSubIDVSs14COpaquePointer'>enableSubID</a></span>, <span class='number'><a name='157_68'>0</a></span> )
0158            <span class='identifier'><a name='158_9' title='c:@F@sourcekitd_request_dictionary_set_int64'>sourcekitd_request_dictionary_set_int64</a></span>( <span class='identifier'><a name='158_50'>req</a></span>, <span class='identifier'><a name='158_55' href='SourceKit.html#56_22' title='s:vC7siteify9SourceKitP33_C56496606D7D315E4489D135D5828D0D12syntaxOnlyIDVSs14COpaquePointer'>syntaxOnlyID</a></span>, <span class='number'><a name='158_69'>1</a></span> )
0159    
0160            <span class='keyword'><a name='160_9'>return</a></span> <span class='identifier'><a name='160_16' href='SourceKit.html#113_10' title='s:FC7siteify9SourceKit11sendRequestFS0_FGVSs20UnsafeMutablePointerT__GS1_T__'>sendRequest</a></span>( <span class='identifier'><a name='160_29'>req</a></span> )
0161        }
0162    
0163        <span class='keyword'><a name='163_5'>func</a></span> <span class='identifier'><a name='163_10' href='#' title='s:FC7siteify9SourceKit11recurseOverFS0_FTVSs14COpaquePointer4respVSC20sourcekitd_variant_t6indentSS10visualiserGSqPS_10Visualiser__5blockFT4dictS2__T__T_' onclick='return expand(this);'>recurseOver<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.html#239_12"; event.stopPropagation(); return false;'>main.swift:239</td><td><pre>        SK.<b>recurseOver</b>( SK.entitiesID, resp: dict, block: { dict in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="SourceKit.html#176_22"; return false;'>SourceKit.swift:176</td><td><pre>                self.<b>recurseOver</b>( childID, resp: dict, indent: indent+"  ", visualiser: visualiser, block: block )</pre></td></table></span></a></span>( <span class='identifier'><a name='163_23'>childID</a></span>: <span class='typeidentifier'><a name='163_32' title='c:sourcekitd.h@T@sourcekitd_uid_t'>sourcekitd_uid_t</a></span>, <span class='identifier'><a name='163_50'>resp</a></span>: <span class='typeidentifier'><a name='163_56' title='c:@SA@sourcekitd_variant_t'>sourcekitd_variant_t</a></span>,
0164                <span class='identifier'><a name='164_13'>indent</a></span>: <span class='typeidentifier'><a name='164_21' title='s:SS'>String</a></span> = <span class='string'><a name='164_30'>""</a></span>, <span class='identifier'><a name='164_34'>visualiser</a></span>: <span class='typeidentifier'><a name='164_46' href='SourceKit.html#17_10' title='s:P7siteify10Visualiser'>Visualiser</a></span>? = <span class='keyword'><a name='164_60'>nil</a></span>,
0165                <span class='identifier'><a name='165_13'>block</a></span>: ( <span class='identifier'><a name='165_22'>dict</a></span>: <span class='typeidentifier'><a name='165_28' title='c:@SA@sourcekitd_variant_t'>sourcekitd_variant_t</a></span> ) -> ()) {
0166    
0167            <span class='keyword'><a name='167_9'>let</a></span> <span class='identifier'><a name='167_13'>children</a></span> = <span class='identifier'><a name='167_24' title='c:@F@sourcekitd_variant_dictionary_get_value'>sourcekitd_variant_dictionary_get_value</a></span>( <span class='identifier'><a name='167_65'>resp</a></span>, <span class='identifier'><a name='167_71'>childID</a></span> )
0168            <span class='keyword'><a name='168_9'>if</a></span> <span class='identifier'><a name='168_12' title='c:@F@sourcekitd_variant_get_type'>sourcekitd_variant_get_type</a></span>( <span class='identifier'><a name='168_41'>children</a></span> ) == <span class='identifier'><a name='168_55' title='c:@EA@sourcekitd_variant_type_t@SOURCEKITD_VARIANT_TYPE_ARRAY'>SOURCEKITD_VARIANT_TYPE_ARRAY</a></span> {
0169    
0170                <span class='identifier'><a name='170_13'>visualiser</a></span>?.<span class='identifier'><a name='170_25' href='SourceKit.html#19_10' title='s:FP7siteify10Visualiser5enteruRq_S0__Fq_FT_T_'>enter</a></span>()
0171                <span class='identifier'><a name='171_13' title='c:@F@sourcekitd_variant_array_apply'>sourcekitd_variant_array_apply</a></span>( <span class='identifier'><a name='171_45'>children</a></span> ) { (<span class='keyword'><a name='171_59'>_</a></span>,<span class='identifier'><a name='171_61'>dict</a></span>) <span class='keyword'><a name='171_67'>in</a></span>
0172    
0173                    <span class='identifier'><a name='173_17'>block</a></span>( <span class='identifier'><a name='173_24'>dict</a></span>: <span class='identifier'><a name='173_30'>dict</a></span> )
0174                    <span class='identifier'><a name='174_17'>visualiser</a></span>?.<span class='identifier'><a name='174_29' href='SourceKit.html#20_10' title='s:FP7siteify10Visualiser7presentuRq_S0__Fq_FTVSC20sourcekitd_variant_t6indentSS_T_'>present</a></span>( <span class='identifier'><a name='174_38'>dict</a></span>, <span class='identifier'><a name='174_44'>indent</a></span>: <span class='identifier'><a name='174_52'>indent</a></span> )
0175    
0176                    <span class='keyword'><a name='176_17'>self</a></span>.<span class='identifier'><a name='176_22' href='SourceKit.html#163_10' title='s:FC7siteify9SourceKit11recurseOverFS0_FTVSs14COpaquePointer4respVSC20sourcekitd_variant_t6indentSS10visualiserGSqPS_10Visualiser__5blockFT4dictS2__T__T_'>recurseOver</a></span>( <span class='identifier'><a name='176_35'>childID</a></span>, <span class='identifier'><a name='176_44'>resp</a></span>: <span class='identifier'><a name='176_50'>dict</a></span>, <span class='identifier'><a name='176_56'>indent</a></span>: <span class='identifier'><a name='176_64'>indent</a></span>+<span class='string'><a name='176_71'>"  "</a></span>, <span class='identifier'><a name='176_77'>visualiser</a></span>: <span class='identifier'><a name='176_89'>visualiser</a></span>, <span class='identifier'><a name='176_101'>block</a></span>: <span class='identifier'><a name='176_108'>block</a></span> )
0177                    <span class='keyword'><a name='177_17'>return</a></span> <span class='keyword'><a name='177_24'>true</a></span>
0178                }
0179                <span class='identifier'><a name='179_13'>visualiser</a></span>?.<span class='identifier'><a name='179_25' href='SourceKit.html#21_10' title='s:FP7siteify10Visualiser4exituRq_S0__Fq_FT_T_'>exit</a></span>()
0180            }
0181        }
0182    
0183        <span class='keyword'><a name='183_5'>func</a></span> <span class='identifier'><a name='183_10'>disectUSR</a></span>( <span class='identifier'><a name='183_21'>usr</a></span>: <span class='typeidentifier'><a name='183_26' title='c:objc(cs)NSString'>NSString</a></span> ) -> [<span class='typeidentifier'><a name='183_41' title='s:SS'>String</a></span>]? {
0184            <span class='keyword'><a name='184_9'>guard</a></span> <span class='identifier'><a name='184_15'>usr</a></span>.<span class='identifier'><a name='184_19' title='c:objc(cs)NSString(im)hasPrefix:'>hasPrefix</a></span>( <span class='string'><a name='184_30'>"s:"</a></span> ) <span class='keyword'><a name='184_37'>else</a></span> { <span class='keyword'><a name='184_44'>return</a></span> <span class='keyword'><a name='184_51'>nil</a></span> }
0185    
0186            <span class='keyword'><a name='186_9'>let</a></span> <span class='identifier'><a name='186_13'>digits</a></span> = <span class='identifier'><a name='186_22' title='c:objc(cs)NSCharacterSet'>NSCharacterSet</a></span>.<span class='identifier'><a name='186_37' title='c:objc(cs)NSCharacterSet(cm)decimalDigitCharacterSet'>decimalDigitCharacterSet</a></span>()
0187            <span class='keyword'><a name='187_9'>let</a></span> <span class='identifier'><a name='187_13'>scanner</a></span> = <span class='identifier'><a name='187_23' title='c:objc(cs)NSScanner(im)initWithString:'>NSScanner</a></span>( <span class='identifier'><a name='187_34'>string</a></span>: <span class='identifier'><a name='187_42'>usr</a></span> <span class='keyword'><a name='187_46'>as</a></span> <span class='typeidentifier'><a name='187_49' title='s:SS'>String</a></span> )
0188            <span class='keyword'><a name='188_9'>var</a></span> <span class='identifier'><a name='188_13'>out</a></span> = [<span class='identifier'><a name='188_20' title='s:SS'>String</a></span>]()
0189            <span class='keyword'><a name='189_9'>var</a></span> <span class='identifier'><a name='189_13'>wasZero</a></span> = <span class='keyword'><a name='189_23'>false</a></span>
0190    
0191            <span class='keyword'><a name='191_9'>while</a></span> !<span class='identifier'><a name='191_16'>scanner</a></span>.<span class='identifier'><a name='191_24' title='c:objc(cs)NSScanner(py)atEnd'>atEnd</a></span> {
0192    
0193                <span class='keyword'><a name='193_13'>var</a></span> <span class='identifier'><a name='193_17'>name</a></span>: <span class='typeidentifier'><a name='193_23' title='c:objc(cs)NSString'>NSString</a></span>?
0194                <span class='identifier'><a name='194_13'>scanner</a></span>.<span class='identifier'><a name='194_21' title='c:objc(cs)NSScanner(im)scanUpToCharactersFromSet:intoString:'>scanUpToCharactersFromSet</a></span>( <span class='identifier'><a name='194_48'>digits</a></span>, <span class='identifier'><a name='194_56'>intoString</a></span>: &<span class='identifier'><a name='194_69'>name</a></span> )
0195                <span class='keyword'><a name='195_13'>if</a></span> <span class='identifier'><a name='195_16'>name</a></span> != <span class='keyword'><a name='195_24'>nil</a></span>, <span class='keyword'><a name='195_29'>let</a></span> <span class='identifier'><a name='195_33'>name</a></span> = <span class='identifier'><a name='195_40'>name</a></span> <span class='keyword'><a name='195_45'>as</a></span>? <span class='typeidentifier'><a name='195_49' title='s:SS'>String</a></span> {
0196                    <span class='keyword'><a name='196_17'>if</a></span> <span class='identifier'><a name='196_20'>wasZero</a></span> {
0197                        <span class='identifier'><a name='197_21'>out</a></span>[<span class='identifier'><a name='197_25'>out</a></span>.<span class='identifier'><a name='197_29' title='s:vSa5countSi'>count</a></span>-<span class='number'><a name='197_35'>1</a></span>] += <span class='string'><a name='197_41'>"0"</a></span> + <span class='identifier'><a name='197_47'>name</a></span>
0198                        <span class='identifier'><a name='198_21'>wasZero</a></span> = <span class='keyword'><a name='198_31'>false</a></span>
0199                    }
0200                    <span class='keyword'><a name='200_17'>else</a></span> {
0201                        <span class='identifier'><a name='201_21'>out</a></span>.<span class='identifier'><a name='201_25' title='s:FSa6appendurFRGSaq__Fq_T_'>append</a></span>( <span class='identifier'><a name='201_33'>name</a></span> )
0202                    }
0203                }
0204    
0205                <span class='keyword'><a name='205_13'>var</a></span> <span class='identifier'><a name='205_17'>len</a></span> = <span class='number'><a name='205_23'>0</a></span>
0206                <span class='identifier'><a name='206_13'>scanner</a></span>.<span class='identifier'><a name='206_21' title='c:objc(cs)NSScanner(im)scanInteger:'>scanInteger</a></span>( &<span class='identifier'><a name='206_35'>len</a></span> )
0207                <span class='identifier'><a name='207_13'>wasZero</a></span> = <span class='identifier'><a name='207_23'>len</a></span> == <span class='number'><a name='207_30'>0</a></span>
0208                <span class='keyword'><a name='208_13'>if</a></span> <span class='identifier'><a name='208_16'>wasZero</a></span> {
0209                    <span class='keyword'><a name='209_17'>continue</a></span>
0210                }
0211    
0212                <span class='keyword'><a name='212_13'>if</a></span> <span class='identifier'><a name='212_16'>len</a></span> > <span class='identifier'><a name='212_22'>usr</a></span>.<span class='identifier'><a name='212_26' title='c:objc(cs)NSString(py)length'>length</a></span>-<span class='identifier'><a name='212_33'>scanner</a></span>.<span class='identifier'><a name='212_41' title='c:objc(cs)NSScanner(py)scanLocation'>scanLocation</a></span> {
0213                    <span class='identifier'><a name='213_17'>len</a></span> = <span class='identifier'><a name='213_23'>usr</a></span>.<span class='identifier'><a name='213_27' title='c:objc(cs)NSString(py)length'>length</a></span>-<span class='identifier'><a name='213_34'>scanner</a></span>.<span class='identifier'><a name='213_42' title='c:objc(cs)NSScanner(py)scanLocation'>scanLocation</a></span>
0214                }
0215    
0216                <span class='keyword'><a name='216_13'>let</a></span> <span class='identifier'><a name='216_17'>range</a></span> = <span class='identifier'><a name='216_25' title='c:@F@NSMakeRange'>NSMakeRange</a></span>( <span class='identifier'><a name='216_38'>scanner</a></span>.<span class='identifier'><a name='216_46' title='c:objc(cs)NSScanner(py)scanLocation'>scanLocation</a></span>, <span class='identifier'><a name='216_60'>len</a></span> )
0217                <span class='identifier'><a name='217_13'>out</a></span>.<span class='identifier'><a name='217_17' title='s:FSa6appendurFRGSaq__Fq_T_'>append</a></span>( <span class='identifier'><a name='217_25'>usr</a></span>.<span class='identifier'><a name='217_29' title='c:objc(cs)NSString(im)substringWithRange:'>substringWithRange</a></span>( <span class='identifier'><a name='217_49'>range</a></span> ) )
0218                <span class='identifier'><a name='218_13'>scanner</a></span>.<span class='identifier'><a name='218_21' title='c:objc(cs)NSScanner(py)scanLocation'>scanLocation</a></span> += <span class='identifier'><a name='218_37'>len</a></span>
0219            }
0220    
0221            <span class='keyword'><a name='221_9'>return</a></span> <span class='identifier'><a name='221_16'>out</a></span>
0222        }
0223    
0224    }
0225    