<html><head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="siteify.css">
<script>

var lastlink;

function expand(a) {
    if ( a.children[0].style.display != "block" ) {
        if ( lastlink )
            lastlink.style.display = "none";
        a.children[0].style.display = "block";
        lastlink = a.children[0];
    }
    else {
        a.children[0].style.display = "none";
        lastlink = null;
    }
    return false;
}

</script></head><body><h3>.build/checkouts/SwiftLSPClient/SwiftLSPClient/JSONRPCLanguageServer.swift</h3><pre><span class=linenum>0001</span>    <span class='comment'>//
<span class=linenum>0002</span>    </span><span class='comment'>//  RemoteLanguageServer.swift
<span class=linenum>0003</span>    </span><span class='comment'>//  SwiftLSPClient
<span class=linenum>0004</span>    </span><span class='comment'>//
<span class=linenum>0005</span>    </span><span class='comment'>//  Created by Matt Massicotte on 2018-10-13.
<span class=linenum>0006</span>    </span><span class='comment'>//  Copyright Â© 2018 Chime Systems. All rights reserved.
<span class=linenum>0007</span>    </span><span class='comment'>//
<span class=linenum>0008</span>    </span>
<span class=linenum>0009</span>    <span class='keyword'>import</span> <span class='identifier'>Foundation</span>
<span class=linenum>0010</span>    
<span class=linenum>0011</span>    <span class='builtin'>public</span> <span class='keyword'>class</span> <span class='identifier'><a name='11_13' href='#' title='usrString2' onclick='return expand(this);'>JSONRPCLanguageServer<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="LanguageServerProcessHost.swift.html#40_22"; event.stopPropagation(); return false;'>LanguageServerProcessHost.swift:40</td><td><pre>        self.server = JSONRPCLanguageServer(dataTransport: transport)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#25_10"; return false;'>JSONRPCLanguageServer.swift:25</td><td><pre>extension JSONRPCLanguageServer: ProtocolTransportDelegate {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#85_36"; return false;'>JSONRPCLanguageServer.swift:85</td><td><pre>private func relayResult&lt;T>(result: JSONRPCLanguageServer.ProtocolResponse&lt;T>, block: @escaping (LanguageServerResult&lt;T>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#107_10"; return false;'>JSONRPCLanguageServer.swift:107</td><td><pre>extension JSONRPCLanguageServer: LanguageServer {</pre></td></table></span></a></span> {
<span class=linenum>0012</span>        <span class='builtin'>private</span> <span class='keyword'>var</span> <span class='identifier'><a name='12_16' href='#' title='usrString2' onclick='return expand(this);'>messageId<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#17_13"; return false;'>JSONRPCLanguageServer.swift:17</td><td><pre>        self.messageId = 0</pre></td></table></span></a></span>: <span class='typeidentifier'>Int</span>
<span class=linenum>0013</span>        <span class='builtin'>private</span> <span class='keyword'>let</span> <span class='identifier'><a name='13_16' href='#' title='usrString2' onclick='return expand(this);'>protocolTransport<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#19_13"; return false;'>JSONRPCLanguageServer.swift:19</td><td><pre>        self.protocolTransport = ProtocolTransport(dataTransport: dataTransport)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#21_13"; return false;'>JSONRPCLanguageServer.swift:21</td><td><pre>        self.protocolTransport.delegate = self</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#113_8"; return false;'>JSONRPCLanguageServer.swift:113</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;InitializationResponse>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#121_8"; return false;'>JSONRPCLanguageServer.swift:121</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;Hover>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#129_8"; return false;'>JSONRPCLanguageServer.swift:129</td><td><pre>        protocolTransport.sendNotification(params, method: method) { (error) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#138_8"; return false;'>JSONRPCLanguageServer.swift:138</td><td><pre>        protocolTransport.sendNotification(params, method: method) { (error) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#147_8"; return false;'>JSONRPCLanguageServer.swift:147</td><td><pre>        protocolTransport.sendNotification(params, method: method) { (error) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#156_8"; return false;'>JSONRPCLanguageServer.swift:156</td><td><pre>        protocolTransport.sendNotification(params, method: method) { (error) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#165_8"; return false;'>JSONRPCLanguageServer.swift:165</td><td><pre>        protocolTransport.sendNotification(params, method: method)  { (error) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#174_8"; return false;'>JSONRPCLanguageServer.swift:174</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;WillSaveWaitUntilResponse>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#182_8"; return false;'>JSONRPCLanguageServer.swift:182</td><td><pre>        protocolTransport.sendNotification(params, method: method) { (error) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#191_8"; return false;'>JSONRPCLanguageServer.swift:191</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;CompletionResponse>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#199_8"; return false;'>JSONRPCLanguageServer.swift:199</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;SignatureHelp>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#207_8"; return false;'>JSONRPCLanguageServer.swift:207</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;DeclarationResponse?>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#216_8"; return false;'>JSONRPCLanguageServer.swift:216</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;DefinitionResponse?>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#224_8"; return false;'>JSONRPCLanguageServer.swift:224</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;TypeDefinitionResponse?>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#232_8"; return false;'>JSONRPCLanguageServer.swift:232</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;ImplementationResponse?>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#240_8"; return false;'>JSONRPCLanguageServer.swift:240</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;DocumentSymbolResponse>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#248_8"; return false;'>JSONRPCLanguageServer.swift:248</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;FormattingResult>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#256_8"; return false;'>JSONRPCLanguageServer.swift:256</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;FormattingResult>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#264_8"; return false;'>JSONRPCLanguageServer.swift:264</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;FormattingResult>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#272_8"; return false;'>JSONRPCLanguageServer.swift:272</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;ReferenceResponse?>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='13_35' href='ProtocolTransport.swift.html#25_30' title='usrString1'>ProtocolTransport</a></span>
<span class=linenum>0014</span>        <span class='builtin'>public</span> <span class='builtin'>weak</span> <span class='keyword'>var</span> <span class='identifier'><a name='14_20' href='#' title='usrString2' onclick='return expand(this);'>notificationResponder<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#35_30"; return false;'>JSONRPCLanguageServer.swift:35</td><td><pre>        guard let responder = notificationResponder else {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#64_24"; return false;'>JSONRPCLanguageServer.swift:64</td><td><pre>        let responder = notificationResponder</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='14_43' href='LanguageServer.swift.html#111_28' title='usrString1'>NotificationResponder</a></span>?
<span class=linenum>0015</span>        
<span class=linenum>0016</span>        <span class='builtin'>public</span> <span class='keyword'>init</span>(<span class='identifier'><a name='16_16' href='#' title='usrString2' onclick='return expand(this);'>dataTransport<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#19_66"; return false;'>JSONRPCLanguageServer.swift:19</td><td><pre>        self.protocolTransport = ProtocolTransport(dataTransport: dataTransport)</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='16_31' href='DataTransport.swift.html#11_9' title='usrString1'>DataTransport</a></span>) {
<span class=linenum>0017</span>            <span class='keyword'>self</span>.<span class='identifier'><a name='17_13' href='JSONRPCLanguageServer.swift.html#12_16' title='usrString1'>messageId</a></span> = <span class='number'>0</span>
<span class=linenum>0018</span>    
<span class=linenum>0019</span>            <span class='keyword'>self</span>.<span class='identifier'><a name='19_13' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span> = <span class='identifier'><a name='19_33' href='ProtocolTransport.swift.html#25_30' title='usrString1'>ProtocolTransport</a></span>(<span class='identifier'><a name='19_51' href='ProtocolTransport.swift.html#47_79' title='usrString1'>dataTransport</a></span>: <span class='identifier'><a name='19_66' href='JSONRPCLanguageServer.swift.html#16_16' title='usrString1'>dataTransport</a></span>)
<span class=linenum>0020</span>    
<span class=linenum>0021</span>            <span class='keyword'>self</span>.<span class='identifier'><a name='21_13' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='21_31' href='ProtocolTransport.swift.html#35_42' title='usrString1'>delegate</a></span> = <span class='keyword'>self</span>
<span class=linenum>0022</span>        }
<span class=linenum>0023</span>    }
<span class=linenum>0024</span>    
<span class=linenum>0025</span>    <span class='keyword'>extension</span> <span class='typeidentifier'><a name='25_10' href='JSONRPCLanguageServer.swift.html#11_13' title='usrString1'>JSONRPCLanguageServer</a></span>: <span class='typeidentifier'><a name='25_33' href='ProtocolTransport.swift.html#16_7' title='usrString1'>ProtocolTransportDelegate</a></span> {
<span class=linenum>0026</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='26_16' title='usrString2' onclick='return expand(this);'>transportReceived<span class='references'><table></table></span></a></span>(<span class='keyword'>_</span> <span class='identifier'><a name='26_36' title='usrString2' onclick='return expand(this);'>transport<span class='references'><table></table></span></a></span>: <span class='typeidentifier'><a name='26_47' href='ProtocolTransport.swift.html#25_30' title='usrString1'>ProtocolTransport</a></span>, <span class='identifier'><a name='26_66' href='JSONRPCLanguageServer.swift.html#26_16' title='usrString1'>undecodableData</a></span> <span class='identifier'><a name='26_82' title='usrString2' onclick='return expand(this);'>data<span class='references'><table></table></span></a></span>: <span class='typeidentifier'>Data</span>) {
<span class=linenum>0027</span>            <span class='keyword'>if</span> <span class='keyword'>let</span> <span class='identifier'><a name='27_15' title='usrString3'>string</a></span> = <span class='identifier'>String</span>(<span class='identifier'>data</span>: <span class='identifier'><a name='27_37' href='JSONRPCLanguageServer.swift.html#26_82' title='usrString1'>data</a></span>, <span class='identifier'>encoding</span>: .<span class='identifier'>utf8</span>) {
<span class=linenum>0028</span>                <span class='identifier'>print</span>(<span class='string'>"undecodable data received: </span>\<span class='string_interpolation_anchor'>(</span><span class='identifier'><a name='28_48' href='JSONRPCLanguageServer.swift.html#27_15' title='usrString1'>string</a></span><span class='string_interpolation_anchor'>)</span><span class='string'>"</span>)
<span class=linenum>0029</span>            } <span class='keyword'>else</span> {
<span class=linenum>0030</span>                <span class='identifier'>print</span>(<span class='string'>"undecodable data received: </span>\<span class='string_interpolation_anchor'>(</span><span class='identifier'><a name='30_48' href='JSONRPCLanguageServer.swift.html#26_82' title='usrString1'>data</a></span><span class='string_interpolation_anchor'>)</span><span class='string'>"</span>)
<span class=linenum>0031</span>            }
<span class=linenum>0032</span>        }
<span class=linenum>0033</span>    
<span class=linenum>0034</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='34_16' title='usrString2' onclick='return expand(this);'>transportReceived<span class='references'><table></table></span></a></span>(<span class='keyword'>_</span> <span class='identifier'><a name='34_36' title='usrString2' onclick='return expand(this);'>transport<span class='references'><table></table></span></a></span>: <span class='typeidentifier'><a name='34_47' href='ProtocolTransport.swift.html#25_30' title='usrString1'>ProtocolTransport</a></span>, <span class='identifier'><a name='34_66' href='#' title='usrString2' onclick='return expand(this);'>notificationMethod<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#39_15"; return false;'>JSONRPCLanguageServer.swift:39</td><td><pre>        switch notificationMethod {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#43_38"; return false;'>JSONRPCLanguageServer.swift:43</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: LogMessageParams) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#47_38"; return false;'>JSONRPCLanguageServer.swift:47</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: ShowMessageParams) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#51_38"; return false;'>JSONRPCLanguageServer.swift:51</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: ShowMessageRequestParams) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#55_38"; return false;'>JSONRPCLanguageServer.swift:55</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: PublishDiagnosticsParams) in</pre></td></table></span></a></span>: <span class='typeidentifier'>String</span>, <span class='identifier'><a name='34_94' href='#' title='usrString2' onclick='return expand(this);'>data<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#43_64"; return false;'>JSONRPCLanguageServer.swift:43</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: LogMessageParams) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#47_64"; return false;'>JSONRPCLanguageServer.swift:47</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: ShowMessageParams) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#51_64"; return false;'>JSONRPCLanguageServer.swift:51</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: ShowMessageRequestParams) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#55_64"; return false;'>JSONRPCLanguageServer.swift:55</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: PublishDiagnosticsParams) in</pre></td></table></span></a></span>: <span class='typeidentifier'>Data</span>) {
<span class=linenum>0035</span>            <span class='keyword'>guard</span> <span class='keyword'>let</span> <span class='identifier'><a name='35_18' title='usrString3'>responder</a></span> = <span class='identifier'><a name='35_30' href='JSONRPCLanguageServer.swift.html#14_20' title='usrString1'>notificationResponder</a></span> <span class='keyword'>else</span> {
<span class=linenum>0036</span>                <span class='keyword'>return</span>
<span class=linenum>0037</span>            }
<span class=linenum>0038</span>    
<span class=linenum>0039</span>            <span class='keyword'>switch</span> <span class='identifier'><a name='39_15' href='JSONRPCLanguageServer.swift.html#34_66' title='usrString1'>notificationMethod</a></span> {
<span class=linenum>0040</span>            <span class='keyword'>case</span> <span class='identifier'><a name='40_13' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='40_28' href='ProtocolMethod.swift.html#13_22' title='usrString1'>Initialized</a></span>:
<span class=linenum>0041</span>                <span class='identifier'><a name='41_12' href='JSONRPCLanguageServer.swift.html#35_18' title='usrString1'>responder</a></span>.<span class='identifier'><a name='41_22' href='LanguageServer.swift.html#113_12' title='usrString1'>languageServerInitialized</a></span>(<span class='keyword'>self</span>)
<span class=linenum>0042</span>            <span class='keyword'>case</span> <span class='identifier'><a name='42_13' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='42_28' href='ProtocolMethod.swift.html#15_18' title='usrString1'>Window</a></span>.<span class='identifier'><a name='42_35' href='ProtocolMethod.swift.html#16_26' title='usrString1'>LogMessage</a></span>:
<span class=linenum>0043</span>                <span class='identifier'><a name='43_12' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>decodeNotification</a></span>(<span class='identifier'><a name='43_31' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>named</a></span>: <span class='identifier'><a name='43_38' href='JSONRPCLanguageServer.swift.html#34_66' title='usrString1'>notificationMethod</a></span>, <span class='identifier'><a name='43_58' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>data</a></span>: <span class='identifier'><a name='43_64' href='JSONRPCLanguageServer.swift.html#34_94' title='usrString1'>data</a></span>) { (<span class='identifier'><a name='43_73' title='usrString3'>value</a></span>: <span class='typeidentifier'><a name='43_80' href='LogMessageParams.swift.html#11_10' title='usrString1'>LogMessageParams</a></span>) <span class='keyword'>in</span>
<span class=linenum>0044</span>                    <span class='identifier'><a name='44_16' href='JSONRPCLanguageServer.swift.html#35_18' title='usrString1'>responder</a></span>.<span class='identifier'><a name='44_26' href='LanguageServer.swift.html#113_74' title='usrString1'>languageServer</a></span>(<span class='keyword'>self</span>, <span class='identifier'><a name='44_47' href='LanguageServer.swift.html#113_74' title='usrString1'>logMessage</a></span>: <span class='identifier'><a name='44_59' href='JSONRPCLanguageServer.swift.html#43_73' title='usrString1'>value</a></span>)
<span class=linenum>0045</span>                }
<span class=linenum>0046</span>            <span class='keyword'>case</span> <span class='identifier'><a name='46_13' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='46_28' href='ProtocolMethod.swift.html#15_18' title='usrString1'>Window</a></span>.<span class='identifier'><a name='46_35' href='ProtocolMethod.swift.html#17_26' title='usrString1'>ShowMessage</a></span>:
<span class=linenum>0047</span>                <span class='identifier'><a name='47_12' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>decodeNotification</a></span>(<span class='identifier'><a name='47_31' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>named</a></span>: <span class='identifier'><a name='47_38' href='JSONRPCLanguageServer.swift.html#34_66' title='usrString1'>notificationMethod</a></span>, <span class='identifier'><a name='47_58' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>data</a></span>: <span class='identifier'><a name='47_64' href='JSONRPCLanguageServer.swift.html#34_94' title='usrString1'>data</a></span>) { (<span class='identifier'><a name='47_73' title='usrString3'>value</a></span>: <span class='typeidentifier'><a name='47_80' href='ShowMessageParams.swift.html#11_14' title='usrString1'>ShowMessageParams</a></span>) <span class='keyword'>in</span>
<span class=linenum>0048</span>                    <span class='identifier'><a name='48_16' href='JSONRPCLanguageServer.swift.html#35_18' title='usrString1'>responder</a></span>.<span class='identifier'><a name='48_26' href='LanguageServer.swift.html#114_44' title='usrString1'>languageServer</a></span>(<span class='keyword'>self</span>, <span class='identifier'><a name='48_47' href='LanguageServer.swift.html#114_44' title='usrString1'>showMessage</a></span>: <span class='identifier'><a name='48_60' href='JSONRPCLanguageServer.swift.html#47_73' title='usrString1'>value</a></span>)
<span class=linenum>0049</span>                }
<span class=linenum>0050</span>            <span class='keyword'>case</span> <span class='identifier'><a name='50_13' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='50_28' href='ProtocolMethod.swift.html#15_18' title='usrString1'>Window</a></span>.<span class='identifier'><a name='50_35' href='ProtocolMethod.swift.html#18_26' title='usrString1'>ShowMessageRequest</a></span>:
<span class=linenum>0051</span>                <span class='identifier'><a name='51_12' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>decodeNotification</a></span>(<span class='identifier'><a name='51_31' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>named</a></span>: <span class='identifier'><a name='51_38' href='JSONRPCLanguageServer.swift.html#34_66' title='usrString1'>notificationMethod</a></span>, <span class='identifier'><a name='51_58' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>data</a></span>: <span class='identifier'><a name='51_64' href='JSONRPCLanguageServer.swift.html#34_94' title='usrString1'>data</a></span>) { (<span class='identifier'><a name='51_73' title='usrString3'>value</a></span>: <span class='typeidentifier'><a name='51_80' href='ShowMessageRequest.swift.html#11_12' title='usrString1'>ShowMessageRequestParams</a></span>) <span class='keyword'>in</span>
<span class=linenum>0052</span>                    <span class='identifier'><a name='52_16' href='JSONRPCLanguageServer.swift.html#35_18' title='usrString1'>responder</a></span>.<span class='identifier'><a name='52_26' href='LanguageServer.swift.html#118_59' title='usrString1'>languageServer</a></span>(<span class='keyword'>self</span>, <span class='identifier'><a name='52_47' href='LanguageServer.swift.html#118_59' title='usrString1'>showMessageRequest</a></span>: <span class='identifier'><a name='52_67' href='JSONRPCLanguageServer.swift.html#51_73' title='usrString1'>value</a></span>)
<span class=linenum>0053</span>                }
<span class=linenum>0054</span>            <span class='keyword'>case</span> <span class='identifier'><a name='54_13' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='54_28' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='54_41' href='ProtocolMethod.swift.html#39_26' title='usrString1'>PublishDiagnostics</a></span>:
<span class=linenum>0055</span>                <span class='identifier'><a name='55_12' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>decodeNotification</a></span>(<span class='identifier'><a name='55_31' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>named</a></span>: <span class='identifier'><a name='55_38' href='JSONRPCLanguageServer.swift.html#34_66' title='usrString1'>notificationMethod</a></span>, <span class='identifier'><a name='55_58' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>data</a></span>: <span class='identifier'><a name='55_64' href='JSONRPCLanguageServer.swift.html#34_94' title='usrString1'>data</a></span>) { (<span class='identifier'><a name='55_73' title='usrString3'>value</a></span>: <span class='typeidentifier'><a name='55_80' href='Diagnostics.swift.html#52_14' title='usrString1'>PublishDiagnosticsParams</a></span>) <span class='keyword'>in</span>
<span class=linenum>0056</span>                    <span class='identifier'><a name='56_16' href='JSONRPCLanguageServer.swift.html#35_18' title='usrString1'>responder</a></span>.<span class='identifier'><a name='56_26' href='LanguageServer.swift.html#119_54' title='usrString1'>languageServer</a></span>(<span class='keyword'>self</span>, <span class='identifier'><a name='56_47' href='LanguageServer.swift.html#119_54' title='usrString1'>publishDiagnostics</a></span>: <span class='identifier'><a name='56_67' href='JSONRPCLanguageServer.swift.html#55_73' title='usrString1'>value</a></span>)
<span class=linenum>0057</span>                }
<span class=linenum>0058</span>            <span class='keyword'>default</span>:
<span class=linenum>0059</span>                <span class='keyword'>break</span>
<span class=linenum>0060</span>            }
<span class=linenum>0061</span>        }
<span class=linenum>0062</span>    
<span class=linenum>0063</span>        <span class='builtin'>private</span> <span class='keyword'>func</span> <span class='identifier'><a name='63_17' href='#' title='usrString2' onclick='return expand(this);'>decodeNotification<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#43_12"; return false;'>JSONRPCLanguageServer.swift:43</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: LogMessageParams) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#47_12"; return false;'>JSONRPCLanguageServer.swift:47</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: ShowMessageParams) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#51_12"; return false;'>JSONRPCLanguageServer.swift:51</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: ShowMessageRequestParams) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#55_12"; return false;'>JSONRPCLanguageServer.swift:55</td><td><pre>            decodeNotification(named: notificationMethod, data: data) { (value: PublishDiagnosticsParams) in</pre></td></table></span></a></span>&lt;<span class='identifier'><a name='63_36' title='usrString3'>T</a></span>: <span class='typeidentifier'>Codable</span>>(<span class='identifier'><a name='63_48' href='JSONRPCLanguageServer.swift.html#63_17' title='usrString1'>named</a></span> <span class='identifier'><a name='63_54' title='usrString2' onclick='return expand(this);'>name<span class='references'><table></table></span></a></span>: <span class='typeidentifier'>String</span>, <span class='identifier'><a name='63_68' href='#' title='usrString2' onclick='return expand(this);'>data<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#68_68"; return false;'>JSONRPCLanguageServer.swift:68</td><td><pre>            let result = try JSONDecoder().decode(resultType, from: data)</pre></td></table></span></a></span>: <span class='typeidentifier'>Data</span>, <span class='identifier'><a name='63_80' href='#' title='usrString2' onclick='return expand(this);'>onSuccess<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#76_19"; return false;'>JSONRPCLanguageServer.swift:76</td><td><pre>            return onSuccess(params)</pre></td></table></span></a></span>: (<span class='typeidentifier'><a name='63_92' href='JSONRPCLanguageServer.swift.html#63_36' title='usrString1'>T</a></span>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0064</span>            <span class='keyword'>let</span> <span class='identifier'><a name='64_12' title='usrString3'>responder</a></span> = <span class='identifier'><a name='64_24' href='JSONRPCLanguageServer.swift.html#14_20' title='usrString1'>notificationResponder</a></span>
<span class=linenum>0065</span>    
<span class=linenum>0066</span>            <span class='keyword'>do</span> {
<span class=linenum>0067</span>                <span class='keyword'>let</span> <span class='identifier'><a name='67_16' title='usrString3'>resultType</a></span> = <span class='identifier'><a name='67_29' href='JSONRPC.swift.html#111_14' title='usrString1'>JSONRPCNotificationParams</a></span>&lt;<span class='typeidentifier'><a name='67_55' href='JSONRPCLanguageServer.swift.html#63_36' title='usrString1'>T</a></span>>.<span class='keyword'>self</span>
<span class=linenum>0068</span>                <span class='keyword'>let</span> <span class='identifier'><a name='68_16' title='usrString3'>result</a></span> = <span class='keyword'>try</span> <span class='identifier'>JSONDecoder</span>().<span class='identifier'>decode</span>(<span class='identifier'><a name='68_50' href='JSONRPCLanguageServer.swift.html#67_16' title='usrString1'>resultType</a></span>, <span class='identifier'>from</span>: <span class='identifier'><a name='68_68' href='JSONRPCLanguageServer.swift.html#63_68' title='usrString1'>data</a></span>)
<span class=linenum>0069</span>    
<span class=linenum>0070</span>                <span class='keyword'>guard</span> <span class='keyword'>let</span> <span class='identifier'><a name='70_22' title='usrString3'>params</a></span> = <span class='identifier'><a name='70_31' href='JSONRPCLanguageServer.swift.html#68_16' title='usrString1'>result</a></span>.<span class='identifier'><a name='70_38' href='JSONRPC.swift.html#114_15' title='usrString1'>params</a></span> <span class='keyword'>else</span> {
<span class=linenum>0071</span>                    <span class='identifier'><a name='71_16' href='JSONRPCLanguageServer.swift.html#64_12' title='usrString1'>responder</a></span>?.<span class='identifier'><a name='71_27' href='LanguageServer.swift.html#122_4' title='usrString1'>languageServer</a></span>(<span class='keyword'>self</span>, <span class='identifier'><a name='71_48' href='LanguageServer.swift.html#122_4' title='usrString1'>failedToDecodeNotification</a></span>: <span class='identifier'><a name='71_76' href='JSONRPCLanguageServer.swift.html#63_54' title='usrString1'>name</a></span>, <span class='identifier'><a name='71_82' href='LanguageServer.swift.html#122_4' title='usrString1'>with</a></span>: <span class='identifier'><a name='71_88' href='LanguageServer.swift.html#11_6' title='usrString1'>LanguageServerError</a></span>.<span class='identifier'><a name='71_108' href='LanguageServer.swift.html#16_21' title='usrString1'>missingExpectedResult</a></span>)
<span class=linenum>0072</span>    
<span class=linenum>0073</span>                    <span class='keyword'>return</span>
<span class=linenum>0074</span>                }
<span class=linenum>0075</span>    
<span class=linenum>0076</span>                <span class='keyword'>return</span> <span class='identifier'><a name='76_19' href='JSONRPCLanguageServer.swift.html#63_80' title='usrString1'>onSuccess</a></span>(<span class='identifier'><a name='76_29' href='JSONRPCLanguageServer.swift.html#70_22' title='usrString1'>params</a></span>)
<span class=linenum>0077</span>            } <span class='keyword'>catch</span> {
<span class=linenum>0078</span>                <span class='keyword'>let</span> <span class='identifier'><a name='78_16' title='usrString3'>newError</a></span> = <span class='identifier'><a name='78_27' href='LanguageServer.swift.html#11_6' title='usrString1'>LanguageServerError</a></span>.<span class='identifier'><a name='78_47' href='LanguageServer.swift.html#14_53' title='usrString1'>unableToDecodeResponse</a></span>(<span class='identifier'><a name='78_70' href='JSONRPCLanguageServer.swift.html#77_16' title='usrString1'>error</a></span>)
<span class=linenum>0079</span>    
<span class=linenum>0080</span>                <span class='identifier'><a name='80_12' href='JSONRPCLanguageServer.swift.html#64_12' title='usrString1'>responder</a></span>?.<span class='identifier'><a name='80_23' href='LanguageServer.swift.html#122_4' title='usrString1'>languageServer</a></span>(<span class='keyword'>self</span>, <span class='identifier'><a name='80_44' href='LanguageServer.swift.html#122_4' title='usrString1'>failedToDecodeNotification</a></span>: <span class='identifier'><a name='80_72' href='JSONRPCLanguageServer.swift.html#63_54' title='usrString1'>name</a></span>, <span class='identifier'><a name='80_78' href='LanguageServer.swift.html#122_4' title='usrString1'>with</a></span>: <span class='identifier'><a name='80_84' href='JSONRPCLanguageServer.swift.html#78_16' title='usrString1'>newError</a></span>)
<span class=linenum>0081</span>            }
<span class=linenum>0082</span>        }
<span class=linenum>0083</span>    }
<span class=linenum>0084</span>    
<span class=linenum>0085</span>    <span class='builtin'>private</span> <span class='keyword'>func</span> <span class='identifier'><a name='85_13' href='#' title='usrString2' onclick='return expand(this);'>relayResult<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#114_12"; return false;'>JSONRPCLanguageServer.swift:114</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#122_12"; return false;'>JSONRPCLanguageServer.swift:122</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#175_12"; return false;'>JSONRPCLanguageServer.swift:175</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#192_12"; return false;'>JSONRPCLanguageServer.swift:192</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#200_12"; return false;'>JSONRPCLanguageServer.swift:200</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#208_12"; return false;'>JSONRPCLanguageServer.swift:208</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#217_12"; return false;'>JSONRPCLanguageServer.swift:217</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#225_12"; return false;'>JSONRPCLanguageServer.swift:225</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#233_12"; return false;'>JSONRPCLanguageServer.swift:233</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#241_12"; return false;'>JSONRPCLanguageServer.swift:241</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#249_12"; return false;'>JSONRPCLanguageServer.swift:249</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#257_12"; return false;'>JSONRPCLanguageServer.swift:257</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#265_12"; return false;'>JSONRPCLanguageServer.swift:265</td><td><pre>            relayResult(result: result, block: block)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#273_12"; return false;'>JSONRPCLanguageServer.swift:273</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>&lt;<span class='identifier'><a name='85_25' title='usrString3'>T</a></span>>(<span class='identifier'><a name='85_28' href='#' title='usrString2' onclick='return expand(this);'>result<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#86_11"; return false;'>JSONRPCLanguageServer.swift:86</td><td><pre>    switch result {</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='85_36' href='JSONRPCLanguageServer.swift.html#11_13' title='usrString1'>JSONRPCLanguageServer</a></span>.<span class='typeidentifier'><a name='85_58' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='85_75' href='JSONRPCLanguageServer.swift.html#85_25' title='usrString1'>T</a></span>>, <span class='identifier'><a name='85_79' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#88_8"; return false;'>JSONRPCLanguageServer.swift:88</td><td><pre>        block(.failure(.protocolError(error)))</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#91_12"; return false;'>JSONRPCLanguageServer.swift:91</td><td><pre>            block(.success(responseParam))</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#93_12"; return false;'>JSONRPCLanguageServer.swift:93</td><td><pre>            block(.failure(errorParam.languageServerError))</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#95_12"; return false;'>JSONRPCLanguageServer.swift:95</td><td><pre>            block(.failure(.missingExpectedResult))</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='85_97' href='LanguageServer.swift.html#45_10' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='85_118' href='JSONRPCLanguageServer.swift.html#85_25' title='usrString1'>T</a></span>>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0086</span>        <span class='keyword'>switch</span> <span class='identifier'><a name='86_11' href='JSONRPCLanguageServer.swift.html#85_28' title='usrString1'>result</a></span> {
<span class=linenum>0087</span>        <span class='keyword'>case</span> .<span class='identifier'>failure</span>(<span class='keyword'>let</span> <span class='identifier'><a name='87_22' title='usrString3'>error</a></span>):
<span class=linenum>0088</span>            <span class='identifier'><a name='88_8' href='JSONRPCLanguageServer.swift.html#85_79' title='usrString1'>block</a></span>(.<span class='identifier'>failure</span>(.<span class='identifier'><a name='88_24' href='LanguageServer.swift.html#13_12' title='usrString1'>protocolError</a></span>(<span class='identifier'><a name='88_38' href='JSONRPCLanguageServer.swift.html#87_22' title='usrString1'>error</a></span>)))
<span class=linenum>0089</span>        <span class='keyword'>case</span> .<span class='identifier'>success</span>(<span class='keyword'>let</span> <span class='identifier'><a name='89_22' title='usrString3'>responseMessage</a></span>):
<span class=linenum>0090</span>            <span class='keyword'>if</span> <span class='keyword'>let</span> <span class='identifier'><a name='90_15' title='usrString3'>responseParam</a></span> = <span class='identifier'><a name='90_31' href='JSONRPCLanguageServer.swift.html#89_22' title='usrString1'>responseMessage</a></span>.<span class='identifier'><a name='90_47' href='JSONRPC.swift.html#81_15' title='usrString1'>result</a></span> {
<span class=linenum>0091</span>                <span class='identifier'><a name='91_12' href='JSONRPCLanguageServer.swift.html#85_79' title='usrString1'>block</a></span>(.<span class='identifier'>success</span>(<span class='identifier'><a name='91_27' href='JSONRPCLanguageServer.swift.html#90_15' title='usrString1'>responseParam</a></span>))
<span class=linenum>0092</span>            } <span class='keyword'>else</span> <span class='keyword'>if</span> <span class='keyword'>let</span> <span class='identifier'><a name='92_22' title='usrString3'>errorParam</a></span> = <span class='identifier'><a name='92_35' href='JSONRPCLanguageServer.swift.html#89_22' title='usrString1'>responseMessage</a></span>.<span class='identifier'><a name='92_51' href='JSONRPC.swift.html#82_15' title='usrString1'>error</a></span> {
<span class=linenum>0093</span>                <span class='identifier'><a name='93_12' href='JSONRPCLanguageServer.swift.html#85_79' title='usrString1'>block</a></span>(.<span class='identifier'>failure</span>(<span class='identifier'><a name='93_27' href='JSONRPCLanguageServer.swift.html#92_22' title='usrString1'>errorParam</a></span>.<span class='identifier'><a name='93_38' href='JSONRPC.swift.html#67_15' title='usrString1'>languageServerError</a></span>))
<span class=linenum>0094</span>            } <span class='keyword'>else</span> {
<span class=linenum>0095</span>                <span class='identifier'><a name='95_12' href='JSONRPCLanguageServer.swift.html#85_79' title='usrString1'>block</a></span>(.<span class='identifier'>failure</span>(.<span class='identifier'><a name='95_28' href='LanguageServer.swift.html#16_21' title='usrString1'>missingExpectedResult</a></span>))
<span class=linenum>0096</span>            }
<span class=linenum>0097</span>        }
<span class=linenum>0098</span>    }
<span class=linenum>0099</span>    
<span class=linenum>0100</span>    <span class='comment'>//struct A {
<span class=linenum>0101</span>    </span><span class='comment'>//    @Atomic
<span class=linenum>0102</span>    </span><span class='comment'>//    var def: TextDocumentPositionParams?
<span class=linenum>0103</span>    </span><span class='comment'>//}
<span class=linenum>0104</span>    </span><span class='comment'>//
<span class=linenum>0105</span>    </span><span class='comment'>//var def = A()
<span class=linenum>0106</span>    </span>
<span class=linenum>0107</span>    <span class='keyword'>extension</span> <span class='typeidentifier'><a name='107_10' href='JSONRPCLanguageServer.swift.html#11_13' title='usrString1'>JSONRPCLanguageServer</a></span>: <span class='typeidentifier'><a name='107_33' href='LanguageServer.swift.html#47_22' title='usrString1'>LanguageServer</a></span> {
<span class=linenum>0108</span>        <span class='keyword'>typealias</span> <span class='identifier'><a name='108_14' href='#' title='usrString2' onclick='return expand(this);'>ProtocolResponse<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#85_58"; return false;'>JSONRPCLanguageServer.swift:85</td><td><pre>private func relayResult&lt;T>(result: JSONRPCLanguageServer.ProtocolResponse&lt;T>, block: @escaping (LanguageServerResult&lt;T>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#113_73"; return false;'>JSONRPCLanguageServer.swift:113</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;InitializationResponse>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#121_73"; return false;'>JSONRPCLanguageServer.swift:121</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;Hover>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#174_73"; return false;'>JSONRPCLanguageServer.swift:174</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;WillSaveWaitUntilResponse>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#191_73"; return false;'>JSONRPCLanguageServer.swift:191</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;CompletionResponse>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#199_73"; return false;'>JSONRPCLanguageServer.swift:199</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;SignatureHelp>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#207_73"; return false;'>JSONRPCLanguageServer.swift:207</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;DeclarationResponse?>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#216_73"; return false;'>JSONRPCLanguageServer.swift:216</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;DefinitionResponse?>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#224_73"; return false;'>JSONRPCLanguageServer.swift:224</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;TypeDefinitionResponse?>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#232_73"; return false;'>JSONRPCLanguageServer.swift:232</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;ImplementationResponse?>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#240_73"; return false;'>JSONRPCLanguageServer.swift:240</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;DocumentSymbolResponse>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#248_73"; return false;'>JSONRPCLanguageServer.swift:248</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;FormattingResult>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#256_73"; return false;'>JSONRPCLanguageServer.swift:256</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;FormattingResult>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#264_73"; return false;'>JSONRPCLanguageServer.swift:264</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;FormattingResult>) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#272_73"; return false;'>JSONRPCLanguageServer.swift:272</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;ReferenceResponse?>) in</pre></td></table></span></a></span>&lt;<span class='identifier'><a name='108_31' href='#' title='usrString2' onclick='return expand(this);'>T<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#108_78"; return false;'>JSONRPCLanguageServer.swift:108</td><td><pre>    typealias ProtocolResponse&lt;T: Codable> = ProtocolTransport.ResponseResult&lt;T></pre></td></table></span></a></span>: <span class='typeidentifier'>Codable</span>> = <span class='typeidentifier'><a name='108_45' href='ProtocolTransport.swift.html#25_30' title='usrString1'>ProtocolTransport</a></span>.<span class='typeidentifier'><a name='108_63' href='ProtocolTransport.swift.html#26_10' title='usrString1'>ResponseResult</a></span>&lt;<span class='typeidentifier'><a name='108_78' href='JSONRPCLanguageServer.swift.html#108_31' title='usrString1'>T</a></span>>
<span class=linenum>0109</span>        
<span class=linenum>0110</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='110_16' title='usrString2' onclick='return expand(this);'>initialize<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='110_27' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#113_38"; return false;'>JSONRPCLanguageServer.swift:113</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;InitializationResponse>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='110_35' href='Initialization.swift.html#13_25' title='usrString1'>InitializeParams</a></span>, <span class='identifier'><a name='110_53' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#114_47"; return false;'>JSONRPCLanguageServer.swift:114</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='110_71' href='LanguageServer.swift.html#45_10' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='110_92' href='Initialization.swift.html#35_23' title='usrString1'>InitializationResponse</a></span>>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0111</span>            <span class='keyword'>let</span> <span class='identifier'><a name='111_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='111_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='111_36' href='ProtocolMethod.swift.html#12_22' title='usrString1'>Initialize</a></span>
<span class=linenum>0112</span>            
<span class=linenum>0113</span>            <span class='identifier'><a name='113_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='113_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='113_38' href='JSONRPCLanguageServer.swift.html#110_27' title='usrString1'>params</a></span>, <span class='identifier'><a name='113_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='113_54' href='JSONRPCLanguageServer.swift.html#111_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='113_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='113_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='113_90' href='Initialization.swift.html#35_23' title='usrString1'>InitializationResponse</a></span>>) <span class='keyword'>in</span>
<span class=linenum>0114</span>                <span class='identifier'><a name='114_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='114_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='114_32' href='JSONRPCLanguageServer.swift.html#113_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='114_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='114_47' href='JSONRPCLanguageServer.swift.html#110_53' title='usrString1'>block</a></span>)
<span class=linenum>0115</span>            }
<span class=linenum>0116</span>        }
<span class=linenum>0117</span>        
<span class=linenum>0118</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='118_16' title='usrString2' onclick='return expand(this);'>hover<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='118_22' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#121_38"; return false;'>JSONRPCLanguageServer.swift:121</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;Hover>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='118_30' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='118_58' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#122_47"; return false;'>JSONRPCLanguageServer.swift:122</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='118_76' href='LanguageServer.swift.html#45_10' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='118_97' href='LanguageFeatures.swift.html#162_63' title='usrString1'>Hover</a></span>>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0119</span>            <span class='keyword'>let</span> <span class='identifier'><a name='119_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='119_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='119_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='119_49' href='ProtocolMethod.swift.html#22_26' title='usrString1'>Hover</a></span>
<span class=linenum>0120</span>            
<span class=linenum>0121</span>            <span class='identifier'><a name='121_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='121_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='121_38' href='JSONRPCLanguageServer.swift.html#118_22' title='usrString1'>params</a></span>, <span class='identifier'><a name='121_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='121_54' href='JSONRPCLanguageServer.swift.html#119_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='121_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='121_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='121_90' href='LanguageFeatures.swift.html#162_63' title='usrString1'>Hover</a></span>>) <span class='keyword'>in</span>
<span class=linenum>0122</span>                <span class='identifier'><a name='122_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='122_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='122_32' href='JSONRPCLanguageServer.swift.html#121_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='122_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='122_47' href='JSONRPCLanguageServer.swift.html#118_58' title='usrString1'>block</a></span>)
<span class=linenum>0123</span>            }
<span class=linenum>0124</span>        }
<span class=linenum>0125</span>        
<span class=linenum>0126</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='126_16' title='usrString2' onclick='return expand(this);'>didOpenTextDocument<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='126_36' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#129_43"; return false;'>JSONRPCLanguageServer.swift:129</td><td><pre>        protocolTransport.sendNotification(params, method: method) { (error) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='126_44' href='TextSynchronization.swift.html#11_13' title='usrString1'>DidOpenTextDocumentParams</a></span>, <span class='identifier'><a name='126_71' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#131_12"; return false;'>JSONRPCLanguageServer.swift:131</td><td><pre>            block(upstreamError)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='126_89' href='LanguageServer.swift.html#11_6' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0127</span>            <span class='keyword'>let</span> <span class='identifier'><a name='127_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='127_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='127_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='127_49' href='ProtocolMethod.swift.html#24_26' title='usrString1'>DidOpen</a></span>
<span class=linenum>0128</span>            
<span class=linenum>0129</span>            <span class='identifier'><a name='129_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='129_26' href='ProtocolTransport.swift.html#91_35' title='usrString1'>sendNotification</a></span>(<span class='identifier'><a name='129_43' href='JSONRPCLanguageServer.swift.html#126_36' title='usrString1'>params</a></span>, <span class='identifier'><a name='129_51' href='ProtocolTransport.swift.html#91_35' title='usrString1'>method</a></span>: <span class='identifier'><a name='129_59' href='JSONRPCLanguageServer.swift.html#127_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='129_70' title='usrString3'>error</a></span>) <span class='keyword'>in</span>
<span class=linenum>0130</span>                <span class='keyword'>let</span> <span class='identifier'><a name='130_16' title='usrString3'>upstreamError</a></span> = <span class='identifier'><a name='130_32' href='JSONRPCLanguageServer.swift.html#129_70' title='usrString1'>error</a></span>.<span class='identifier'>map</span> { <span class='identifier'><a name='130_44' href='LanguageServer.swift.html#11_6' title='usrString1'>LanguageServerError</a></span>.<span class='identifier'><a name='130_64' href='LanguageServer.swift.html#13_12' title='usrString1'>protocolError</a></span>(<span class='identifier'><a name='130_78' href='JSONRPCLanguageServer.swift.html#130_42' title='usrString1'>$0</a></span>) }
<span class=linenum>0131</span>                <span class='identifier'><a name='131_12' href='JSONRPCLanguageServer.swift.html#126_71' title='usrString1'>block</a></span>(<span class='identifier'><a name='131_18' href='JSONRPCLanguageServer.swift.html#130_16' title='usrString1'>upstreamError</a></span>)
<span class=linenum>0132</span>            }
<span class=linenum>0133</span>        }
<span class=linenum>0134</span>        
<span class=linenum>0135</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='135_16' title='usrString2' onclick='return expand(this);'>didCloseTextDocument<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='135_37' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#138_43"; return false;'>JSONRPCLanguageServer.swift:138</td><td><pre>        protocolTransport.sendNotification(params, method: method) { (error) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='135_45' href='TextSynchronization.swift.html#11_13' title='usrString1'>DidOpenTextDocumentParams</a></span>, <span class='identifier'><a name='135_72' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#140_12"; return false;'>JSONRPCLanguageServer.swift:140</td><td><pre>            block(upstreamError)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='135_90' href='LanguageServer.swift.html#11_6' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0136</span>            <span class='keyword'>let</span> <span class='identifier'><a name='136_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='136_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='136_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='136_49' href='ProtocolMethod.swift.html#24_26' title='usrString1'>DidOpen</a></span>
<span class=linenum>0137</span>            
<span class=linenum>0138</span>            <span class='identifier'><a name='138_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='138_26' href='ProtocolTransport.swift.html#91_35' title='usrString1'>sendNotification</a></span>(<span class='identifier'><a name='138_43' href='JSONRPCLanguageServer.swift.html#135_37' title='usrString1'>params</a></span>, <span class='identifier'><a name='138_51' href='ProtocolTransport.swift.html#91_35' title='usrString1'>method</a></span>: <span class='identifier'><a name='138_59' href='JSONRPCLanguageServer.swift.html#136_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='138_70' title='usrString3'>error</a></span>) <span class='keyword'>in</span>
<span class=linenum>0139</span>                <span class='keyword'>let</span> <span class='identifier'><a name='139_16' title='usrString3'>upstreamError</a></span> = <span class='identifier'><a name='139_32' href='JSONRPCLanguageServer.swift.html#138_70' title='usrString1'>error</a></span>.<span class='identifier'>map</span> { <span class='identifier'><a name='139_44' href='LanguageServer.swift.html#11_6' title='usrString1'>LanguageServerError</a></span>.<span class='identifier'><a name='139_64' href='LanguageServer.swift.html#13_12' title='usrString1'>protocolError</a></span>(<span class='identifier'><a name='139_78' href='JSONRPCLanguageServer.swift.html#139_42' title='usrString1'>$0</a></span>) }
<span class=linenum>0140</span>                <span class='identifier'><a name='140_12' href='JSONRPCLanguageServer.swift.html#135_72' title='usrString1'>block</a></span>(<span class='identifier'><a name='140_18' href='JSONRPCLanguageServer.swift.html#139_16' title='usrString1'>upstreamError</a></span>)
<span class=linenum>0141</span>            }
<span class=linenum>0142</span>        }
<span class=linenum>0143</span>        
<span class=linenum>0144</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='144_16' title='usrString2' onclick='return expand(this);'>didChangeTextDocument<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='144_38' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#147_43"; return false;'>JSONRPCLanguageServer.swift:147</td><td><pre>        protocolTransport.sendNotification(params, method: method) { (error) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='144_46' href='TextSynchronization.swift.html#26_71' title='usrString1'>DidChangeTextDocumentParams</a></span>, <span class='identifier'><a name='144_75' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#149_12"; return false;'>JSONRPCLanguageServer.swift:149</td><td><pre>            block(upstreamError)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='144_93' href='LanguageServer.swift.html#11_6' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0145</span>            <span class='keyword'>let</span> <span class='identifier'><a name='145_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='145_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='145_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='145_49' href='ProtocolMethod.swift.html#25_26' title='usrString1'>DidChange</a></span>
<span class=linenum>0146</span>            
<span class=linenum>0147</span>            <span class='identifier'><a name='147_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='147_26' href='ProtocolTransport.swift.html#91_35' title='usrString1'>sendNotification</a></span>(<span class='identifier'><a name='147_43' href='JSONRPCLanguageServer.swift.html#144_38' title='usrString1'>params</a></span>, <span class='identifier'><a name='147_51' href='ProtocolTransport.swift.html#91_35' title='usrString1'>method</a></span>: <span class='identifier'><a name='147_59' href='JSONRPCLanguageServer.swift.html#145_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='147_70' title='usrString3'>error</a></span>) <span class='keyword'>in</span>
<span class=linenum>0148</span>                <span class='keyword'>let</span> <span class='identifier'><a name='148_16' title='usrString3'>upstreamError</a></span> = <span class='identifier'><a name='148_32' href='JSONRPCLanguageServer.swift.html#147_70' title='usrString1'>error</a></span>.<span class='identifier'>map</span> { <span class='identifier'><a name='148_44' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>.<span class='identifier'><a name='148_64' href='LanguageServer.swift.html#13_9' title='usrString1'>protocolError</a></span>(<span class='identifier'><a name='148_78' href='JSONRPCLanguageServer.swift.html#148_42' title='usrString1'>$0</a></span>) }
<span class=linenum>0149</span>                <span class='identifier'><a name='149_12' href='JSONRPCLanguageServer.swift.html#144_75' title='usrString1'>block</a></span>(<span class='identifier'><a name='149_18' href='JSONRPCLanguageServer.swift.html#148_16' title='usrString1'>upstreamError</a></span>)
<span class=linenum>0150</span>            }
<span class=linenum>0151</span>        }
<span class=linenum>0152</span>        
<span class=linenum>0153</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='153_16' title='usrString2' onclick='return expand(this);'>didCloseTextDocument<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='153_37' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#156_43"; return false;'>JSONRPCLanguageServer.swift:156</td><td><pre>        protocolTransport.sendNotification(params, method: method) { (error) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='153_45' href='TextSynchronization.swift.html#63_85' title='usrString1'>DidCloseTextDocumentParams</a></span>, <span class='identifier'><a name='153_73' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#158_12"; return false;'>JSONRPCLanguageServer.swift:158</td><td><pre>            block(upstreamError)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='153_91' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0154</span>            <span class='keyword'>let</span> <span class='identifier'><a name='154_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='154_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='154_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='154_49' href='ProtocolMethod.swift.html#29_26' title='usrString1'>DidClose</a></span>
<span class=linenum>0155</span>            
<span class=linenum>0156</span>            <span class='identifier'><a name='156_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='156_26' href='ProtocolTransport.swift.html#91_35' title='usrString1'>sendNotification</a></span>(<span class='identifier'><a name='156_43' href='JSONRPCLanguageServer.swift.html#153_37' title='usrString1'>params</a></span>, <span class='identifier'><a name='156_51' href='ProtocolTransport.swift.html#91_35' title='usrString1'>method</a></span>: <span class='identifier'><a name='156_59' href='JSONRPCLanguageServer.swift.html#154_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='156_70' title='usrString3'>error</a></span>) <span class='keyword'>in</span>
<span class=linenum>0157</span>                <span class='keyword'>let</span> <span class='identifier'><a name='157_16' title='usrString3'>upstreamError</a></span> = <span class='identifier'><a name='157_32' href='JSONRPCLanguageServer.swift.html#156_70' title='usrString1'>error</a></span>.<span class='identifier'>map</span> { <span class='identifier'><a name='157_44' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>.<span class='identifier'><a name='157_64' href='LanguageServer.swift.html#13_9' title='usrString1'>protocolError</a></span>(<span class='identifier'><a name='157_78' href='JSONRPCLanguageServer.swift.html#157_42' title='usrString1'>$0</a></span>) }
<span class=linenum>0158</span>                <span class='identifier'><a name='158_12' href='JSONRPCLanguageServer.swift.html#153_73' title='usrString1'>block</a></span>(<span class='identifier'><a name='158_18' href='JSONRPCLanguageServer.swift.html#157_16' title='usrString1'>upstreamError</a></span>)
<span class=linenum>0159</span>            }
<span class=linenum>0160</span>        }
<span class=linenum>0161</span>    
<span class=linenum>0162</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='162_16' title='usrString2' onclick='return expand(this);'>willSaveTextDocument<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='162_37' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#165_43"; return false;'>JSONRPCLanguageServer.swift:165</td><td><pre>        protocolTransport.sendNotification(params, method: method)  { (error) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='162_45' href='WillSaveTextDocument.swift.html#16_29' title='usrString1'>WillSaveTextDocumentParams</a></span>, <span class='identifier'><a name='162_73' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#167_12"; return false;'>JSONRPCLanguageServer.swift:167</td><td><pre>            block(upstreamError)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='162_91' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0163</span>            <span class='keyword'>let</span> <span class='identifier'><a name='163_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='163_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='163_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='163_49' href='ProtocolMethod.swift.html#26_26' title='usrString1'>WillSave</a></span>
<span class=linenum>0164</span>    
<span class=linenum>0165</span>            <span class='identifier'><a name='165_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='165_26' href='ProtocolTransport.swift.html#91_35' title='usrString1'>sendNotification</a></span>(<span class='identifier'><a name='165_43' href='JSONRPCLanguageServer.swift.html#162_37' title='usrString1'>params</a></span>, <span class='identifier'><a name='165_51' href='ProtocolTransport.swift.html#91_35' title='usrString1'>method</a></span>: <span class='identifier'><a name='165_59' href='JSONRPCLanguageServer.swift.html#163_12' title='usrString1'>method</a></span>)  { (<span class='identifier'><a name='165_71' title='usrString3'>error</a></span>) <span class='keyword'>in</span>
<span class=linenum>0166</span>                <span class='keyword'>let</span> <span class='identifier'><a name='166_16' title='usrString3'>upstreamError</a></span> = <span class='identifier'><a name='166_32' href='JSONRPCLanguageServer.swift.html#165_71' title='usrString1'>error</a></span>.<span class='identifier'>map</span> { <span class='identifier'><a name='166_44' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>.<span class='identifier'><a name='166_64' href='LanguageServer.swift.html#13_9' title='usrString1'>protocolError</a></span>(<span class='identifier'><a name='166_78' href='JSONRPCLanguageServer.swift.html#166_42' title='usrString1'>$0</a></span>) }
<span class=linenum>0167</span>                <span class='identifier'><a name='167_12' href='JSONRPCLanguageServer.swift.html#162_73' title='usrString1'>block</a></span>(<span class='identifier'><a name='167_18' href='JSONRPCLanguageServer.swift.html#166_16' title='usrString1'>upstreamError</a></span>)
<span class=linenum>0168</span>            }
<span class=linenum>0169</span>        }
<span class=linenum>0170</span>    
<span class=linenum>0171</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='171_16' title='usrString2' onclick='return expand(this);'>willSaveWaitUntilTextDocument<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='171_46' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#174_38"; return false;'>JSONRPCLanguageServer.swift:174</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;WillSaveWaitUntilResponse>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='171_54' href='WillSaveTextDocument.swift.html#16_29' title='usrString1'>WillSaveTextDocumentParams</a></span>, <span class='identifier'><a name='171_82' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#175_47"; return false;'>JSONRPCLanguageServer.swift:175</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='171_100' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='171_121' href='WillSaveTextDocument.swift.html#28_12' title='usrString1'>WillSaveWaitUntilResponse</a></span>>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0172</span>            <span class='keyword'>let</span> <span class='identifier'><a name='172_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='172_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='172_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='172_49' href='ProtocolMethod.swift.html#27_26' title='usrString1'>WillSaveWaitUntil</a></span>
<span class=linenum>0173</span>    
<span class=linenum>0174</span>            <span class='identifier'><a name='174_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='174_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='174_38' href='JSONRPCLanguageServer.swift.html#171_46' title='usrString1'>params</a></span>, <span class='identifier'><a name='174_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='174_54' href='JSONRPCLanguageServer.swift.html#172_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='174_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='174_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='174_90' href='WillSaveTextDocument.swift.html#28_12' title='usrString1'>WillSaveWaitUntilResponse</a></span>>) <span class='keyword'>in</span>
<span class=linenum>0175</span>                <span class='identifier'><a name='175_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='175_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='175_32' href='JSONRPCLanguageServer.swift.html#174_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='175_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='175_47' href='JSONRPCLanguageServer.swift.html#171_82' title='usrString1'>block</a></span>)
<span class=linenum>0176</span>            }
<span class=linenum>0177</span>        }
<span class=linenum>0178</span>    
<span class=linenum>0179</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='179_16' title='usrString2' onclick='return expand(this);'>didSaveTextDocument<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='179_36' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#182_43"; return false;'>JSONRPCLanguageServer.swift:182</td><td><pre>        protocolTransport.sendNotification(params, method: method) { (error) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='179_44' href='TextSynchronization.swift.html#50_20' title='usrString1'>DidSaveTextDocumentParams</a></span>, <span class='identifier'><a name='179_71' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#184_12"; return false;'>JSONRPCLanguageServer.swift:184</td><td><pre>            block(upstreamError)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='179_89' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0180</span>            <span class='keyword'>let</span> <span class='identifier'><a name='180_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='180_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='180_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='180_49' href='ProtocolMethod.swift.html#28_26' title='usrString1'>DidSave</a></span>
<span class=linenum>0181</span>            
<span class=linenum>0182</span>            <span class='identifier'><a name='182_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='182_26' href='ProtocolTransport.swift.html#91_35' title='usrString1'>sendNotification</a></span>(<span class='identifier'><a name='182_43' href='JSONRPCLanguageServer.swift.html#179_36' title='usrString1'>params</a></span>, <span class='identifier'><a name='182_51' href='ProtocolTransport.swift.html#91_35' title='usrString1'>method</a></span>: <span class='identifier'><a name='182_59' href='JSONRPCLanguageServer.swift.html#180_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='182_70' title='usrString3'>error</a></span>) <span class='keyword'>in</span>
<span class=linenum>0183</span>                <span class='keyword'>let</span> <span class='identifier'><a name='183_16' title='usrString3'>upstreamError</a></span> = <span class='identifier'><a name='183_32' href='JSONRPCLanguageServer.swift.html#182_70' title='usrString1'>error</a></span>.<span class='identifier'>map</span> { <span class='identifier'><a name='183_44' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>.<span class='identifier'><a name='183_64' href='LanguageServer.swift.html#13_9' title='usrString1'>protocolError</a></span>(<span class='identifier'><a name='183_78' href='JSONRPCLanguageServer.swift.html#183_42' title='usrString1'>$0</a></span>) }
<span class=linenum>0184</span>                <span class='identifier'><a name='184_12' href='JSONRPCLanguageServer.swift.html#179_71' title='usrString1'>block</a></span>(<span class='identifier'><a name='184_18' href='JSONRPCLanguageServer.swift.html#183_16' title='usrString1'>upstreamError</a></span>)
<span class=linenum>0185</span>            }
<span class=linenum>0186</span>        }
<span class=linenum>0187</span>        
<span class=linenum>0188</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='188_16' title='usrString2' onclick='return expand(this);'>completion<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='188_27' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#191_38"; return false;'>JSONRPCLanguageServer.swift:191</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;CompletionResponse>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='188_35' href='LanguageFeatures.swift.html#26_29' title='usrString1'>CompletionParams</a></span>, <span class='identifier'><a name='188_53' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#192_47"; return false;'>JSONRPCLanguageServer.swift:192</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='188_71' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='188_92' href='LanguageFeatures.swift.html#63_69' title='usrString1'>CompletionResponse</a></span>>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0189</span>            <span class='keyword'>let</span> <span class='identifier'><a name='189_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='189_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='189_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='189_49' href='ProtocolMethod.swift.html#23_26' title='usrString1'>Completion</a></span>
<span class=linenum>0190</span>            
<span class=linenum>0191</span>            <span class='identifier'><a name='191_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='191_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='191_38' href='JSONRPCLanguageServer.swift.html#188_27' title='usrString1'>params</a></span>, <span class='identifier'><a name='191_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='191_54' href='JSONRPCLanguageServer.swift.html#189_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='191_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='191_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='191_90' href='LanguageFeatures.swift.html#63_69' title='usrString1'>CompletionResponse</a></span>>) <span class='keyword'>in</span>
<span class=linenum>0192</span>                <span class='identifier'><a name='192_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='192_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='192_32' href='JSONRPCLanguageServer.swift.html#191_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='192_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='192_47' href='JSONRPCLanguageServer.swift.html#188_53' title='usrString1'>block</a></span>)
<span class=linenum>0193</span>            }
<span class=linenum>0194</span>        }
<span class=linenum>0195</span>    
<span class=linenum>0196</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='196_16' title='usrString2' onclick='return expand(this);'>signatureHelp<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='196_30' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#199_38"; return false;'>JSONRPCLanguageServer.swift:199</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;SignatureHelp>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='196_38' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='196_66' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#200_47"; return false;'>JSONRPCLanguageServer.swift:200</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='196_84' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='196_105' href='SignatureHelp.swift.html#49_14' title='usrString1'>SignatureHelp</a></span>>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0197</span>            <span class='keyword'>let</span> <span class='identifier'><a name='197_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='197_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='197_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='197_49' href='ProtocolMethod.swift.html#30_26' title='usrString1'>SignatureHelp</a></span>
<span class=linenum>0198</span>    
<span class=linenum>0199</span>            <span class='identifier'><a name='199_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='199_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='199_38' href='JSONRPCLanguageServer.swift.html#196_30' title='usrString1'>params</a></span>, <span class='identifier'><a name='199_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='199_54' href='JSONRPCLanguageServer.swift.html#197_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='199_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='199_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='199_90' href='SignatureHelp.swift.html#49_14' title='usrString1'>SignatureHelp</a></span>>) <span class='keyword'>in</span>
<span class=linenum>0200</span>                <span class='identifier'><a name='200_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='200_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='200_32' href='JSONRPCLanguageServer.swift.html#199_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='200_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='200_47' href='JSONRPCLanguageServer.swift.html#196_66' title='usrString1'>block</a></span>)
<span class=linenum>0201</span>            }
<span class=linenum>0202</span>        }
<span class=linenum>0203</span>    
<span class=linenum>0204</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='204_16' title='usrString2' onclick='return expand(this);'>declaration<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='204_28' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#207_38"; return false;'>JSONRPCLanguageServer.swift:207</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;DeclarationResponse?>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='204_36' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='204_64' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#208_47"; return false;'>JSONRPCLanguageServer.swift:208</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='204_82' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='204_103' href='Declaration.swift.html#11_8' title='usrString1'>DeclarationResponse</a></span>?>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0205</span>            <span class='keyword'>let</span> <span class='identifier'><a name='205_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='205_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='205_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='205_49' href='ProtocolMethod.swift.html#31_26' title='usrString1'>Declaration</a></span>
<span class=linenum>0206</span>    
<span class=linenum>0207</span>            <span class='identifier'><a name='207_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='207_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='207_38' href='JSONRPCLanguageServer.swift.html#204_28' title='usrString1'>params</a></span>, <span class='identifier'><a name='207_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='207_54' href='JSONRPCLanguageServer.swift.html#205_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='207_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='207_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='207_90' href='Declaration.swift.html#11_8' title='usrString1'>DeclarationResponse</a></span>?>) <span class='keyword'>in</span>
<span class=linenum>0208</span>                <span class='identifier'><a name='208_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='208_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='208_32' href='JSONRPCLanguageServer.swift.html#207_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='208_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='208_47' href='JSONRPCLanguageServer.swift.html#204_64' title='usrString1'>block</a></span>)
<span class=linenum>0209</span>            }
<span class=linenum>0210</span>        }
<span class=linenum>0211</span>    
<span class=linenum>0212</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='212_16' title='usrString2' onclick='return expand(this);'>definition<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='212_27' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#216_38"; return false;'>JSONRPCLanguageServer.swift:216</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;DefinitionResponse?>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='212_35' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='212_63' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#217_47"; return false;'>JSONRPCLanguageServer.swift:217</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='212_81' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='212_102' href='Definition.swift.html#11_17' title='usrString1'>DefinitionResponse</a></span>?>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0213</span>            <span class='keyword'>let</span> <span class='identifier'><a name='213_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='213_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='213_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='213_49' href='ProtocolMethod.swift.html#32_26' title='usrString1'>Definition</a></span>
<span class=linenum>0214</span>    <span class='comment'>//        def.def = params
<span class=linenum>0215</span>    </span><span class='comment'>//        print(def)
<span class=linenum>0216</span>    </span>        <span class='identifier'><a name='216_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='216_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='216_38' href='JSONRPCLanguageServer.swift.html#212_27' title='usrString1'>params</a></span>, <span class='identifier'><a name='216_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='216_54' href='JSONRPCLanguageServer.swift.html#213_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='216_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='216_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='216_90' href='Definition.swift.html#11_17' title='usrString1'>DefinitionResponse</a></span>?>) <span class='keyword'>in</span>
<span class=linenum>0217</span>                <span class='identifier'><a name='217_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='217_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='217_32' href='JSONRPCLanguageServer.swift.html#216_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='217_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='217_47' href='JSONRPCLanguageServer.swift.html#212_63' title='usrString1'>block</a></span>)
<span class=linenum>0218</span>            }
<span class=linenum>0219</span>        }
<span class=linenum>0220</span>    
<span class=linenum>0221</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='221_16' title='usrString2' onclick='return expand(this);'>typeDefinition<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='221_31' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#224_38"; return false;'>JSONRPCLanguageServer.swift:224</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;TypeDefinitionResponse?>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='221_39' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='221_67' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#225_47"; return false;'>JSONRPCLanguageServer.swift:225</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='221_85' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='221_106' href='TypeDefinition.swift.html#11_6' title='usrString1'>TypeDefinitionResponse</a></span>?>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0222</span>            <span class='keyword'>let</span> <span class='identifier'><a name='222_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='222_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='222_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='222_49' href='ProtocolMethod.swift.html#33_26' title='usrString1'>TypeDefinition</a></span>
<span class=linenum>0223</span>    
<span class=linenum>0224</span>            <span class='identifier'><a name='224_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='224_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='224_38' href='JSONRPCLanguageServer.swift.html#221_31' title='usrString1'>params</a></span>, <span class='identifier'><a name='224_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='224_54' href='JSONRPCLanguageServer.swift.html#222_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='224_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='224_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='224_90' href='TypeDefinition.swift.html#11_6' title='usrString1'>TypeDefinitionResponse</a></span>?>) <span class='keyword'>in</span>
<span class=linenum>0225</span>                <span class='identifier'><a name='225_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='225_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='225_32' href='JSONRPCLanguageServer.swift.html#224_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='225_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='225_47' href='JSONRPCLanguageServer.swift.html#221_67' title='usrString1'>block</a></span>)
<span class=linenum>0226</span>            }
<span class=linenum>0227</span>        }
<span class=linenum>0228</span>    
<span class=linenum>0229</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='229_16' title='usrString2' onclick='return expand(this);'>implementation<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='229_31' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#232_38"; return false;'>JSONRPCLanguageServer.swift:232</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;ImplementationResponse?>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='229_39' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='229_67' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#233_47"; return false;'>JSONRPCLanguageServer.swift:233</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='229_85' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='229_106' href='Implementation.swift.html#11_11' title='usrString1'>ImplementationResponse</a></span>?>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0230</span>            <span class='keyword'>let</span> <span class='identifier'><a name='230_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='230_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='230_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='230_49' href='ProtocolMethod.swift.html#34_26' title='usrString1'>Implementation</a></span>
<span class=linenum>0231</span>    
<span class=linenum>0232</span>            <span class='identifier'><a name='232_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='232_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='232_38' href='JSONRPCLanguageServer.swift.html#229_31' title='usrString1'>params</a></span>, <span class='identifier'><a name='232_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='232_54' href='JSONRPCLanguageServer.swift.html#230_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='232_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='232_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='232_90' href='Implementation.swift.html#11_11' title='usrString1'>ImplementationResponse</a></span>?>) <span class='keyword'>in</span>
<span class=linenum>0233</span>                <span class='identifier'><a name='233_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='233_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='233_32' href='JSONRPCLanguageServer.swift.html#232_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='233_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='233_47' href='JSONRPCLanguageServer.swift.html#229_67' title='usrString1'>block</a></span>)
<span class=linenum>0234</span>            }
<span class=linenum>0235</span>        }
<span class=linenum>0236</span>    
<span class=linenum>0237</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='237_16' title='usrString2' onclick='return expand(this);'>documentSymbol<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='237_31' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#240_38"; return false;'>JSONRPCLanguageServer.swift:240</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;DocumentSymbolResponse>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='237_39' href='DocumentSymbol.swift.html#11_8' title='usrString1'>DocumentSymbolParams</a></span>, <span class='identifier'><a name='237_61' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#241_47"; return false;'>JSONRPCLanguageServer.swift:241</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='237_79' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='237_100' href='DocumentSymbol.swift.html#19_26' title='usrString1'>DocumentSymbolResponse</a></span>>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0238</span>            <span class='keyword'>let</span> <span class='identifier'><a name='238_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='238_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='238_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='238_49' href='ProtocolMethod.swift.html#35_26' title='usrString1'>DocumentSymbol</a></span>
<span class=linenum>0239</span>    
<span class=linenum>0240</span>            <span class='identifier'><a name='240_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='240_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='240_38' href='JSONRPCLanguageServer.swift.html#237_31' title='usrString1'>params</a></span>, <span class='identifier'><a name='240_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='240_54' href='JSONRPCLanguageServer.swift.html#238_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='240_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='240_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='240_90' href='DocumentSymbol.swift.html#19_26' title='usrString1'>DocumentSymbolResponse</a></span>>) <span class='keyword'>in</span>
<span class=linenum>0241</span>                <span class='identifier'><a name='241_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='241_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='241_32' href='JSONRPCLanguageServer.swift.html#240_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='241_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='241_47' href='JSONRPCLanguageServer.swift.html#237_61' title='usrString1'>block</a></span>)
<span class=linenum>0242</span>            }
<span class=linenum>0243</span>        }
<span class=linenum>0244</span>    
<span class=linenum>0245</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='245_16' title='usrString2' onclick='return expand(this);'>formatting<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='245_27' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#248_38"; return false;'>JSONRPCLanguageServer.swift:248</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;FormattingResult>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='245_35' href='Formatting.swift.html#17_3' title='usrString1'>DocumentFormattingParams</a></span>, <span class='identifier'><a name='245_61' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#249_47"; return false;'>JSONRPCLanguageServer.swift:249</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='245_79' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='245_100' href='Formatting.swift.html#47_31' title='usrString1'>FormattingResult</a></span>>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0246</span>            <span class='keyword'>let</span> <span class='identifier'><a name='246_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='246_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='246_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='246_49' href='ProtocolMethod.swift.html#36_26' title='usrString1'>Formatting</a></span>
<span class=linenum>0247</span>    
<span class=linenum>0248</span>            <span class='identifier'><a name='248_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='248_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='248_38' href='JSONRPCLanguageServer.swift.html#245_27' title='usrString1'>params</a></span>, <span class='identifier'><a name='248_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='248_54' href='JSONRPCLanguageServer.swift.html#246_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='248_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='248_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='248_90' href='Formatting.swift.html#47_31' title='usrString1'>FormattingResult</a></span>>) <span class='keyword'>in</span>
<span class=linenum>0249</span>                <span class='identifier'><a name='249_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='249_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='249_32' href='JSONRPCLanguageServer.swift.html#248_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='249_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='249_47' href='JSONRPCLanguageServer.swift.html#245_61' title='usrString1'>block</a></span>)
<span class=linenum>0250</span>            }
<span class=linenum>0251</span>        }
<span class=linenum>0252</span>    
<span class=linenum>0253</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='253_16' title='usrString2' onclick='return expand(this);'>rangeFormatting<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='253_32' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#256_38"; return false;'>JSONRPCLanguageServer.swift:256</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;FormattingResult>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='253_40' href='Formatting.swift.html#26_86' title='usrString1'>DocumentRangeFormattingParams</a></span>, <span class='identifier'><a name='253_71' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#257_47"; return false;'>JSONRPCLanguageServer.swift:257</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='253_89' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='253_110' href='Formatting.swift.html#47_31' title='usrString1'>FormattingResult</a></span>>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0254</span>            <span class='keyword'>let</span> <span class='identifier'><a name='254_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='254_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='254_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='254_49' href='ProtocolMethod.swift.html#37_26' title='usrString1'>RangeFormatting</a></span>
<span class=linenum>0255</span>    
<span class=linenum>0256</span>            <span class='identifier'><a name='256_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='256_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='256_38' href='JSONRPCLanguageServer.swift.html#253_32' title='usrString1'>params</a></span>, <span class='identifier'><a name='256_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='256_54' href='JSONRPCLanguageServer.swift.html#254_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='256_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='256_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='256_90' href='Formatting.swift.html#47_31' title='usrString1'>FormattingResult</a></span>>) <span class='keyword'>in</span>
<span class=linenum>0257</span>                <span class='identifier'><a name='257_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='257_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='257_32' href='JSONRPCLanguageServer.swift.html#256_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='257_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='257_47' href='JSONRPCLanguageServer.swift.html#253_71' title='usrString1'>block</a></span>)
<span class=linenum>0258</span>            }
<span class=linenum>0259</span>        }
<span class=linenum>0260</span>    
<span class=linenum>0261</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='261_16' title='usrString2' onclick='return expand(this);'>onTypeFormatting<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='261_33' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#264_38"; return false;'>JSONRPCLanguageServer.swift:264</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;FormattingResult>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='261_41' href='Formatting.swift.html#36_3' title='usrString1'>DocumentOnTypeFormattingParams</a></span>, <span class='identifier'><a name='261_73' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#265_47"; return false;'>JSONRPCLanguageServer.swift:265</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='261_91' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='261_112' href='Formatting.swift.html#47_31' title='usrString1'>FormattingResult</a></span>>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0262</span>            <span class='keyword'>let</span> <span class='identifier'><a name='262_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='262_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='262_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='262_49' href='ProtocolMethod.swift.html#38_26' title='usrString1'>OnTypeFormatting</a></span>
<span class=linenum>0263</span>    
<span class=linenum>0264</span>            <span class='identifier'><a name='264_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='264_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='264_38' href='JSONRPCLanguageServer.swift.html#261_33' title='usrString1'>params</a></span>, <span class='identifier'><a name='264_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='264_54' href='JSONRPCLanguageServer.swift.html#262_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='264_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='264_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='264_90' href='Formatting.swift.html#47_31' title='usrString1'>FormattingResult</a></span>>) <span class='keyword'>in</span>
<span class=linenum>0265</span>                <span class='identifier'><a name='265_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='265_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='265_32' href='JSONRPCLanguageServer.swift.html#264_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='265_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='265_47' href='JSONRPCLanguageServer.swift.html#261_73' title='usrString1'>block</a></span>)
<span class=linenum>0266</span>            }
<span class=linenum>0267</span>        }
<span class=linenum>0268</span>    
<span class=linenum>0269</span>        <span class='builtin'>public</span> <span class='keyword'>func</span> <span class='identifier'><a name='269_16' title='usrString2' onclick='return expand(this);'>references<span class='references'><table></table></span></a></span>(<span class='identifier'><a name='269_27' href='#' title='usrString2' onclick='return expand(this);'>params<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#272_38"; return false;'>JSONRPCLanguageServer.swift:272</td><td><pre>        protocolTransport.sendRequest(params, method: method) { (result: ProtocolResponse&lt;ReferenceResponse?>) in</pre></td></table></span></a></span>: <span class='typeidentifier'><a name='269_35' href='Reference.swift.html#16_0' title='usrString1'>ReferenceParams</a></span>, <span class='identifier'><a name='269_52' href='#' title='usrString2' onclick='return expand(this);'>block<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#273_47"; return false;'>JSONRPCLanguageServer.swift:273</td><td><pre>            relayResult(result: result, block: block)</pre></td></table></span></a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='269_70' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='269_91' href='Reference.swift.html#34_97' title='usrString1'>ReferenceResponse</a></span>?>) -> <span class='typeidentifier'>Void</span>) {
<span class=linenum>0270</span>            <span class='keyword'>let</span> <span class='identifier'><a name='270_12' title='usrString3'>method</a></span> = <span class='identifier'><a name='270_21' href='ProtocolMethod.swift.html#11_14' title='usrString1'>ProtocolMethod</a></span>.<span class='identifier'><a name='270_36' href='ProtocolMethod.swift.html#21_18' title='usrString1'>TextDocument</a></span>.<span class='identifier'><a name='270_49' href='ProtocolMethod.swift.html#40_26' title='usrString1'>References</a></span>
<span class=linenum>0271</span>    
<span class=linenum>0272</span>            <span class='identifier'><a name='272_8' href='JSONRPCLanguageServer.swift.html#13_16' title='usrString1'>protocolTransport</a></span>.<span class='identifier'><a name='272_26' href='ProtocolTransport.swift.html#54_4' title='usrString1'>sendRequest</a></span>(<span class='identifier'><a name='272_38' href='JSONRPCLanguageServer.swift.html#269_27' title='usrString1'>params</a></span>, <span class='identifier'><a name='272_46' href='ProtocolTransport.swift.html#54_4' title='usrString1'>method</a></span>: <span class='identifier'><a name='272_54' href='JSONRPCLanguageServer.swift.html#270_12' title='usrString1'>method</a></span>) { (<span class='identifier'><a name='272_65' title='usrString3'>result</a></span>: <span class='typeidentifier'><a name='272_73' href='JSONRPCLanguageServer.swift.html#108_14' title='usrString1'>ProtocolResponse</a></span>&lt;<span class='typeidentifier'><a name='272_90' href='Reference.swift.html#34_97' title='usrString1'>ReferenceResponse</a></span>?>) <span class='keyword'>in</span>
<span class=linenum>0273</span>                <span class='identifier'><a name='273_12' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>relayResult</a></span>(<span class='identifier'><a name='273_24' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>result</a></span>: <span class='identifier'><a name='273_32' href='JSONRPCLanguageServer.swift.html#272_65' title='usrString1'>result</a></span>, <span class='identifier'><a name='273_40' href='JSONRPCLanguageServer.swift.html#85_13' title='usrString1'>block</a></span>: <span class='identifier'><a name='273_47' href='JSONRPCLanguageServer.swift.html#269_52' title='usrString1'>block</a></span>)
<span class=linenum>0274</span>            }
<span class=linenum>0275</span>        }
<span class=linenum>0276</span>    }
<span class=linenum>0277</span>    