<html><head>
    <meta charset="UTF-8">
    <title>.build/checkouts/Parallel/Sources/Parallel.swift</title>
    <link rel="stylesheet" type="text/css" href="siteify.css">
    <script src="siteify.js"></script>
</head><html><body class=source>
<h2><img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABRJJREFUWAnFV1tIZWUU/vY+6klxoLwMNurYVOboSDZTlIym85KR0IOMw0BCGvTggwRCzxH00ku+NMTQFM0QxUhCUzopKaX0IFnkoIwXvCGiOU5q3o5Hz97771tb3Z299XiOYLTgO//+L2ut71//bR0NbtFYTSIeJ+IIqUcSxY4QsUksE1uERRxJxEm4iMPHFhcXx8Ibvd9KKRAqGAw+pAz29PTcbmxsvMNxQsT0jj+sHj5D+RZCZ9bX10cPU9olANM0sby8jLW1tdDs7Oz1ysrKD6n3gJBISISiipdAPDWe2draGjxMc4+AlIZhgFHA6uqqqev6naKioneoGzMJ3eNICGk+nw/REBcXB0F8fDzS09OhaZovJyfn8sjIyBe0cYoQ2+ETZHW/eAnICI0zwWEQctIv5R6JpKQkIYG8vLyK8fHxr2gnlo3sYiRs/cSzDG1UsSxLCbgPVCgUUhMTE2p7e9vRm56e/p22ThMJRMRIHBQBjo8uMlsRKSUaIrIfSAaBQAAZGRnPz83NtbM5k4hIIpyZfMvAs5zGPZYxiTKCgM8POsPm5qZNgMfTLsVAYmJib0lJyVs8KVOsyr0R8XQIAVmCIieO3g+G3CtmYFGFBr5UlmnYyyHLwAgoOlQ8mmpwcFDxnviedmVP+AiXxLYEoYCtpJYmeMINt4HEFN6BQRi9H9vLIRszISEBfr8fqampyM7ORkpKyutNTU0VVJQJhkfdZStyBIJryhztUsoMqVDfLaW2A65AWA/H1dYnFcq4f9fZmNwP9ubknaJ4samBgQHZDxIF16RdFRed8Io/GdqjOTB+/Ai+py7B+O59qJU/nRFa2pOMgg6z+wbLDTsSe5tzLyKZmZnnqJBIiE8nCrEREI2TT0N/4iKM5vd2yluNsKb+YI8I7QWJxRWo+z/ttPB0CAmBkEhOTk5jxyM7g+0h9k/MBGS0fvZl6Odeg/ntNbo8AePTd2H+cB1q9S9ofwegbViwhvscx6KzR4I3psx+3wvrfQ1F51DxlV2FtrkFs/WGbdxq/xrWL3ehNkw7rmpu3tEX5x7Z13AQAfegwDozhGSXHf3VNxkOP8zb13iq+fBtLEHj6Vb80TVJJyKK2HbZj7oEauQezG8+g1qUB+5f0V+5Cv3SFTvsYOgRsKAR2CSOIAdFwKWuXSiFNv8AxttV0E+fAdJ5knzkPTUGa352Zzp8lrkeO3fcb31Q/b9CO/+Sy06kSlQCoqhXXoZ2KgdW0wewhn6mU1cUd2skkXaSy7EOq6sdvuMkICS0516A7/MW6F0ddNABNTYKbXWFTtOgXXgR+pU3oOXmAetrsJrlNT66yLTkqjzvuuaOsSK2d304IYy6Canwn8r/TiDqJmSmg87OTuTm5trpV3l5OVpaWlBdXY3u7m4UFhZiYWEB/f394FOM4uJiTE1NYWhoyM4Va2trD41gVAJtbW2oqqrC0tKSnf0y30NHRwcKCgowPDxsP7dMv+z0vKGhwXaWn5+PyclJRHMug6MuQX19PXp7e9HV1QVmNmhubkZNTQ3a29uRlZXlzG5mZgY3b94EkxCnLZaPgwg4O1QMtLa22rmepN+S+Up4S0tLIbMuKytzfEjiUVdXBz67TtsBHy7b3v6Ix1Cy3uMQOox6DHmdwZ1zsUFy/2MSsS0+HPFals5lPqMXWZ4gvP2O4hE/xPEaIX9eXQS8ayJ7QlJzSR6klH7vGDYdScShYJuQv/JSOk/mP8kXIQTYC1wuAAAAAElFTkSuQmCC'> Source: .build/checkouts/Parallel/Sources/Parallel.swift (Return to <a href='index.html'>Index</a>)</h2>
<h3>Repo: <a href='https://github.com/johnno1962/Parallel.git'>https://github.com/johnno1962/Parallel.git</a></h3>
<table><tr><td>Initial Commit:<td class=crdate>Wed Nov 27 09:21:49 2019 +0100
<tr><td>Last modified:<td class=mdate>Thu Nov 28 14:40:49 2019 +0100</table><script>

var repo = "https://github.com/johnno1962/Parallel";
var commits = {
  "4ff40b7" : {
    "author" : "John Holdsworth ",
    "date" : "Thu Nov 28 09:41:30 2019 +0100",
    "hash" : "4ff40b79125b60cf52e085cd666d4938ca9c0370",
    "message" : "\n    Thread synchronised cache\n"
  },
  "3461b80" : {
    "author" : "John Holdsworth ",
    "date" : "Wed Nov 27 09:21:49 2019 +0100",
    "hash" : "3461b8087154a3a618883a1999dd58c550beb263",
    "message" : "\n    Initial commit\n"
  },
  "17716a5" : {
    "author" : "John Holdsworth ",
    "date" : "Thu Nov 28 14:40:49 2019 +0100",
    "hash" : "17716a5f528ac2863a6940a1da573a6d9eb0d750",
    "message" : "\n    Expiring Cache\n"
  },
  "f20eb2a" : {
    "author" : "John Holdsworth ",
    "date" : "Thu Nov 28 12:48:51 2019 +0100",
    "hash" : "f20eb2aa5a859ab50b9fadb668a941d3ab486cf5",
    "message" : "\n    Slightly more docuemntation\n"
  }
};

</script><table><td valign=top><pre><script> lineLink("3461b80", 1574842909, "0001") </script>
<script> lineLink("3461b80", 1574842909, "0002") </script>
<script> lineLink("3461b80", 1574842909, "0003") </script>
<script> lineLink("3461b80", 1574842909, "0004") </script>
<script> lineLink("3461b80", 1574842909, "0005") </script>
<script> lineLink("3461b80", 1574842909, "0006") </script>
<script> lineLink("3461b80", 1574842909, "0007") </script>
<script> lineLink("3461b80", 1574842909, "0008") </script>
<script> lineLink("17716a5", 1574948449, "0009") </script>
<script> lineLink("3461b80", 1574842909, "0010") </script>
<script> lineLink("3461b80", 1574842909, "0011") </script>
<script> lineLink("3461b80", 1574842909, "0012") </script>
<script> lineLink("3461b80", 1574842909, "0013") </script>
<script> lineLink("3461b80", 1574842909, "0014") </script>
<script> lineLink("3461b80", 1574842909, "0015") </script>
<script> lineLink("3461b80", 1574842909, "0016") </script>
<script> lineLink("3461b80", 1574842909, "0017") </script>
<script> lineLink("3461b80", 1574842909, "0018") </script>
<script> lineLink("3461b80", 1574842909, "0019") </script>
<script> lineLink("3461b80", 1574842909, "0020") </script>
<script> lineLink("3461b80", 1574842909, "0021") </script>
<script> lineLink("3461b80", 1574842909, "0022") </script>
<script> lineLink("3461b80", 1574842909, "0023") </script>
<script> lineLink("3461b80", 1574842909, "0024") </script>
<script> lineLink("3461b80", 1574842909, "0025") </script>
<script> lineLink("3461b80", 1574842909, "0026") </script>
<script> lineLink("3461b80", 1574842909, "0027") </script>
<script> lineLink("3461b80", 1574842909, "0028") </script>
<script> lineLink("3461b80", 1574842909, "0029") </script>
<script> lineLink("3461b80", 1574842909, "0030") </script>
<script> lineLink("3461b80", 1574842909, "0031") </script>
<script> lineLink("3461b80", 1574842909, "0032") </script>
<script> lineLink("3461b80", 1574842909, "0033") </script>
<script> lineLink("3461b80", 1574842909, "0034") </script>
<script> lineLink("3461b80", 1574842909, "0035") </script>
<script> lineLink("3461b80", 1574842909, "0036") </script>
<script> lineLink("3461b80", 1574842909, "0037") </script>
<script> lineLink("3461b80", 1574842909, "0038") </script>
<script> lineLink("3461b80", 1574842909, "0039") </script>
<script> lineLink("3461b80", 1574842909, "0040") </script>
<script> lineLink("3461b80", 1574842909, "0041") </script>
<script> lineLink("3461b80", 1574842909, "0042") </script>
<script> lineLink("3461b80", 1574842909, "0043") </script>
<script> lineLink("3461b80", 1574842909, "0044") </script>
<script> lineLink("3461b80", 1574842909, "0045") </script>
<script> lineLink("3461b80", 1574842909, "0046") </script>
<script> lineLink("3461b80", 1574842909, "0047") </script>
<script> lineLink("3461b80", 1574842909, "0048") </script>
<script> lineLink("3461b80", 1574842909, "0049") </script>
<script> lineLink("3461b80", 1574842909, "0050") </script>
<script> lineLink("3461b80", 1574842909, "0051") </script>
<script> lineLink("3461b80", 1574842909, "0052") </script>
<script> lineLink("3461b80", 1574842909, "0053") </script>
<script> lineLink("3461b80", 1574842909, "0054") </script>
<script> lineLink("f20eb2a", 1574941731, "0055") </script>
<script> lineLink("4ff40b7", 1574930490, "0056") </script>
<script> lineLink("3461b80", 1574842909, "0057") </script>
<script> lineLink("3461b80", 1574842909, "0058") </script>
<script> lineLink("3461b80", 1574842909, "0059") </script>
<script> lineLink("3461b80", 1574842909, "0060") </script>
<script> lineLink("3461b80", 1574842909, "0061") </script>
<script> lineLink("3461b80", 1574842909, "0062") </script>
<script> lineLink("3461b80", 1574842909, "0063") </script>
<script> lineLink("f20eb2a", 1574941731, "0064") </script>
<script> lineLink("f20eb2a", 1574941731, "0065") </script>
<script> lineLink("f20eb2a", 1574941731, "0066") </script>
<script> lineLink("3461b80", 1574842909, "0067") </script>
<script> lineLink("3461b80", 1574842909, "0068") </script>
<script> lineLink("3461b80", 1574842909, "0069") </script>
<script> lineLink("3461b80", 1574842909, "0070") </script>
<script> lineLink("3461b80", 1574842909, "0071") </script>
<script> lineLink("4ff40b7", 1574930490, "0072") </script>
<script> lineLink("4ff40b7", 1574930490, "0073") </script>
<script> lineLink("17716a5", 1574948449, "0074") </script>
<script> lineLink("17716a5", 1574948449, "0075") </script>
<script> lineLink("4ff40b7", 1574930490, "0076") </script>
<script> lineLink("f20eb2a", 1574941731, "0077") </script>
<script> lineLink("17716a5", 1574948449, "0078") </script>
<script> lineLink("4ff40b7", 1574930490, "0079") </script>
<script> lineLink("f20eb2a", 1574941731, "0080") </script>
<script> lineLink("f20eb2a", 1574941731, "0081") </script>
<script> lineLink("f20eb2a", 1574941731, "0082") </script>
<script> lineLink("17716a5", 1574948449, "0083") </script>
<script> lineLink("17716a5", 1574948449, "0084") </script>
<script> lineLink("4ff40b7", 1574930490, "0085") </script>
<script> lineLink("17716a5", 1574948449, "0086") </script>
<script> lineLink("17716a5", 1574948449, "0087") </script>
<script> lineLink("4ff40b7", 1574930490, "0088") </script>
<script> lineLink("4ff40b7", 1574930490, "0089") </script>
<script> lineLink("f20eb2a", 1574941731, "0090") </script>
<script> lineLink("f20eb2a", 1574941731, "0091") </script>
<script> lineLink("f20eb2a", 1574941731, "0092") </script>
<script> lineLink("f20eb2a", 1574941731, "0093") </script>
<script> lineLink("4ff40b7", 1574930490, "0094") </script>
<script> lineLink("17716a5", 1574948449, "0095") </script>
<script> lineLink("17716a5", 1574948449, "0096") </script>
<script> lineLink("17716a5", 1574948449, "0097") </script>
<script> lineLink("4ff40b7", 1574930490, "0098") </script>
<script> lineLink("f20eb2a", 1574941731, "0099") </script>
<script> lineLink("f20eb2a", 1574941731, "0100") </script>
<script> lineLink("17716a5", 1574948449, "0101") </script>
<script> lineLink("17716a5", 1574948449, "0102") </script>
<script> lineLink("17716a5", 1574948449, "0103") </script>
<script> lineLink("f20eb2a", 1574941731, "0104") </script>
<script> lineLink("4ff40b7", 1574930490, "0105") </script>
<script> lineLink("4ff40b7", 1574930490, "0106") </script>
<script> lineLink("4ff40b7", 1574930490, "0107") </script>
<script> lineLink("4ff40b7", 1574930490, "0108") </script>
<script> lineLink("3461b80", 1574842909, "0109") </script>
<script> lineLink("3461b80", 1574842909, "0110") </script>
<script> lineLink("3461b80", 1574842909, "0111") </script>
<script> lineLink("3461b80", 1574842909, "0112") </script>
<script> lineLink("3461b80", 1574842909, "0113") </script>
<script> lineLink("3461b80", 1574842909, "0114") </script>
<script> lineLink("3461b80", 1574842909, "0115") </script>
<script> lineLink("3461b80", 1574842909, "0116") </script>
<script> lineLink("3461b80", 1574842909, "0117") </script>
<script> lineLink("3461b80", 1574842909, "0118") </script>
<script> lineLink("3461b80", 1574842909, "0119") </script>
<script> lineLink("3461b80", 1574842909, "0120") </script>
<script> lineLink("3461b80", 1574842909, "0121") </script>
<script> lineLink("3461b80", 1574842909, "0122") </script>
<script> lineLink("3461b80", 1574842909, "0123") </script>
<script> lineLink("3461b80", 1574842909, "0124") </script>
<script> lineLink("3461b80", 1574842909, "0125") </script>
<script> lineLink("3461b80", 1574842909, "0126") </script>
<script> lineLink("3461b80", 1574842909, "0127") </script>
<script> lineLink("3461b80", 1574842909, "0128") </script>
<script> lineLink("3461b80", 1574842909, "0129") </script>
<script> lineLink("3461b80", 1574842909, "0130") </script>
<script> lineLink("3461b80", 1574842909, "0131") </script>
<script> lineLink("3461b80", 1574842909, "0132") </script>
<script> lineLink("3461b80", 1574842909, "0133") </script>
<script> lineLink("3461b80", 1574842909, "0134") </script>
<script> lineLink("3461b80", 1574842909, "0135") </script>
<script> lineLink("3461b80", 1574842909, "0136") </script>
<script> lineLink("3461b80", 1574842909, "0137") </script>
<script> lineLink("3461b80", 1574842909, "0138") </script>
<script> lineLink("3461b80", 1574842909, "0139") </script>
<script> lineLink("3461b80", 1574842909, "0140") </script>
<script> lineLink("3461b80", 1574842909, "0141") </script>
<script> lineLink("3461b80", 1574842909, "0142") </script>
<script> lineLink("3461b80", 1574842909, "0143") </script>
<script> lineLink("3461b80", 1574842909, "0144") </script>
<script> lineLink("3461b80", 1574842909, "0145") </script>
<script> lineLink("3461b80", 1574842909, "0146") </script>
<script> lineLink("3461b80", 1574842909, "0147") </script>
<script> lineLink("3461b80", 1574842909, "0148") </script>
<script> lineLink("3461b80", 1574842909, "0149") </script>
<script> lineLink("3461b80", 1574842909, "0150") </script>
<script> lineLink("3461b80", 1574842909, "0151") </script>
<script> lineLink("3461b80", 1574842909, "0152") </script>
<script> lineLink("3461b80", 1574842909, "0153") </script>
<script> lineLink("3461b80", 1574842909, "0154") </script>
<script> lineLink("3461b80", 1574842909, "0155") </script>
<script> lineLink("3461b80", 1574842909, "0156") </script>
<script> lineLink("3461b80", 1574842909, "0157") </script>
<script> lineLink("3461b80", 1574842909, "0158") </script>
<script> lineLink("3461b80", 1574842909, "0159") </script>
<script> lineLink("3461b80", 1574842909, "0160") </script>
<script> lineLink("3461b80", 1574842909, "0161") </script>
<script> lineLink("3461b80", 1574842909, "0162") </script>
<script> lineLink("3461b80", 1574842909, "0163") </script>
<script> lineLink("3461b80", 1574842909, "0164") </script>
<script> lineLink("3461b80", 1574842909, "0165") </script>
<script> lineLink("3461b80", 1574842909, "0166") </script>
<script> lineLink("3461b80", 1574842909, "0167") </script>
<script> lineLink("3461b80", 1574842909, "0168") </script>
<script> lineLink("3461b80", 1574842909, "0169") </script>
<script> lineLink("3461b80", 1574842909, "0170") </script>
<script> lineLink("3461b80", 1574842909, "0171") </script>
<script> lineLink("3461b80", 1574842909, "0172") </script>
<script> lineLink("3461b80", 1574842909, "0173") </script>
<a class=linenum name='L174'>0174</a>  <td valign=top><pre onclick="extendShade(event)">
<span class='comment' title='source.lang.swift.syntaxtype.comment'>//
</span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  Parallel.swift
</span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  Parallel
</span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//
</span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  Created by John Holdsworth on 27/11/2019.
</span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  Copyright © 2019 John Holdsworth. All rights reserved.
</span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//
</span>
<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>import</span> <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'><a name='9_7'>Foundation</a></span>

<span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// Wrapper for os_unfair_lock mutex primitve from the
</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// project: </span><span class='url'><a href='https://github.com/Alamofire/Alamofire'>https://github.com/Alamofire/Alamofire</a></span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>
</span><span class='comment' title='source.lang.swift.syntaxtype.comment'>// Copyright (c) 2014-2018 Alamofire Software Foundation (</span><span class='url'><a href='http://alamofire.org/'>http://alamofire.org/</a></span><span class='comment' title='source.lang.swift.syntaxtype.comment'>)
</span><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@available</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>OSX</span> <span class='number' title='source.lang.swift.syntaxtype.number'>10.12</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>iOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>10.0</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>tvOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>10.0</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>watchOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>3.0</span>, *)
<span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>class</span> <span class='identifier' title='usrString2'><span class=decl><a name='15_13' href='#' onclick='return expandDecl(this,event);'>UnfairLock</a><span class='references'><table><tr><td><a href="Parallel.swift.html#57_36" onclick='return refClick(this,true,event)'>Parallel.swift:57</a></td><td><pre>public class Synchronized&lt;Wrapped>: UnfairLock {</pre></td></table></span></span></span> {
    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>private</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><span class=decl><a name='16_16' href='#' onclick='return expandDecl(this,event);'>unfairLock</a><span class='references'><table><tr><td><a href="Parallel.swift.html#19_8" onclick='return refClick(this,true,event)'>Parallel.swift:19</a></td><td><pre>        unfairLock = .allocate(capacity: 1)</pre></td><tr><td><a href="Parallel.swift.html#20_8" onclick='return refClick(this,true,event)'>Parallel.swift:20</a></td><td><pre>        unfairLock.initialize(to: os_unfair_lock())</pre></td><tr><td><a href="Parallel.swift.html#24_8" onclick='return refClick(this,true,event)'>Parallel.swift:24</a></td><td><pre>        unfairLock.deinitialize(count: 1)</pre></td><tr><td><a href="Parallel.swift.html#25_8" onclick='return refClick(this,true,event)'>Parallel.swift:25</a></td><td><pre>        unfairLock.deallocate()</pre></td><tr><td><a href="Parallel.swift.html#29_28" onclick='return refClick(this,true,event)'>Parallel.swift:29</a></td><td><pre>        os_unfair_lock_lock(unfairLock)</pre></td><tr><td><a href="Parallel.swift.html#33_30" onclick='return refClick(this,true,event)'>Parallel.swift:33</a></td><td><pre>        os_unfair_lock_unlock(unfairLock)</pre></td></table></span></span></span>: <span class='typeidentifier' title='lock.h'><a name='16_28'>os_unfair_lock_t</a></span></span>

    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>init</span>() {
        <span class='identifier' title='Parallel.swift'><a name='19_8' href='Parallel.swift.html#16_16'>unfairLock</a></span> = .<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='19_22'>allocate</a></span><span class=shade>(<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='19_31'>capacity</a></span>: <span class='number' title='source.lang.swift.syntaxtype.number'>1</span>)</span>
        <span class=shade><span class='identifier' title='Parallel.swift'><a name='20_8' href='Parallel.swift.html#16_16'>unfairLock</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='20_19'>initialize</a></span>(<span class=shade><span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='20_30'>to</a></span>: <span class=shade><span class='identifier' title='lock.h'><a name='20_34'>os_unfair_lock</a></span>()</span></span>)</span>
    }</span>

    <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>deinit</span> {
        <span class=shade><span class='identifier' title='Parallel.swift'><a name='24_8' href='Parallel.swift.html#16_16'>unfairLock</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='24_19'>deinitialize</a></span>(<span class=shade><span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='24_32'>count</a></span>: <span class='number' title='source.lang.swift.syntaxtype.number'>1</span></span>)</span>
        <span class=shade><span class='identifier' title='Parallel.swift'><a name='25_8' href='Parallel.swift.html#16_16'>unfairLock</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='25_19'>deallocate</a></span>()</span>
    }</span>

    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>private</span> <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>final</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><span class=decl><a name='28_23' href='#' onclick='return expandDecl(this,event);'>lock</a><span class='references'><table><tr><td><a href="Parallel.swift.html#42_8" onclick='return refClick(this,true,event)'>Parallel.swift:42</a></td><td><pre>        lock(); defer { unlock() }</pre></td><tr><td><a href="Parallel.swift.html#50_8" onclick='return refClick(this,true,event)'>Parallel.swift:50</a></td><td><pre>        lock(); defer { unlock() }</pre></td></table></span></span></span>() {
        <span class=shade><span class='identifier' title='lock.h'><a name='29_8'>os_unfair_lock_lock</a></span>(<span class='identifier' title='Parallel.swift'><a name='29_28' href='Parallel.swift.html#16_16'>unfairLock</a></span>)</span>
    }</span>

    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>private</span> <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>final</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><span class=decl><a name='32_23' href='#' onclick='return expandDecl(this,event);'>unlock</a><span class='references'><table><tr><td><a href="Parallel.swift.html#42_24" onclick='return refClick(this,true,event)'>Parallel.swift:42</a></td><td><pre>        lock(); defer { unlock() }</pre></td><tr><td><a href="Parallel.swift.html#50_24" onclick='return refClick(this,true,event)'>Parallel.swift:50</a></td><td><pre>        lock(); defer { unlock() }</pre></td></table></span></span></span>() {
        <span class=shade><span class='identifier' title='lock.h'><a name='33_8'>os_unfair_lock_unlock</a></span>(<span class='identifier' title='Parallel.swift'><a name='33_30' href='Parallel.swift.html#16_16'>unfairLock</a></span>)</span>
    }</span>

    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// Executes a closure returning a value while acquiring the lock.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>///
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> closure: The closure to run.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>///
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Returns</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>:           The value the closure generated.
</span>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>final</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><span class=decl><a name='41_22' href='#' onclick='return expandDecl(this,event);'>around</a><span class='references'><table><tr><td><a href="Parallel.swift.html#68_19" onclick='return refClick(this,true,event)'>Parallel.swift:68</a></td><td><pre>        return try around { try body(&amp;self.data) }</pre></td></table></span></span></span>&lt;<span class=shade><span class='identifier' title='Parallel.swift'><a name='41_29'>T</a></span></span>>(<span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='usrString2'><span class=decl><a name='41_34' onclick='return expandDecl(this,event);'>closure</a><span class='references'><table></table></span></span></span>: () <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>throws</span> -> <span class='typeidentifier' title='Parallel.swift'><a name='41_56' href='Parallel.swift.html#41_29'>T</a></span></span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>rethrows</span> -> <span class='typeidentifier' title='Parallel.swift'><a name='41_71' href='Parallel.swift.html#41_29'>T</a></span> {
        <span class=shade><span class='identifier' title='Parallel.swift'><a name='42_8' href='Parallel.swift.html#28_23'>lock</a></span>()</span>; <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>defer</span> <span class=shade>{ <span class=shade><span class='identifier' title='Parallel.swift'><a name='42_24' href='Parallel.swift.html#32_23'>unlock</a></span>()</span> }</span>
        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span> <span class=shade><span class='identifier' title='Parallel.swift'><a name='43_19' href='Parallel.swift.html#41_34'>closure</a></span>()</span>
    }</span>

    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// Execute a closure while acquiring the lock.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>///
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> closure: The closure to run.
</span>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>final</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><span class=decl><a name='49_22' onclick='return expandDecl(this,event);'>around</a><span class='references'><table></table></span></span></span>(<span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='usrString2'><span class=decl><a name='49_31' onclick='return expandDecl(this,event);'>closure</a><span class='references'><table></table></span></span></span>: () <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>throws</span> -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'><a name='49_53'>Void</a></span></span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>rethrows</span> {
        <span class=shade><span class='identifier' title='Parallel.swift'><a name='50_8' href='Parallel.swift.html#28_23'>lock</a></span>()</span>; <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>defer</span> <span class=shade>{ <span class=shade><span class='identifier' title='Parallel.swift'><a name='50_24' href='Parallel.swift.html#32_23'>unlock</a></span>()</span> }</span>
        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span> <span class=shade><span class='identifier' title='Parallel.swift'><a name='51_19' href='Parallel.swift.html#49_31'>closure</a></span>()</span>
    }</span>
}</span>

<span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// A wrapper for data to that is mutable across threads.
</span><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@available</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>OSX</span> <span class='number' title='source.lang.swift.syntaxtype.number'>10.12</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>iOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>10.0</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>tvOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>10.0</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>watchOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>3.0</span>, *)
<span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>class</span> <span class='identifier' title='usrString2'><span class=decl><a name='57_13' href='#' onclick='return expandDecl(this,event);'>Synchronized</a><span class='references'><table><tr><td><a href="Siteify.swift.html#100_25" onclick='return refClick(this,false,event)'>Siteify.swift:100</a></td><td><pre>    var packageSymbols = Synchronized([HTMLFileString: [DocumentSymbol]]())</pre></td><tr><td><a href="Siteify.swift.html#101_29" onclick='return refClick(this,false,event)'>Siteify.swift:101</a></td><td><pre>    var referencesFallback = Synchronized([Reference: Location]())</pre></td><tr><td><a href="Siteify.swift.html#102_20" onclick='return refClick(this,false,event)'>Siteify.swift:102</a></td><td><pre>    var symStarts = Synchronized([HTMLFileString: [Int: Position]]())</pre></td><tr><td><a href="Siteify.swift.html#180_26" onclick='return refClick(this,false,event)'>Siteify.swift:180</a></td><td><pre>        let outstanding = Synchronized([String: TimeInterval]())</pre></td><tr><td><a href="Parallel.swift.html#75_8" onclick='return refClick(this,true,event)'>Parallel.swift:75</a></td><td><pre>        Synchronized&lt;[Key: (expires: TimeInterval, value: Value)]> {</pre></td></table></span></span></span>&lt;<span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='57_26' href='#' onclick='return expandDecl(this,event);'>Wrapped</a><span class='references'><table><tr><td><a href="Parallel.swift.html#58_22" onclick='return refClick(this,true,event)'>Parallel.swift:58</a></td><td><pre>    private var data: Wrapped</pre></td><tr><td><a href="Parallel.swift.html#60_24" onclick='return refClick(this,true,event)'>Parallel.swift:60</a></td><td><pre>    public init(_ data: Wrapped) {</pre></td><tr><td><a href="Parallel.swift.html#67_47" onclick='return refClick(this,true,event)'>Parallel.swift:67</a></td><td><pre>    public func synchronized&lt;T>(_ body: (inout Wrapped) throws -> T) rethrows -> T {</pre></td></table></span></span></span></span>>: <span class='typeidentifier' title='Parallel.swift'><a name='57_36' href='Parallel.swift.html#15_13'>UnfairLock</a></span> {
    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>private</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='usrString2'><span class=decl><a name='58_16' href='#' onclick='return expandDecl(this,event);'>data</a><span class='references'><table><tr><td><a href="Parallel.swift.html#61_13" onclick='return refClick(this,true,event)'>Parallel.swift:61</a></td><td><pre>        self.data = data</pre></td><tr><td><a href="Parallel.swift.html#68_43" onclick='return refClick(this,true,event)'>Parallel.swift:68</a></td><td><pre>        return try around { try body(&amp;self.data) }</pre></td></table></span></span></span>: <span class='typeidentifier' title='Parallel.swift'><a name='58_22' href='Parallel.swift.html#57_26'>Wrapped</a></span></span>

    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>init</span>(<span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='usrString2'><span class=decl><a name='60_18' onclick='return expandDecl(this,event);'>data</a><span class='references'><table></table></span></span></span>: <span class='typeidentifier' title='Parallel.swift'><a name='60_24' href='Parallel.swift.html#57_26'>Wrapped</a></span></span>) {
        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Parallel.swift'><a name='61_13' href='Parallel.swift.html#58_16'>data</a></span> = <span class='identifier' title='Parallel.swift'><a name='61_20' href='Parallel.swift.html#60_18'>data</a></span>
    }</span>

    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// Access to wrapped data after taking out a lock on it.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>///
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> body: closure executed while wrapped data is locked
</span>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><span class=decl><a name='67_16' href='#' onclick='return expandDecl(this,event);'>synchronized</a><span class='references'><table><tr><td><a href="Siteify.swift.html#187_28" onclick='return refClick(this,false,event)'>Siteify.swift:187</a></td><td><pre>                outstanding.synchronized { outstanding in</pre></td><tr><td><a href="Siteify.swift.html#194_39" onclick='return refClick(this,false,event)'>Siteify.swift:194</a></td><td><pre>                    return outstanding.synchronized { outstanding -> TimeInterval? in</pre></td><tr><td><a href="Siteify.swift.html#247_34" onclick='return refClick(this,false,event)'>Siteify.swift:247</a></td><td><pre>        for sym in packageSymbols.synchronized({$0})</pre></td><tr><td><a href="Siteify.swift.html#305_46" onclick='return refClick(this,false,event)'>Siteify.swift:305</a></td><td><pre>        for (ref, decl) in referencesFallback.synchronized({$0}) {</pre></td><tr><td><a href="Siteify.swift.html#336_43" onclick='return refClick(this,false,event)'>Siteify.swift:336</a></td><td><pre>        guard let symbols = packageSymbols.synchronized({ $0[htmlfile] }) else {</pre></td><tr><td><a href="Siteify.swift.html#344_26" onclick='return refClick(this,false,event)'>Siteify.swift:344</a></td><td><pre>                symStarts.synchronized({ $0[htmlfile]?[sym.range.start.line] }) != nil {</pre></td><tr><td><a href="Siteify.swift.html#496_56" onclick='return refClick(this,false,event)'>Siteify.swift:496</a></td><td><pre>                                self.referencesFallback.synchronized({ referencesFallback in</pre></td><tr><td><a href="Siteify.swift.html#531_72" onclick='return refClick(this,false,event)'>Siteify.swift:531</a></td><td><pre>                                                self.referencesFallback.synchronized {</pre></td><tr><td><a href="Siteify.swift.html#620_22" onclick='return refClick(this,false,event)'>Siteify.swift:620</a></td><td><pre>            symStarts.synchronized { symStarts in</pre></td><tr><td><a href="Siteify.swift.html#631_35" onclick='return refClick(this,false,event)'>Siteify.swift:631</a></td><td><pre>                    packageSymbols.synchronized { packageSymbols in</pre></td><tr><td><a href="Siteify.swift.html#738_17" onclick='return refClick(this,false,event)'>Siteify.swift:738</a></td><td><pre>                .synchronized({ $0[htmlfile]?[range.start.line] }) {</pre></td><tr><td><a href="Parallel.swift.html#94_15" onclick='return refClick(this,true,event)'>Parallel.swift:94</a></td><td><pre>        return synchronized { data in</pre></td></table></span></span></span>&lt;<span class=shade><span class='identifier' title='Parallel.swift'><a name='67_29'>T</a></span></span>>(<span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='usrString2'><span class=decl><a name='67_34' onclick='return expandDecl(this,event);'>body</a><span class='references'><table></table></span></span></span>: (<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>inout</span> <span class='typeidentifier' title='Parallel.swift'><a name='67_47' href='Parallel.swift.html#57_26'>Wrapped</a></span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>throws</span> -> <span class='typeidentifier' title='Parallel.swift'><a name='67_66' href='Parallel.swift.html#67_29'>T</a></span></span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>rethrows</span> -> <span class='typeidentifier' title='Parallel.swift'><a name='67_81' href='Parallel.swift.html#67_29'>T</a></span> {
        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span> <span class=shade><span class='identifier' title='Parallel.swift'><a name='68_19' href='Parallel.swift.html#41_22'>around</a></span> <span class=shade>{ <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span> <span class=shade><span class='identifier' title='Parallel.swift'><a name='68_32' href='Parallel.swift.html#67_34'>body</a></span>(&amp;<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Parallel.swift'><a name='68_43' href='Parallel.swift.html#58_16'>data</a></span>)</span> }</span></span>
    }</span>
}</span>

<span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// Simple synchronized cache
</span><span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@available</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>OSX</span> <span class='number' title='source.lang.swift.syntaxtype.number'>10.12</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>iOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>10.0</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>tvOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>10.0</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>watchOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>3.0</span>, *)
<span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>class</span> <span class='identifier' title='usrString2'><span class=decl><a name='74_13' href='#' onclick='return expandDecl(this,event);'>Cached</a><span class='references'><table><tr><td><a href="Siteify.swift.html#104_22" onclick='return refClick(this,false,event)'>Siteify.swift:104</a></td><td><pre>    var iconForType = Cached(getter: { (ext: String) -> String in</pre></td><tr><td><a href="Siteify.swift.html#118_24" onclick='return refClick(this,false,event)'>Siteify.swift:118</a></td><td><pre>    var fileLineCache = Cached(getter: { (file: FilePathString) -> [String]? in</pre></td><tr><td><a href="Siteify.swift.html#136_30" onclick='return refClick(this,false,event)'>Siteify.swift:136</a></td><td><pre>            filenameForFile = Cached(getter: {</pre></td><tr><td><a href="GitInfo.swift.html#28_33" onclick='return refClick(this,false,event)'>GitInfo.swift:28</a></td><td><pre>    public static var repoURLS = Cached(getter: { (sourceDir: String) -> String in</pre></td></table></span></span></span>&lt;<span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='74_20' href='#' onclick='return expandDecl(this,event);'>Key</a><span class='references'><table><tr><td><a href="Parallel.swift.html#75_22" onclick='return refClick(this,true,event)'>Parallel.swift:75</a></td><td><pre>        Synchronized&lt;[Key: (expires: TimeInterval, value: Value)]> {</pre></td><tr><td><a href="Parallel.swift.html#77_25" onclick='return refClick(this,true,event)'>Parallel.swift:77</a></td><td><pre>    private let getter: (Key) -> Value</pre></td><tr><td><a href="Parallel.swift.html#84_35" onclick='return refClick(this,true,event)'>Parallel.swift:84</a></td><td><pre>    public init(getter: @escaping (Key) -> Value, lifetime: TimeInterval? = nil) {</pre></td><tr><td><a href="Parallel.swift.html#87_20" onclick='return refClick(this,true,event)'>Parallel.swift:87</a></td><td><pre>        super.init([Key: (TimeInterval, Value)]())</pre></td><tr><td><a href="Parallel.swift.html#93_31" onclick='return refClick(this,true,event)'>Parallel.swift:93</a></td><td><pre>    public final func get(key: Key) -> Value {</pre></td></table></span></span></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'><a name='74_25'>Hashable</a></span></span>, <span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='74_35' href='#' onclick='return expandDecl(this,event);'>Value</a><span class='references'><table><tr><td><a href="Parallel.swift.html#75_58" onclick='return refClick(this,true,event)'>Parallel.swift:75</a></td><td><pre>        Synchronized&lt;[Key: (expires: TimeInterval, value: Value)]> {</pre></td><tr><td><a href="Parallel.swift.html#77_33" onclick='return refClick(this,true,event)'>Parallel.swift:77</a></td><td><pre>    private let getter: (Key) -> Value</pre></td><tr><td><a href="Parallel.swift.html#84_43" onclick='return refClick(this,true,event)'>Parallel.swift:84</a></td><td><pre>    public init(getter: @escaping (Key) -> Value, lifetime: TimeInterval? = nil) {</pre></td><tr><td><a href="Parallel.swift.html#87_40" onclick='return refClick(this,true,event)'>Parallel.swift:87</a></td><td><pre>        super.init([Key: (TimeInterval, Value)]())</pre></td><tr><td><a href="Parallel.swift.html#93_39" onclick='return refClick(this,true,event)'>Parallel.swift:93</a></td><td><pre>    public final func get(key: Key) -> Value {</pre></td></table></span></span></span></span>>:
        <span class='typeidentifier' title='Parallel.swift'><a name='75_8' href='Parallel.swift.html#57_13'>Synchronized</a></span>&lt;[<span class='typeidentifier' title='Parallel.swift'><a name='75_22' href='Parallel.swift.html#74_20'>Key</a></span>: (<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'><a name='75_28'>expires</a></span>: <span class='typeidentifier' title='NSDate.h'><a name='75_37'>TimeInterval</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'><a name='75_51'>value</a></span>: <span class='typeidentifier' title='Parallel.swift'><a name='75_58' href='Parallel.swift.html#74_35'>Value</a></span>)]> {

    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>private</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><span class=decl><a name='77_16' href='#' onclick='return expandDecl(this,event);'>getter</a><span class='references'><table><tr><td><a href="Parallel.swift.html#85_13" onclick='return refClick(this,true,event)'>Parallel.swift:85</a></td><td><pre>        self.getter = getter</pre></td><tr><td><a href="Parallel.swift.html#100_24" onclick='return refClick(this,true,event)'>Parallel.swift:100</a></td><td><pre>            let value = getter(key)</pre></td></table></span></span></span>: (<span class='typeidentifier' title='Parallel.swift'><a name='77_25' href='Parallel.swift.html#74_20'>Key</a></span>) -> <span class='typeidentifier' title='Parallel.swift'><a name='77_33' href='Parallel.swift.html#74_35'>Value</a></span></span>
    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>private</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><span class=decl><a name='78_16' href='#' onclick='return expandDecl(this,event);'>lifetime</a><span class='references'><table><tr><td><a href="Parallel.swift.html#86_13" onclick='return refClick(this,true,event)'>Parallel.swift:86</a></td><td><pre>        self.lifetime = lifetime</pre></td><tr><td><a href="Parallel.swift.html#101_26" onclick='return refClick(this,true,event)'>Parallel.swift:101</a></td><td><pre>            let expires = lifetime != nil ? now + lifetime! :</pre></td><tr><td><a href="Parallel.swift.html#101_50" onclick='return refClick(this,true,event)'>Parallel.swift:101</a></td><td><pre>            let expires = lifetime != nil ? now + lifetime! :</pre></td></table></span></span></span>: <span class='typeidentifier' title='NSDate.h'><a name='78_26'>TimeInterval</a></span>?</span>

    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// Initializer
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>///
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> getter: a closure used when key is not already cached.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> lifetime: Number of seconds value will be cached.
</span>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>init</span>(<span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='84_16' href='#' onclick='return expandDecl(this,event);'>getter</a><span class='references'><table><tr><td><a href="Parallel.swift.html#85_22" onclick='return refClick(this,true,event)'>Parallel.swift:85</a></td><td><pre>        self.getter = getter</pre></td></table></span></span></span>: <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@escaping</span> (<span class='typeidentifier' title='Parallel.swift'><a name='84_35' href='Parallel.swift.html#74_20'>Key</a></span>) -> <span class='typeidentifier' title='Parallel.swift'><a name='84_43' href='Parallel.swift.html#74_35'>Value</a></span></span>, <span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='84_50' href='#' onclick='return expandDecl(this,event);'>lifetime</a><span class='references'><table><tr><td><a href="Parallel.swift.html#86_24" onclick='return refClick(this,true,event)'>Parallel.swift:86</a></td><td><pre>        self.lifetime = lifetime</pre></td></table></span></span></span>: <span class='typeidentifier' title='NSDate.h'><a name='84_60'>TimeInterval</a></span>? = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span></span>) {
        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Parallel.swift'><a name='85_13' href='Parallel.swift.html#77_16'>getter</a></span> = <span class='identifier' title='Parallel.swift'><a name='85_22' href='Parallel.swift.html#84_16'>getter</a></span>
        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Parallel.swift'><a name='86_13' href='Parallel.swift.html#78_16'>lifetime</a></span> = <span class='identifier' title='Parallel.swift'><a name='86_24' href='Parallel.swift.html#84_50'>lifetime</a></span>
        <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>super</span>.<span class='identifier' title='Parallel.swift'><a name='87_14' href='Parallel.swift.html#60_11'>init</a></span>(<span class=shade><span class=shade>[<span class='identifier' title='Parallel.swift'><a name='87_20' href='Parallel.swift.html#74_20'>Key</a></span>: <span class=shade>(<span class='identifier' title='NSDate.h'><a name='87_26'>TimeInterval</a></span>, <span class='identifier' title='Parallel.swift'><a name='87_40' href='Parallel.swift.html#74_35'>Value</a></span>)</span>]</span>()</span>)</span>
    }</span>

    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// Get value for key, opulating if necessary
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>///
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> key: key of cache to fetch/generate value
</span>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>final</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><span class=decl><a name='93_22' href='#' onclick='return expandDecl(this,event);'>get</a><span class='references'><table><tr><td><a href="Siteify.swift.html#115_20" onclick='return refClick(this,false,event)'>Siteify.swift:115</a></td><td><pre>        iconForType.get(key: URL(fileURLWithPath: fullpath).pathExtension)</pre></td><tr><td><a href="Siteify.swift.html#123_37" onclick='return refClick(this,false,event)'>Siteify.swift:123</a></td><td><pre>        if let lines = fileLineCache.get(key: file), line &lt; lines.count {</pre></td><tr><td><a href="Siteify.swift.html#148_31" onclick='return refClick(this,false,event)'>Siteify.swift:148</a></td><td><pre>        return filenameForFile.get(key: file)</pre></td><tr><td><a href="Siteify.swift.html#167_39" onclick='return refClick(this,false,event)'>Siteify.swift:167</a></td><td><pre>        let repoURL = GitInfo.repoURLS.get(key: projectRoot.path)</pre></td><tr><td><a href="GitInfo.swift.html#55_29" onclick='return refClick(this,false,event)'>GitInfo.swift:55</a></td><td><pre>        return Self.repoURLS.get(key: sourceDir)</pre></td></table></span></span></span>(<span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='93_26' href='#' onclick='return expandDecl(this,event);'>key</a><span class='references'><table><tr><td><a href="Parallel.swift.html#96_33" onclick='return refClick(this,true,event)'>Parallel.swift:96</a></td><td><pre>            if let cached = data[key], now &lt; cached.expires {</pre></td><tr><td><a href="Parallel.swift.html#100_31" onclick='return refClick(this,true,event)'>Parallel.swift:100</a></td><td><pre>            let value = getter(key)</pre></td><tr><td><a href="Parallel.swift.html#103_17" onclick='return refClick(this,true,event)'>Parallel.swift:103</a></td><td><pre>            data[key] = (expires, value)</pre></td></table></span></span></span>: <span class='typeidentifier' title='Parallel.swift'><a name='93_31' href='Parallel.swift.html#74_20'>Key</a></span></span>) -> <span class='typeidentifier' title='Parallel.swift'><a name='93_39' href='Parallel.swift.html#74_35'>Value</a></span> {
        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class=shade><span class='identifier' title='Parallel.swift'><a name='94_15' href='Parallel.swift.html#67_16'>synchronized</a></span> <span class=shade><span class=shade>{ <span class=shade><span class='identifier' title='Parallel.swift'><a name='94_30'>data</a></span></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
            <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Parallel.swift'><a name='95_16'>now</a></span> = <span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='95_22'>Date</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='95_27'>timeIntervalSinceReferenceDate</a></span></span>
            <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class=shade><span class='identifier' title='Parallel.swift'><a name='96_19'>cached</a></span></span> = <span class='identifier' title='Parallel.swift'><a name='96_28' href='Parallel.swift.html#94_30'>data</a></span>[<span class='identifier' title='Parallel.swift'><a name='96_33' href='Parallel.swift.html#93_26'>key</a></span>], <span class='identifier' title='Parallel.swift'><a name='96_39' href='Parallel.swift.html#95_16'>now</a></span> &lt; <span class='identifier' title='Parallel.swift'><a name='96_45' href='Parallel.swift.html#96_19'>cached</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'><a name='96_52'>expires</a></span> <span class=shade>{
                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Parallel.swift'><a name='97_23' href='Parallel.swift.html#96_19'>cached</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'><a name='97_30'>value</a></span>
            }</span></span>

            <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Parallel.swift'><a name='100_16'>value</a></span> = <span class=shade><span class='identifier' title='Parallel.swift'><a name='100_24' href='Parallel.swift.html#77_16'>getter</a></span>(<span class='identifier' title='Parallel.swift'><a name='100_31' href='Parallel.swift.html#93_26'>key</a></span>)</span></span>
            <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Parallel.swift'><a name='101_16'>expires</a></span> = <span class='identifier' title='Parallel.swift'><a name='101_26' href='Parallel.swift.html#78_16'>lifetime</a></span> != <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span> ? <span class='identifier' title='Parallel.swift'><a name='101_44' href='Parallel.swift.html#95_16'>now</a></span> + <span class='identifier' title='Parallel.swift'><a name='101_50' href='Parallel.swift.html#78_16'>lifetime</a></span>! :
                <span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='102_16'>Date</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='102_21'>distantFuture</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='102_35'>timeIntervalSinceReferenceDate</a></span></span>
            <span class='identifier' title='Parallel.swift'><a name='103_12' href='Parallel.swift.html#94_30'>data</a></span>[<span class='identifier' title='Parallel.swift'><a name='103_17' href='Parallel.swift.html#93_26'>key</a></span>] = <span class=shade>(<span class='identifier' title='Parallel.swift'><a name='103_25' href='Parallel.swift.html#101_16'>expires</a></span>, <span class='identifier' title='Parallel.swift'><a name='103_34' href='Parallel.swift.html#100_16'>value</a></span>)</span>
            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Parallel.swift'><a name='104_19' href='Parallel.swift.html#100_16'>value</a></span>
        }</span></span></span>
    }</span>
}</span>

<span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>extension</span> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'><a name='109_10'>Sequence</a></span> {

    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// A form of map that reads the Elements of the Sequence
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// and processes them on the number of threads specified.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>///
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> maxConcurrency: Maximum number of threads to start.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> initializer: a prototype to initialize output array.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> queueName: Name used for the concurrent queue.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> priority: Quality of service of threads created.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// - </span><span class='field' title='source.lang.swift.syntaxtype.doccomment.field'>Parameter</span><span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'> worker: Closure to call to perform work.
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>///
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// Up to maxConcurrency threads used to execute the `worker` closure
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// passing in each value in the sequence and a closure to call when
</span>    <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>/// the work is complete and an output value is available.
</span>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@available</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>OSX</span> <span class='number' title='source.lang.swift.syntaxtype.number'>10.12</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>iOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>13</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>tvOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>13</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>watchOS</span> <span class='number' title='source.lang.swift.syntaxtype.number'>6</span>, *)
    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@discardableResult</span>
    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><span class=decl><a name='125_16' href='#' onclick='return expandDecl(this,event);'>concurrentMap</a><span class='references'><table><tr><td><a href="Siteify.swift.html#185_13" onclick='return refClick(this,false,event)'>Siteify.swift:185</a></td><td><pre>            .concurrentMap(maxConcurrency: Self.fileThreads) {</pre></td><tr><td><a href="Siteify.swift.html#462_14" onclick='return refClick(this,false,event)'>Siteify.swift:462</a></td><td><pre>            }.concurrentMap(maxConcurrency: 1</pre></td></table></span></span></span>&lt;<span class=shade><span class='identifier' title='Parallel.swift'><a name='125_30'>Output</a></span></span>>(<span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='125_38' href='#' onclick='return expandDecl(this,event);'>maxConcurrency</a><span class='references'><table><tr><td><a href="Parallel.swift.html#151_53" onclick='return refClick(this,true,event)'>Parallel.swift:151</a></td><td><pre>            let semaphore = DispatchSemaphore(value: maxConcurrency)</pre></td></table></span></span></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'><a name='125_54'>Int</a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>4</span></span>,
                                      <span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='126_38' href='#' onclick='return expandDecl(this,event);'>initializer</a><span class='references'><table><tr><td><a href="Parallel.swift.html#133_11" onclick='return refClick(this,true,event)'>Parallel.swift:133</a></td><td><pre>        if initializer != nil {</pre></td><tr><td><a href="Parallel.swift.html#134_38" onclick='return refClick(this,true,event)'>Parallel.swift:134</a></td><td><pre>            output = Array(repeating: initializer!, count: input.count)</pre></td></table></span></span></span>: <span class='typeidentifier' title='Parallel.swift'><a name='126_51' href='Parallel.swift.html#125_30'>Output</a></span>? = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span></span>,
                                      <span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='127_38' href='#' onclick='return expandDecl(this,event);'>queueName</a><span class='references'><table><tr><td><a href="Parallel.swift.html#148_55" onclick='return refClick(this,true,event)'>Parallel.swift:148</a></td><td><pre>            let concurrentQueue = DispatchQueue(label: queueName, qos: priority,</pre></td></table></span></span></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'><a name='127_49'>String</a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"concurrentMap"</span></span>,
                                      <span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='128_38' href='#' onclick='return expandDecl(this,event);'>priority</a><span class='references'><table><tr><td><a href="Parallel.swift.html#148_71" onclick='return refClick(this,true,event)'>Parallel.swift:148</a></td><td><pre>            let concurrentQueue = DispatchQueue(label: queueName, qos: priority,</pre></td></table></span></span></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'><a name='128_48'>DispatchQoS</a></span> = .<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='128_63'>default</a></span></span>,
                                      <span class=shade><span class='identifier' title='usrString2'><span class=decl><a name='129_38' href='#' onclick='return expandDecl(this,event);'>worker</a><span class='references'><table><tr><td><a href="Parallel.swift.html#160_20" onclick='return refClick(this,true,event)'>Parallel.swift:160</a></td><td><pre>                    worker(input[index], { result in</pre></td></table></span></span></span>: <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@escaping</span> (<span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'><a name='129_57'>Element</a></span>,
                            <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@escaping</span> (<span class='typeidentifier' title='Parallel.swift'><a name='130_39' href='Parallel.swift.html#125_30'>Output</a></span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'><a name='130_50'>Void</a></span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'><a name='130_59'>Void</a></span></span>) -> [<span class='typeidentifier' title='Parallel.swift'><a name='130_69' href='Parallel.swift.html#125_30'>Output</a></span>] {
        <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Parallel.swift'><a name='131_12'>input</a></span> = <span class=shade><span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='131_20'>Array</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>)</span></span>
        <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Parallel.swift'><a name='132_12'>output</a></span>: [<span class='typeidentifier' title='Parallel.swift'><a name='132_21' href='Parallel.swift.html#125_30'>Output</a></span>]</span>
        <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Parallel.swift'><a name='133_11' href='Parallel.swift.html#126_38'>initializer</a></span> != <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span> <span class=shade>{
            <span class='identifier' title='Parallel.swift'><a name='134_12' href='Parallel.swift.html#132_12'>output</a></span> = <span class=shade><span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='134_21'>Array</a></span>(<span class=shade><span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='134_27'>repeating</a></span>: <span class='identifier' title='Parallel.swift'><a name='134_38' href='Parallel.swift.html#126_38'>initializer</a></span>!</span>, <span class=shade><span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='134_52'>count</a></span>: <span class='identifier' title='Parallel.swift'><a name='134_59' href='Parallel.swift.html#131_12'>input</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='134_65'>count</a></span></span>)</span>
        }</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> <span class=shade>{
            <span class='identifier' title='Parallel.swift'><a name='136_12' href='Parallel.swift.html#132_12'>output</a></span> = <span class=shade><span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='136_21'>Array</a></span>(<span class=shade><span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='136_27'>unsafeUninitializedCapacity</a></span>: <span class='identifier' title='Parallel.swift'><a name='136_56' href='Parallel.swift.html#131_12'>input</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='136_62'>count</a></span></span>,
                          <span class=shade><span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='137_26'>initializingWith</a></span>: <span class=shade><span class=shade>{
                            (<span class=shade><span class='identifier' title='Parallel.swift'><a name='138_29'>buffer</a></span></span>, <span class=shade><span class='identifier' title='Parallel.swift'><a name='138_37'>initializedCount</a></span></span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
                            <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Parallel.swift'><a name='139_32'>stride</a></span> = <span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='139_41'>MemoryLayout</a></span>&lt;<span class='typeidentifier' title='Parallel.swift'><a name='139_54' href='Parallel.swift.html#125_30'>Output</a></span>>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='139_62'>stride</a></span></span>
                            <span class=shade><span class='identifier' title='string.h'><a name='140_28'>memset</a></span>(<span class=shade><span class='identifier' title='Parallel.swift'><a name='140_35' href='Parallel.swift.html#138_29'>buffer</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='140_42'>baseAddress</a></span></span>, <span class=shade><span class='number' title='source.lang.swift.syntaxtype.number'>0</span></span>,
                                   <span class=shade><span class='identifier' title='Parallel.swift'><a name='141_35' href='Parallel.swift.html#139_32'>stride</a></span> * <span class='identifier' title='Parallel.swift'><a name='141_44' href='Parallel.swift.html#131_12'>input</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='141_50'>count</a></span></span>)</span>
                            <span class='identifier' title='Parallel.swift'><a name='142_28' href='Parallel.swift.html#138_37'>initializedCount</a></span> = <span class='identifier' title='Parallel.swift'><a name='142_47' href='Parallel.swift.html#131_12'>input</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='142_53'>count</a></span>}</span></span></span>)</span>
        }</span></span>

        <span class=shade><span class='identifier' title='Parallel.swift'><a name='145_8' href='Parallel.swift.html#132_12'>output</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='145_15'>withUnsafeMutableBufferPointer</a></span> <span class=shade><span class=shade>{
            <span class=shade><span class='identifier' title='Parallel.swift'><a name='146_12'>buffer</a></span></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
            <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Parallel.swift'><a name='147_16'>buffro</a></span> = <span class='identifier' title='Parallel.swift'><a name='147_25' href='Parallel.swift.html#146_12'>buffer</a></span></span>
            <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Parallel.swift'><a name='148_16'>concurrentQueue</a></span> = <span class=shade><span class='identifier' title='queue.h'><a name='148_34'>DispatchQueue</a></span>(<span class=shade><span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'><a name='148_48'>label</a></span>: <span class='identifier' title='Parallel.swift'><a name='148_55' href='Parallel.swift.html#127_38'>queueName</a></span></span>, <span class=shade><span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'><a name='148_66'>qos</a></span>: <span class='identifier' title='Parallel.swift'><a name='148_71' href='Parallel.swift.html#128_38'>priority</a></span></span>,
                                                <span class=shade><span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'><a name='149_48'>attributes</a></span>: .<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='149_61'>concurrent</a></span></span>)</span></span>
            <span class='comment' title='source.lang.swift.syntaxtype.comment'>// Semaphore regulates the maximum number of active threads
</span>            <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Parallel.swift'><a name='151_16'>semaphore</a></span> = <span class=shade><span class='identifier' title='semaphore.h'><a name='151_28'>DispatchSemaphore</a></span>(<span class=shade><span class='identifier' title='semaphore.h'><a name='151_46'>value</a></span>: <span class='identifier' title='Parallel.swift'><a name='151_53' href='Parallel.swift.html#125_38'>maxConcurrency</a></span></span>)</span></span>
            <span class='comment' title='source.lang.swift.syntaxtype.comment'>// ThreadGroup waits for running threads to complete
</span>            <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Parallel.swift'><a name='153_16'>threadGroup</a></span> = <span class=shade><span class='identifier' title='group.h'><a name='153_30'>DispatchGroup</a></span>()</span></span>

            <span class=shade><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>for</span> <span class=shade><span class='identifier' title='Parallel.swift'><a name='155_16'>index</a></span></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span> <span class='number' title='source.lang.swift.syntaxtype.number'>0</span>..&lt;<span class='identifier' title='Parallel.swift'><a name='155_29' href='Parallel.swift.html#131_12'>input</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='155_35'>count</a></span> <span class=shade>{
                <span class=shade><span class='identifier' title='Parallel.swift'><a name='156_16' href='Parallel.swift.html#153_16'>threadGroup</a></span>.<span class='identifier' title='group.h'><a name='156_28'>enter</a></span>()</span>
                <span class=shade><span class='identifier' title='Parallel.swift'><a name='157_16' href='Parallel.swift.html#151_16'>semaphore</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='157_26'>wait</a></span>()</span>

                <span class=shade><span class='identifier' title='Parallel.swift'><a name='159_16' href='Parallel.swift.html#148_16'>concurrentQueue</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='159_32'>async</a></span> <span class=shade>{
                    <span class=shade><span class='identifier' title='Parallel.swift'><a name='160_20' href='Parallel.swift.html#129_38'>worker</a></span>(<span class=shade><span class='identifier' title='Parallel.swift'><a name='160_27' href='Parallel.swift.html#131_12'>input</a></span>[<span class='identifier' title='Parallel.swift'><a name='160_33' href='Parallel.swift.html#155_16'>index</a></span>]</span>, <span class=shade><span class=shade><span class=shade>{ <span class=shade><span class='identifier' title='Parallel.swift'><a name='160_43'>result</a></span></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
                        <span class='identifier' title='Parallel.swift'><a name='161_24' href='Parallel.swift.html#147_16'>buffro</a></span>[<span class='identifier' title='Parallel.swift'><a name='161_31' href='Parallel.swift.html#155_16'>index</a></span>] = <span class='identifier' title='Parallel.swift'><a name='161_40' href='Parallel.swift.html#160_43'>result</a></span>
                        <span class=shade><span class='identifier' title='Parallel.swift'><a name='162_24' href='Parallel.swift.html#153_16'>threadGroup</a></span>.<span class='identifier' title='group.h'><a name='162_36'>leave</a></span>()</span>
                        <span class=shade><span class='identifier' title='Parallel.swift'><a name='163_24' href='Parallel.swift.html#151_16'>semaphore</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='163_34'>signal</a></span>()</span>
                    }</span></span></span>)</span>
                }</span></span>
            }</span></span>

            <span class=shade><span class='identifier' title='Parallel.swift'><a name='168_12' href='Parallel.swift.html#153_16'>threadGroup</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'><a name='168_24'>wait</a></span>()</span>
        }</span></span></span>

        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Parallel.swift'><a name='171_15' href='Parallel.swift.html#132_12'>output</a></span>
    }</span>
}</span>
