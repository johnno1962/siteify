<html><head>
    <meta charset="UTF-8">
    <title>siteify/Siteify.swift</title>
    <link rel="stylesheet" type="text/css" href="siteify.css">
<script>

var lastlink;

function expand(a) {
    if ( a.children[0].style.display != "block" ) {
        if ( lastlink )
            lastlink.style.display = "none";
        a.children[0].style.display = "block";
        lastlink = a.children[0];
    }
    else {
        a.children[0].style.display = "none";
        lastlink = null;
    }
    return false;
}

</script></head><body><h3>siteify/Siteify.swift</h3><pre><a class=linenum name='L1'>0001</a>    <span class='comment' title='source.lang.swift.syntaxtype.comment'>//
<a class=linenum name='L2'>0002</a>    </span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  Siteify.swift
<a class=linenum name='L3'>0003</a>    </span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  siteify
<a class=linenum name='L4'>0004</a>    </span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//
<a class=linenum name='L5'>0005</a>    </span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  Created by John Holdsworth on 28/10/2019.
<a class=linenum name='L6'>0006</a>    </span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  Copyright Â© 2019 John Holdsworth. All rights reserved.
<a class=linenum name='L7'>0007</a>    </span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//
<a class=linenum name='L8'>0008</a>    </span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  $Id: //depot/siteify/siteify/Siteify.swift#52 $
<a class=linenum name='L9'>0009</a>    </span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//
<a class=linenum name='L10'>0010</a>    </span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//  Repo: </span><span class='url'><a href='https://github.com/johnno1962/siteify'>https://github.com/johnno1962/siteify</a></span><span class='comment' title='source.lang.swift.syntaxtype.comment'>
<a class=linenum name='L11'>0011</a>    </span><span class='comment' title='source.lang.swift.syntaxtype.comment'>//
<a class=linenum name='L12'>0012</a>    </span>
<a class=linenum name='L13'>0013</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>import</span> <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>Foundation</span>
<a class=linenum name='L14'>0014</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>import</span> <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>SwiftLSPClient</span>
<a class=linenum name='L15'>0015</a>    <span class='keyword' title='source.lang.swift.syntaxtype.buildconfig.keyword'>#if</span> <span class='id' title='source.lang.swift.syntaxtype.buildconfig.id'>SWIFT_PACKAGE</span>
<a class=linenum name='L16'>0016</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>import</span> <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>SourceKit</span>
<a class=linenum name='L17'>0017</a>    <span class='keyword' title='source.lang.swift.syntaxtype.buildconfig.keyword'>#endif</span>
<a class=linenum name='L18'>0018</a>    
<a class=linenum name='L19'>0019</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='usrString2'><a name='19_4' href='#' onclick='return expand(this);'>filenameForFile<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#26_22"; return false;'>Siteify.swift:26</td><td><pre>    if let filename = filenameForFile[file] {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#35_4"; return false;'>Siteify.swift:35</td><td><pre>    filenameForFile[file] = filename</pre></td></table></span></a></span> = [<span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>: <span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>](), <span class='identifier' title='usrString2'><a name='19_42' href='#' onclick='return expand(this);'>filesForFileName<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#30_10"; return false;'>Siteify.swift:30</td><td><pre>    while filesForFileName[filename] != nil {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#34_4"; return false;'>Siteify.swift:34</td><td><pre>    filesForFileName[filename] = file</pre></td></table></span></a></span> = [<span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>: <span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>]()
<a class=linenum name='L20'>0020</a>    
<a class=linenum name='L21'>0021</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='21_4' href='#' onclick='return expand(this);'>filenameLock<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#24_4"; return false;'>Siteify.swift:24</td><td><pre>    filenameLock.lock()</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#25_12"; return false;'>Siteify.swift:25</td><td><pre>    defer { filenameLock.unlock() }</pre></td></table></span></a></span> = <span class='identifier' title='NSLock.h'>NSLock</span>()
<a class=linenum name='L22'>0022</a>    
<a class=linenum name='L23'>0023</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><a name='23_5' href='#' onclick='return expand(this);'>htmlFile<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#179_23"; return false;'>Siteify.swift:179</td><td><pre>        let htmlfile = htmlFile(fullpath)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#373_35"; return false;'>Siteify.swift:373</td><td><pre>                    let htmlfile = htmlFile(fullpath)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#448_27"; return false;'>Siteify.swift:448</td><td><pre>    var htmlname: String { htmlFile(URL(string: uri)!.path) }</pre></td></table></span></a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='usrString2'><a name='23_16' onclick='return expand(this);'>file<span class='references'><table></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> {
<a class=linenum name='L24'>0024</a>        <span class='identifier' title='Siteify.swift'><a name='24_4' href='Siteify.swift.html#21_4'>filenameLock</a></span>.<span class='identifier' title='NSLock.h'>lock</span>()
<a class=linenum name='L25'>0025</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>defer</span> { <span class='identifier' title='Siteify.swift'><a name='25_12' href='Siteify.swift.html#21_4'>filenameLock</a></span>.<span class='identifier' title='NSLock.h'>unlock</span>() }
<a class=linenum name='L26'>0026</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='26_11'>filename</a></span> = <span class='identifier' title='Siteify.swift'><a name='26_22' href='Siteify.swift.html#19_4'>filenameForFile</a></span>[<span class='identifier' title='Siteify.swift'><a name='26_38' href='Siteify.swift.html#23_16'>file</a></span>] {
<a class=linenum name='L27'>0027</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='27_15' href='Siteify.swift.html#26_11'>filename</a></span>
<a class=linenum name='L28'>0028</a>        }
<a class=linenum name='L29'>0029</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='29_8'>filename</a></span> = <span class='identifier' title='NSURL.h'>NSURL</span>(<span class='identifier' title='NSURL.h'>fileURLWithPath</span>: <span class='identifier' title='Siteify.swift'><a name='29_42' href='Siteify.swift.html#23_16'>file</a></span>).<span class='identifier' title='NSURL.h'>lastPathComponent</span>!
<a class=linenum name='L30'>0030</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>while</span> <span class='identifier' title='Siteify.swift'><a name='30_10' href='Siteify.swift.html#19_42'>filesForFileName</a></span>[<span class='identifier' title='Siteify.swift'><a name='30_27' href='Siteify.swift.html#29_8'>filename</a></span>] != <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span> {
<a class=linenum name='L31'>0031</a>            <span class='identifier' title='Siteify.swift'><a name='31_8' href='Siteify.swift.html#29_8'>filename</a></span> += <span class='string' title='source.lang.swift.syntaxtype.string'>"_"</span>
<a class=linenum name='L32'>0032</a>        }
<a class=linenum name='L33'>0033</a>        <span class='identifier' title='Siteify.swift'><a name='33_4' href='Siteify.swift.html#29_8'>filename</a></span> += <span class='string' title='source.lang.swift.syntaxtype.string'>".html"</span>
<a class=linenum name='L34'>0034</a>        <span class='identifier' title='Siteify.swift'><a name='34_4' href='Siteify.swift.html#19_42'>filesForFileName</a></span>[<span class='identifier' title='Siteify.swift'><a name='34_21' href='Siteify.swift.html#29_8'>filename</a></span>] = <span class='identifier' title='Siteify.swift'><a name='34_33' href='Siteify.swift.html#23_16'>file</a></span>
<a class=linenum name='L35'>0035</a>        <span class='identifier' title='Siteify.swift'><a name='35_4' href='Siteify.swift.html#19_4'>filenameForFile</a></span>[<span class='identifier' title='Siteify.swift'><a name='35_20' href='Siteify.swift.html#23_16'>file</a></span>] = <span class='identifier' title='Siteify.swift'><a name='35_28' href='Siteify.swift.html#29_8'>filename</a></span>
<a class=linenum name='L36'>0036</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='36_11' href='Siteify.swift.html#29_8'>filename</a></span>
<a class=linenum name='L37'>0037</a>    }
<a class=linenum name='L38'>0038</a>    
<a class=linenum name='L39'>0039</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>struct</span> <span class='identifier' title='usrString2'><a name='39_7' href='#' onclick='return expand(this);'>LanguageServerSynchronizer<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#87_27"; return false;'>Siteify.swift:87</td><td><pre>        let synchronizer = LanguageServerSynchronizer()</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#180_27"; return false;'>Siteify.swift:180</td><td><pre>        let synchronizer = LanguageServerSynchronizer()</pre></td></table></span></a></span> {
<a class=linenum name='L40'>0040</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='40_8' href='#' onclick='return expand(this);'>semaphore<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#51_17"; return false;'>Siteify.swift:51</td><td><pre>            self.semaphore.signal()</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#53_8"; return false;'>Siteify.swift:53</td><td><pre>        semaphore.wait()</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#65_17"; return false;'>Siteify.swift:65</td><td><pre>            self.semaphore.signal()</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#67_8"; return false;'>Siteify.swift:67</td><td><pre>        semaphore.wait()</pre></td></table></span></a></span> = <span class='identifier' title='semaphore.h'>DispatchSemaphore</span>(<span class='identifier' title='semaphore.h'>value</span>: <span class='number' title='source.lang.swift.syntaxtype.number'>0</span>)
<a class=linenum name='L41'>0041</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='usrString2'><a name='41_8' href='#' onclick='return expand(this);'>errorHandler<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#49_21"; return false;'>Siteify.swift:49</td><td><pre>                self.errorHandler("LanguageServerError: \(error!)")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#63_21"; return false;'>Siteify.swift:63</td><td><pre>                self.errorHandler("Error response \(error)")</pre></td></table></span></a></span> = {
<a class=linenum name='L42'>0042</a>            (<span class='identifier' title='Siteify.swift'><a name='42_9'>message</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L43'>0043</a>            <span class='identifier' title='x86_64.swiftmodule'>fatalError</span>(<span class='identifier' title='Siteify.swift'><a name='43_19' href='Siteify.swift.html#42_9'>message</a></span>)
<a class=linenum name='L44'>0044</a>        }
<a class=linenum name='L45'>0045</a>    
<a class=linenum name='L46'>0046</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='46_9'>sync</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='Siteify.swift'><a name='46_16'>block</a></span>: <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@escaping</span> (<span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@escaping</span> (<span class='typeidentifier' title='LanguageServer.swift'><a name='46_45' href='LanguageServer.swift.html#11_12'>LanguageServerError</a></span>?) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Void</span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Void</span>) {
<a class=linenum name='L47'>0047</a>            <span class='identifier' title='Siteify.swift'><a name='47_8' href='Siteify.swift.html#46_16'>block</a></span>({ (<span class='identifier' title='Siteify.swift'><a name='47_17'>error</a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='47_24' href='LanguageServer.swift.html#11_12'>LanguageServerError</a></span>?) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L48'>0048</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='48_15' href='Siteify.swift.html#47_17'>error</a></span> != <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span> {
<a class=linenum name='L49'>0049</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='49_21' href='Siteify.swift.html#41_8'>errorHandler</a></span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"LanguageServerError: </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='49_58' href='Siteify.swift.html#47_17'>error</a></span>!<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L50'>0050</a>                }
<a class=linenum name='L51'>0051</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='51_17' href='Siteify.swift.html#40_8'>semaphore</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>signal</span>()
<a class=linenum name='L52'>0052</a>            })
<a class=linenum name='L53'>0053</a>            <span class='identifier' title='Siteify.swift'><a name='53_8' href='Siteify.swift.html#40_8'>semaphore</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>wait</span>()
<a class=linenum name='L54'>0054</a>        }
<a class=linenum name='L55'>0055</a>    
<a class=linenum name='L56'>0056</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='56_9'>sync</a></span>&lt;<span class='identifier' title='Siteify.swift'><a name='56_14'>RESP</a></span>>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='Siteify.swift'><a name='56_22'>block</a></span>: <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@escaping</span> (<span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@escaping</span> (<span class='typeidentifier' title='LanguageServer.swift'><a name='56_51' href='LanguageServer.swift.html#47_17'>LanguageServerResult</a></span>&lt;<span class='typeidentifier' title='Siteify.swift'><a name='56_72' href='Siteify.swift.html#56_14'>RESP</a></span>>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Void</span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Void</span>) -> <span class='typeidentifier' title='Siteify.swift'><a name='56_100' href='Siteify.swift.html#56_14'>RESP</a></span> {
<a class=linenum name='L57'>0057</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='57_12'>theResponse</a></span>: <span class='typeidentifier' title='Siteify.swift'><a name='57_25' href='Siteify.swift.html#56_14'>RESP</a></span>?
<a class=linenum name='L58'>0058</a>            <span class='identifier' title='Siteify.swift'><a name='58_8' href='Siteify.swift.html#56_22'>block</a></span>({ (<span class='identifier' title='Siteify.swift'><a name='58_17'>response</a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='58_27' href='LanguageServer.swift.html#47_17'>LanguageServerResult</a></span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L59'>0059</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>switch</span> <span class='identifier' title='Siteify.swift'><a name='59_19' href='Siteify.swift.html#58_17'>response</a></span> {
<a class=linenum name='L60'>0060</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>success</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='60_30'>value</a></span>):
<a class=linenum name='L61'>0061</a>                    <span class='identifier' title='Siteify.swift'><a name='61_16' href='Siteify.swift.html#57_12'>theResponse</a></span> = <span class='identifier' title='Siteify.swift'><a name='61_30' href='Siteify.swift.html#60_30'>value</a></span>
<a class=linenum name='L62'>0062</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>failure</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='62_30'>error</a></span>):
<a class=linenum name='L63'>0063</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='63_21' href='Siteify.swift.html#41_8'>errorHandler</a></span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"Error response </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='63_52' href='Siteify.swift.html#62_30'>error</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L64'>0064</a>                }
<a class=linenum name='L65'>0065</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='65_17' href='Siteify.swift.html#40_8'>semaphore</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>signal</span>()
<a class=linenum name='L66'>0066</a>            })
<a class=linenum name='L67'>0067</a>            <span class='identifier' title='Siteify.swift'><a name='67_8' href='Siteify.swift.html#40_8'>semaphore</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>wait</span>()
<a class=linenum name='L68'>0068</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='68_15' href='Siteify.swift.html#57_12'>theResponse</a></span>!
<a class=linenum name='L69'>0069</a>        }
<a class=linenum name='L70'>0070</a>    }
<a class=linenum name='L71'>0071</a>    
<a class=linenum name='L72'>0072</a>    <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>class</span> <span class='identifier' title='usrString2'><a name='72_13' href='#' onclick='return expand(this);'>Siteify<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.swift.html#19_0"; event.stopPropagation(); return false;'>main.swift:19</td><td><pre>Siteify(projectRoot: projectRoot ?? ".").generateSite(into: "html")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Resources.swift.html#9_10"; event.stopPropagation(); return false;'>Resources.swift:9</td><td><pre>extension Siteify {</pre></td></table></span></a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='72_22' href='LanguageServer.swift.html#76_16'>NotificationResponder</a></span> {
<a class=linenum name='L73'>0073</a>    
<a class=linenum name='L74'>0074</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='74_8' href='#' onclick='return expand(this);'>sourceKit<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#245_28"; return false;'>Siteify.swift:245</td><td><pre>            let resp = self.sourceKit.syntaxMap(filePath: fullpath)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#247_74"; return false;'>Siteify.swift:247</td><td><pre>            let syntaxMap = SKApi.variant_dictionary_get_value(dict, self.sourceKit.syntaxID)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#252_55"; return false;'>Siteify.swift:252</td><td><pre>                    let offset = dict.getInt(key: self.sourceKit.offsetID)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#253_55"; return false;'>Siteify.swift:253</td><td><pre>                    let length = dict.getInt(key: self.sourceKit.lengthID)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#262_56"; return false;'>Siteify.swift:262</td><td><pre>                let kind = dict.getUUIDString(key: self.sourceKit.kindID)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#263_73"; return false;'>Siteify.swift:263</td><td><pre>                let kindID = SKApi.variant_dictionary_get_uid(dict, self.sourceKit.kindID)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#272_37"; return false;'>Siteify.swift:272</td><td><pre>                guard kindID == self.sourceKit.identifierID ||</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#273_35"; return false;'>Siteify.swift:273</td><td><pre>                    kindID == self.sourceKit.typeID else {</pre></td></table></span></a></span> = <span class='identifier' title='SourceKit.swift'><a name='74_20' href='SourceKit.swift.html#169_13'>SourceKit</a></span>(<span class='identifier' title='SourceKit.swift'><a name='74_30' href='SourceKit.swift.html#225_4'>logRequests</a></span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>false</span>)
<a class=linenum name='L75'>0075</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='75_8' href='#' onclick='return expand(this);'>executablePath<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#96_51"; return false;'>Siteify.swift:96</td><td><pre>        let host = LanguageServerProcessHost(path: executablePath, arguments: [],</pre></td></table></span></a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"/Library/Developer/Toolchains/swift-latest.xctoolchain/usr/bin/sourcekit-lsp"</span>
<a class=linenum name='L76'>0076</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='76_8'>lspServer</a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='76_19' href='LanguageServer.swift.html#49_16'>LanguageServer</a></span>!
<a class=linenum name='L77'>0077</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='77_8' href='#' onclick='return expand(this);'>projectRoot<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#92_13"; return false;'>Siteify.swift:92</td><td><pre>        self.projectRoot = URL(fileURLWithPath: projectRoot,</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#110_50"; return false;'>Siteify.swift:110</td><td><pre>        let workspace = WorkspaceFolder(uri: self.projectRoot.absoluteString, name: "siteify")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#150_24"; return false;'>Siteify.swift:150</td><td><pre>            "__ROOT__": projectRoot.path.replacingOccurrences(of: home, with: "~")])</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#153_35"; return false;'>Siteify.swift:153</td><td><pre>        filemgr.enumerator(atPath: projectRoot.path)?</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#178_23"; return false;'>Siteify.swift:178</td><td><pre>        let fullpath = projectRoot.appendingPathComponent(relative).path</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#297_76"; return false;'>Siteify.swift:297</td><td><pre>                                                decl.file.starts(with: self.projectRoot.path) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#342_66"; return false;'>Siteify.swift:342</td><td><pre>                            } else if decl.file.starts(with: self.projectRoot.path) {</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64.swiftmodule'>URL</span>
<a class=linenum name='L78'>0078</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='78_8' href='#' onclick='return expand(this);'>fileThreads<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#155_43"; return false;'>Siteify.swift:155</td><td><pre>            .concurrentMap(maxConcurrency: fileThreads) { (relative, completion: (String?) -> Void) in</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#320_48"; return false;'>Siteify.swift:320</td><td><pre>                                        if self.fileThreads > 1 {</pre></td></table></span></a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>8</span>
<a class=linenum name='L79'>0079</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='usrString2'><a name='79_8' href='#' onclick='return expand(this);'>htmlRoot<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#137_8"; return false;'>Siteify.swift:137</td><td><pre>        htmlRoot = into</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#139_39"; return false;'>Siteify.swift:139</td><td><pre>        if !filemgr.fileExists(atPath: htmlRoot) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#141_52"; return false;'>Siteify.swift:141</td><td><pre>                try filemgr.createDirectory(atPath: htmlRoot, withIntermediateDirectories: false, attributes: nil)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#143_57"; return false;'>Siteify.swift:143</td><td><pre>                fatalError("Could not create directory \(htmlRoot!): \(error)")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#181_11"; return false;'>Siteify.swift:181</td><td><pre>        if htmlRoot == nil {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#182_12"; return false;'>Siteify.swift:182</td><td><pre>            htmlRoot = "html"</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#184_32"; return false;'>Siteify.swift:184</td><td><pre>        progress(str: "Saving \(htmlRoot!)/\(htmlfile)")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#364_45"; return false;'>Siteify.swift:364</td><td><pre>                "__FILE__": relative], dest: htmlRoot+"/"+htmlfile)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#387_35"; return false;'>Siteify.swift:387</td><td><pre>            progress(str: "Saved \(htmlRoot!)/\(htmlfile)")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#399_31"; return false;'>Siteify.swift:399</td><td><pre>        let filename = dest ?? htmlRoot+"/"+template</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>!
<a class=linenum name='L80'>0080</a>    
<a class=linenum name='L81'>0081</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><a name='81_9' href='#' onclick='return expand(this);'>progress<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#174_8"; return false;'>Siteify.swift:174</td><td><pre>        progress(str: "Site complete.\n")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#184_8"; return false;'>Siteify.swift:184</td><td><pre>        progress(str: "Saving \(htmlRoot!)/\(htmlfile)")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#387_12"; return false;'>Siteify.swift:387</td><td><pre>            progress(str: "Saved \(htmlRoot!)/\(htmlfile)")</pre></td></table></span></a></span>(<span class='identifier' title='usrString2'><a name='81_18' href='#' onclick='return expand(this);'>str<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#82_28"; return false;'>Siteify.swift:82</td><td><pre>        print("\u{001b}[2K"+str, separator: "", terminator: "\r")</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>) {
<a class=linenum name='L82'>0082</a>            <span class='identifier' title='x86_64-apple-macos.swiftmodule'>print</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"\u{001b}[2K"</span>+<span class='identifier' title='Siteify.swift'><a name='82_28' href='Siteify.swift.html#81_18'>str</a></span>, <span class='identifier' title='x86_64-apple-macos.swiftmodule'>separator</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>""</span>, <span class='identifier' title='x86_64-apple-macos.swiftmodule'>terminator</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"\r"</span>)
<a class=linenum name='L83'>0083</a>            <span class='identifier' title='stdio.h'>fflush</span>(<span class='identifier' title='x86_64.swiftmodule'>stdout</span>)
<a class=linenum name='L84'>0084</a>        }
<a class=linenum name='L85'>0085</a>    
<a class=linenum name='L86'>0086</a>        <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>init</span>(<span class='identifier' title='usrString2'><a name='86_16' href='#' onclick='return expand(this);'>projectRoot<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#92_48"; return false;'>Siteify.swift:92</td><td><pre>        self.projectRoot = URL(fileURLWithPath: projectRoot,</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#112_48"; return false;'>Siteify.swift:112</td><td><pre>                                      rootPath: projectRoot,</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>) {
<a class=linenum name='L87'>0087</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='87_12'>synchronizer</a></span> = <span class='identifier' title='Siteify.swift'><a name='87_27' href='Siteify.swift.html#39_7'>LanguageServerSynchronizer</a></span>()
<a class=linenum name='L88'>0088</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='88_12'>rootBuffer</a></span> = [<span class='identifier' title='x86_64-apple-macos.swiftmodule'>Int8</span>](<span class='identifier' title='x86_64.swiftmodule'>repeating</span>: <span class='number' title='source.lang.swift.syntaxtype.number'>0</span>, <span class='identifier' title='x86_64.swiftmodule'>count</span>: <span class='number' title='source.lang.swift.syntaxtype.number'>1024</span>)
<a class=linenum name='L89'>0089</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='89_12'>cwd</a></span> = <span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>(<span class='identifier' title='x86_64-apple-macos.swiftmodule'>cString</span>: <span class='identifier' title='Siteify.swift'><a name='89_34' href='Siteify.swift.html#88_12'>rootBuffer</a></span>.<span class='identifier' title='x86_64.swiftmodule'>withUnsafeMutableBufferPointer</span> {
<a class=linenum name='L90'>0090</a>                <span class='identifier' title='unistd.h'>getcwd</span>(<span class='identifier' title='Siteify.swift'><a name='90_19' href='Siteify.swift.html#89_76'>$0</a></span>.<span class='identifier' title='x86_64.swiftmodule'>baseAddress</span>, <span class='identifier' title='Siteify.swift'><a name='90_35' href='Siteify.swift.html#89_76'>$0</a></span>.<span class='identifier' title='x86_64.swiftmodule'>count</span>)
<a class=linenum name='L91'>0091</a>            })
<a class=linenum name='L92'>0092</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='92_13' href='Siteify.swift.html#77_8'>projectRoot</a></span> = <span class='identifier' title='x86_64.swiftmodule'>URL</span>(<span class='identifier' title='x86_64.swiftmodule'>fileURLWithPath</span>: <span class='identifier' title='Siteify.swift'><a name='92_48' href='Siteify.swift.html#86_16'>projectRoot</a></span>,
<a class=linenum name='L93'>0093</a>                                   <span class='identifier' title='x86_64.swiftmodule'>relativeTo</span>: <span class='identifier' title='x86_64.swiftmodule'>URL</span>(<span class='identifier' title='x86_64.swiftmodule'>fileURLWithPath</span>: <span class='identifier' title='Siteify.swift'><a name='93_64' href='Siteify.swift.html#89_12'>cwd</a></span>))
<a class=linenum name='L94'>0094</a>    
<a class=linenum name='L95'>0095</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='95_12'>PATH</a></span> = <span class='identifier' title='NSProcessInfo.h'>ProcessInfo</span>.<span class='identifier' title='NSProcessInfo.h'>processInfo</span>.<span class='identifier' title='NSProcessInfo.h'>environment</span>[<span class='string' title='source.lang.swift.syntaxtype.string'>"PATH"</span>] ?? <span class='string' title='source.lang.swift.syntaxtype.string'>"/usr/bin"</span>
<a class=linenum name='L96'>0096</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='96_12'>host</a></span> = <span class='identifier' title='LanguageServerProcessHost.swift'><a name='96_19' href='LanguageServerProcessHost.swift.html#20_13'>LanguageServerProcessHost</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>path</span>: <span class='identifier' title='Siteify.swift'><a name='96_51' href='Siteify.swift.html#75_8'>executablePath</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>arguments</span>: [],
<a class=linenum name='L97'>0097</a>                                             <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>environment</span>: [<span class='string' title='source.lang.swift.syntaxtype.string'>"PATH"</span>: <span class='identifier' title='Siteify.swift'><a name='97_63' href='Siteify.swift.html#95_12'>PATH</a></span>])
<a class=linenum name='L98'>0098</a>    
<a class=linenum name='L99'>0099</a>            <span class='identifier' title='Siteify.swift'><a name='99_8' href='Siteify.swift.html#96_12'>host</a></span>.<span class='identifier' title='LanguageServerProcessHost.swift'><a name='99_13' href='LanguageServerProcessHost.swift.html#59_16'>start</a></span> { (<span class='identifier' title='Siteify.swift'><a name='99_22'>server</a></span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L100'>0100</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>guard</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='100_22'>server</a></span> = <span class='identifier' title='Siteify.swift'><a name='100_31' href='Siteify.swift.html#99_22'>server</a></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> {
<a class=linenum name='L101'>0101</a>                    <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>fatalError</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"unable to launch server"</span>)
<a class=linenum name='L102'>0102</a>                }
<a class=linenum name='L103'>0103</a>                <span class='identifier' title='Siteify.swift'><a name='103_12' href='Siteify.swift.html#100_22'>server</a></span>.<span class='identifier' title='LanguageServer.swift'><a name='103_19' href='LanguageServer.swift.html#50_8'>notificationResponder</a></span> = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>
<a class=linenum name='L104'>0104</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>lspServer</span> = <span class='identifier' title='Siteify.swift'><a name='104_29' href='Siteify.swift.html#100_22'>server</a></span>
<a class=linenum name='L105'>0105</a>            }
<a class=linenum name='L106'>0106</a>    
<a class=linenum name='L107'>0107</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='107_12'>processId</a></span> = <span class='identifier' title='x86_64-apple-macos.swiftmodule'>Int</span>(<span class='identifier' title='NSProcessInfo.h'>ProcessInfo</span>.<span class='identifier' title='NSProcessInfo.h'>processInfo</span>.<span class='identifier' title='NSProcessInfo.h'>processIdentifier</span>)
<a class=linenum name='L108'>0108</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='108_12'>capabilities</a></span> = <span class='identifier' title='ClientCapabilities.swift'><a name='108_27' href='ClientCapabilities.swift.html#209_14'>ClientCapabilities</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>workspace</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>textDocument</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>experimental</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>)
<a class=linenum name='L109'>0109</a>    
<a class=linenum name='L110'>0110</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='110_12'>workspace</a></span> = <span class='identifier' title='WorkspaceFolder.swift'><a name='110_24' href='WorkspaceFolder.swift.html#11_14'>WorkspaceFolder</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>uri</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='110_50' href='Siteify.swift.html#77_8'>projectRoot</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>absoluteString</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>name</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"siteify"</span>)
<a class=linenum name='L111'>0111</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='111_12'>params</a></span> = <span class='identifier' title='Initialization.swift'><a name='111_21' href='Initialization.swift.html#17_14'>InitializeParams</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>processId</span>: <span class='identifier' title='Siteify.swift'><a name='111_49' href='Siteify.swift.html#107_12'>processId</a></span>,
<a class=linenum name='L112'>0112</a>                                          <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>rootPath</span>: <span class='identifier' title='Siteify.swift'><a name='112_48' href='Siteify.swift.html#86_16'>projectRoot</a></span>,
<a class=linenum name='L113'>0113</a>                                          <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>rootURI</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>,
<a class=linenum name='L114'>0114</a>                                          <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>initializationOptions</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>,
<a class=linenum name='L115'>0115</a>                                          <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>capabilities</span>: <span class='identifier' title='Siteify.swift'><a name='115_52' href='Siteify.swift.html#108_12'>capabilities</a></span>,
<a class=linenum name='L116'>0116</a>                                          <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>trace</span>: <span class='identifier' title='Initialization.swift'><a name='116_45' href='Initialization.swift.html#11_12'>Tracing</a></span>.<span class='identifier' title='Initialization.swift'><a name='116_53' href='Initialization.swift.html#12_9'>off</a></span>,
<a class=linenum name='L117'>0117</a>                                          <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>workspaceFolders</span>: [<span class='identifier' title='Siteify.swift'><a name='117_57' href='Siteify.swift.html#110_12'>workspace</a></span>])
<a class=linenum name='L118'>0118</a>    
<a class=linenum name='L119'>0119</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> = <span class='identifier' title='Siteify.swift'><a name='119_12' href='Siteify.swift.html#87_12'>synchronizer</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>sync</span>({
<a class=linenum name='L120'>0120</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>lspServer</span>.<span class='identifier' title='LanguageServer.swift'><a name='120_27' href='LanguageServer.swift.html#52_9'>initialize</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>params</span>: <span class='identifier' title='Siteify.swift'><a name='120_46' href='Siteify.swift.html#111_12'>params</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>block</span>: <span class='identifier' title='Siteify.swift'><a name='120_61' href='Siteify.swift.html#119_30'>$0</a></span>)
<a class=linenum name='L121'>0121</a>            })
<a class=linenum name='L122'>0122</a>        }
<a class=linenum name='L123'>0123</a>    
<a class=linenum name='L124'>0124</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='usrString2'><a name='124_8' href='#' onclick='return expand(this);'>indexFILE<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#148_8"; return false;'>Siteify.swift:148</td><td><pre>        indexFILE = copyTemplate(template: "index.html", patches: [</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#151_15"; return false;'>Siteify.swift:151</td><td><pre>        setbuf(indexFILE, nil)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#171_64"; return false;'>Siteify.swift:171</td><td><pre>        fputs("&lt;br>&lt;a href='symbols.html'>Package Symbols&lt;/a>", indexFILE)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#172_15"; return false;'>Siteify.swift:172</td><td><pre>        fclose(indexFILE)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#191_11"; return false;'>Siteify.swift:191</td><td><pre>        if indexFILE != nil {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#193_189"; return false;'>Siteify.swift:193</td><td><pre>            fputs("\(relurl.deletingLastPathComponent().relativePath)/&lt;a href='\(htmlfile)'>\(relurl.lastPathComponent)&lt;a> \(comma.string(from: NSNumber(value: data.count))!) bytes&lt;br>\n", indexFILE)</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64.swiftmodule'>UnsafeMutablePointer</span>&lt;<span class='typeidentifier' title='_stdio.h'>FILE</span>>?
<a class=linenum name='L125'>0125</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='usrString2'><a name='125_8' href='#' onclick='return expand(this);'>comma<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#193_125"; return false;'>Siteify.swift:193</td><td><pre>            fputs("\(relurl.deletingLastPathComponent().relativePath)/&lt;a href='\(htmlfile)'>\(relurl.lastPathComponent)&lt;a> \(comma.string(from: NSNumber(value: data.count))!) bytes&lt;br>\n", indexFILE)</pre></td></table></span></a></span>: <span class='typeidentifier' title='NSNumberFormatter.h'>NumberFormatter</span> = {
<a class=linenum name='L126'>0126</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='126_12'>comma</a></span> = <span class='identifier' title='NSNumberFormatter.h'>NumberFormatter</span>()
<a class=linenum name='L127'>0127</a>            <span class='identifier' title='Siteify.swift'><a name='127_8' href='Siteify.swift.html#126_12'>comma</a></span>.<span class='identifier' title='NSNumberFormatter.h'>numberStyle</span> = <span class='identifier' title='NSNumberFormatter.h'>NumberFormatter</span>.<span class='identifier' title='NSNumberFormatter.h'>Style</span>.<span class='identifier' title='NSNumberFormatter.h'>decimal</span>
<a class=linenum name='L128'>0128</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='128_15' href='Siteify.swift.html#126_12'>comma</a></span>
<a class=linenum name='L129'>0129</a>        }()
<a class=linenum name='L130'>0130</a>    
<a class=linenum name='L131'>0131</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='131_8' href='#' onclick='return expand(this);'>symbolsLock<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#164_24"; return false;'>Siteify.swift:164</td><td><pre>        for sym in self.symbolsLock.synchronized({packageSymbols})</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#374_25"; return false;'>Siteify.swift:374</td><td><pre>                    self.symbolsLock.synchronized {</pre></td></table></span></a></span> = <span class='identifier' title='NSLock.h'>NSLock</span>()
<a class=linenum name='L132'>0132</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='132_8'>packageSymbols</a></span> = [<span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>: [<span class='identifier' title='DocumentSymbol.swift'><a name='132_35' href='DocumentSymbol.swift.html#56_14'>DocumentSymbol</a></span>]]()
<a class=linenum name='L133'>0133</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='133_8' href='#' onclick='return expand(this);'>referencesLock<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#284_37"; return false;'>Siteify.swift:284</td><td><pre>                                self.referencesLock.synchronized({</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#309_53"; return false;'>Siteify.swift:309</td><td><pre>                                                self.referencesLock.synchronized {</pre></td></table></span></a></span> = <span class='identifier' title='NSLock.h'>NSLock</span>()
<a class=linenum name='L134'>0134</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='134_8'>referencesFallback</a></span> = [<span class='identifier' title='Siteify.swift'><a name='134_30' href='Siteify.swift.html#435_7'>Loc</a></span>: <span class='identifier' title='Location.swift'><a name='134_35' href='Location.swift.html#11_14'>Location</a></span>]()
<a class=linenum name='L135'>0135</a>    
<a class=linenum name='L136'>0136</a>        <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><a name='136_16' href='#' onclick='return expand(this);'>generateSite<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="main.swift.html#19_41"; event.stopPropagation(); return false;'>main.swift:19</td><td><pre>Siteify(projectRoot: projectRoot ?? ".").generateSite(into: "html")</pre></td></table></span></a></span>(<span class='identifier' title='usrString2'><a name='136_29' href='#' onclick='return expand(this);'>into<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#137_19"; return false;'>Siteify.swift:137</td><td><pre>        htmlRoot = into</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>) {
<a class=linenum name='L137'>0137</a>            <span class='identifier' title='Siteify.swift'><a name='137_8' href='Siteify.swift.html#79_8'>htmlRoot</a></span> = <span class='identifier' title='Siteify.swift'><a name='137_19' href='Siteify.swift.html#136_29'>into</a></span>
<a class=linenum name='L138'>0138</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='138_12'>filemgr</a></span> = <span class='identifier' title='NSFileManager.h'>FileManager</span>.<span class='identifier' title='NSFileManager.h'>default</span>
<a class=linenum name='L139'>0139</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> !<span class='identifier' title='Siteify.swift'><a name='139_12' href='Siteify.swift.html#138_12'>filemgr</a></span>.<span class='identifier' title='NSFileManager.h'>fileExists</span>(<span class='identifier' title='NSFileManager.h'>atPath</span>: <span class='identifier' title='Siteify.swift'><a name='139_39' href='Siteify.swift.html#79_8'>htmlRoot</a></span>) {
<a class=linenum name='L140'>0140</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>do</span> {
<a class=linenum name='L141'>0141</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span> <span class='identifier' title='Siteify.swift'><a name='141_20' href='Siteify.swift.html#138_12'>filemgr</a></span>.<span class='identifier' title='NSFileManager.h'>createDirectory</span>(<span class='identifier' title='NSFileManager.h'>atPath</span>: <span class='identifier' title='Siteify.swift'><a name='141_52' href='Siteify.swift.html#79_8'>htmlRoot</a></span>, <span class='identifier' title='NSFileManager.h'>withIntermediateDirectories</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>false</span>, <span class='identifier' title='NSFileManager.h'>attributes</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>)
<a class=linenum name='L142'>0142</a>                } <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>catch</span> {
<a class=linenum name='L143'>0143</a>                    <span class='identifier' title='x86_64.swiftmodule'>fatalError</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"Could not create directory </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='143_57' href='Siteify.swift.html#79_8'>htmlRoot</a></span>!<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>: </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='143_71' href='Siteify.swift.html#142_20'>error</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L144'>0144</a>                }
<a class=linenum name='L145'>0145</a>            }
<a class=linenum name='L146'>0146</a>    
<a class=linenum name='L147'>0147</a>            <span class='identifier' title='stdio.h'>fclose</span>(<span class='identifier' title='Siteify.swift'><a name='147_15' href='Siteify.swift.html#394_9'>copyTemplate</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>template</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"siteify.css"</span>))
<a class=linenum name='L148'>0148</a>            <span class='identifier' title='Siteify.swift'><a name='148_8' href='Siteify.swift.html#124_8'>indexFILE</a></span> = <span class='identifier' title='Siteify.swift'><a name='148_20' href='Siteify.swift.html#394_9'>copyTemplate</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>template</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"index.html"</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>patches</span>: [
<a class=linenum name='L149'>0149</a>                <span class='string' title='source.lang.swift.syntaxtype.string'>"__DATE__"</span>: <span class='identifier' title='NSDate.h'>NSDate</span>().<span class='identifier' title='NSDate.h'>description</span>,
<a class=linenum name='L150'>0150</a>                <span class='string' title='source.lang.swift.syntaxtype.string'>"__ROOT__"</span>: <span class='identifier' title='Siteify.swift'><a name='150_24' href='Siteify.swift.html#77_8'>projectRoot</a></span>.<span class='identifier' title='x86_64.swiftmodule'>path</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>replacingOccurrences</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>of</span>: <span class='identifier' title='Siteify.swift'><a name='150_66' href='Siteify.swift.html#391_8'>home</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>with</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"~"</span>)])
<a class=linenum name='L151'>0151</a>            <span class='identifier' title='stdio.h'>setbuf</span>(<span class='identifier' title='Siteify.swift'><a name='151_15' href='Siteify.swift.html#124_8'>indexFILE</a></span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>)
<a class=linenum name='L152'>0152</a>    
<a class=linenum name='L153'>0153</a>            <span class='identifier' title='Siteify.swift'><a name='153_8' href='Siteify.swift.html#138_12'>filemgr</a></span>.<span class='identifier' title='NSFileManager.h'>enumerator</span>(<span class='identifier' title='NSFileManager.h'>atPath</span>: <span class='identifier' title='Siteify.swift'><a name='153_35' href='Siteify.swift.html#77_8'>projectRoot</a></span>.<span class='identifier' title='x86_64.swiftmodule'>path</span>)?
<a class=linenum name='L154'>0154</a>                .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>compactMap</span> { <span class='identifier' title='Siteify.swift'><a name='154_26' href='Siteify.swift.html#154_24'>$0</a></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>as</span>? <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> }.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>sorted</span>()
<a class=linenum name='L155'>0155</a>                .<span class='identifier' title='Parallelize.swift'><a name='155_13' href='Parallelize.swift.html#25_9'>concurrentMap</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>maxConcurrency</span>: <span class='identifier' title='Siteify.swift'><a name='155_43' href='Siteify.swift.html#78_8'>fileThreads</a></span>) { (<span class='identifier' title='Siteify.swift'><a name='155_59'>relative</a></span>, <span class='identifier' title='Siteify.swift'><a name='155_69'>completion</a></span>: (<span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>?) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Void</span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L156'>0156</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> !<span class='identifier' title='Siteify.swift'><a name='156_20' href='Siteify.swift.html#155_59'>relative</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>starts</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>with</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"Tests/"</span>) &amp;&amp; <span class='doccomment' title='source.lang.swift.syntaxtype.doccomment'>///
<a class=linenum name='L157'>0157</a>    </span>                    (<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span>? <span class='identifier' title='Basic.swift'><a name='157_26' href='Basic.swift.html#52_12'>LanguageIdentifier</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>for</span>: <span class='identifier' title='x86_64.swiftmodule'>URL</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>fileURLWithPath</span>: <span class='identifier' title='Siteify.swift'><a name='157_71' href='Siteify.swift.html#155_59'>relative</a></span>))) != <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span> {
<a class=linenum name='L158'>0158</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='158_25' href='Siteify.swift.html#177_16'>processFile</a></span>(<span class='identifier' title='Siteify.swift'><a name='158_37' href='Siteify.swift.html#177_16'>relative</a></span>: <span class='identifier' title='Siteify.swift'><a name='158_47' href='Siteify.swift.html#155_59'>relative</a></span>)
<a class=linenum name='L159'>0159</a>                    }
<a class=linenum name='L160'>0160</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='160_23' href='Siteify.swift.html#155_69'>completion</a></span>(<span class='identifier' title='Siteify.swift'><a name='160_34' href='Siteify.swift.html#155_59'>relative</a></span>)
<a class=linenum name='L161'>0161</a>                }
<a class=linenum name='L162'>0162</a>    
<a class=linenum name='L163'>0163</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='163_12'>xrefFILE</a></span> = <span class='identifier' title='Siteify.swift'><a name='163_23' href='Siteify.swift.html#394_9'>copyTemplate</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>template</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"symbols.html"</span>)
<a class=linenum name='L164'>0164</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>for</span> <span class='identifier' title='Siteify.swift'><a name='164_12'>sym</a></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='164_24' href='Siteify.swift.html#131_8'>symbolsLock</a></span>.<span class='identifier' title='Parallelize.swift'><a name='164_36' href='Parallelize.swift.html#17_16'>synchronized</a></span>({<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>packageSymbols</span>})
<a class=linenum name='L165'>0165</a>                .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>map</span>({ (<span class='identifier' title='Siteify.swift'><a name='165_20'>file</a></span>, <span class='identifier' title='Siteify.swift'><a name='165_26'>syms</a></span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span> <span class='identifier' title='Siteify.swift'><a name='165_35' href='Siteify.swift.html#165_26'>syms</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>map</span> {(<span class='identifier' title='Siteify.swift'><a name='165_46' href='Siteify.swift.html#165_20'>file</a></span>, <span class='identifier' title='Siteify.swift'><a name='165_52' href='Siteify.swift.html#165_44'>$0</a></span>)}})
<a class=linenum name='L166'>0166</a>                .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>reduce</span>([], +).<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>sorted</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>by</span>: {<span class='identifier' title='Siteify.swift'><a name='166_39' href='Siteify.swift.html#166_38'>$0</a></span>.<span class='number' title='source.lang.swift.syntaxtype.number'>1</span>.<span class='identifier' title='DocumentSymbol.swift'><a name='166_44' href='DocumentSymbol.swift.html#57_15'>name</a></span> &lt; <span class='identifier' title='Siteify.swift'><a name='166_51' href='Siteify.swift.html#166_38'>$1</a></span>.<span class='number' title='source.lang.swift.syntaxtype.number'>1</span>.<span class='identifier' title='DocumentSymbol.swift'><a name='166_56' href='DocumentSymbol.swift.html#57_15'>name</a></span>}) {
<a class=linenum name='L167'>0167</a>                <span class='identifier' title='Siteify.swift'><a name='167_12' href='Siteify.swift.html#164_12'>sym</a></span>.<span class='number' title='source.lang.swift.syntaxtype.number'>1</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>print</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span>: <span class='identifier' title='Siteify.swift'><a name='167_30' href='Siteify.swift.html#164_12'>sym</a></span>.<span class='number' title='source.lang.swift.syntaxtype.number'>0</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>to</span>: <span class='identifier' title='Siteify.swift'><a name='167_41' href='Siteify.swift.html#163_12'>xrefFILE</a></span>)
<a class=linenum name='L168'>0168</a>            }
<a class=linenum name='L169'>0169</a>            <span class='identifier' title='stdio.h'>fclose</span>(<span class='identifier' title='Siteify.swift'><a name='169_15' href='Siteify.swift.html#163_12'>xrefFILE</a></span>)
<a class=linenum name='L170'>0170</a>    
<a class=linenum name='L171'>0171</a>            <span class='identifier' title='stdio.h'>fputs</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;br>&lt;a href='symbols.html'>Package Symbols&lt;/a>"</span>, <span class='identifier' title='Siteify.swift'><a name='171_64' href='Siteify.swift.html#124_8'>indexFILE</a></span>)
<a class=linenum name='L172'>0172</a>            <span class='identifier' title='stdio.h'>fclose</span>(<span class='identifier' title='Siteify.swift'><a name='172_15' href='Siteify.swift.html#124_8'>indexFILE</a></span>)
<a class=linenum name='L173'>0173</a>    
<a class=linenum name='L174'>0174</a>            <span class='identifier' title='Siteify.swift'><a name='174_8' href='Siteify.swift.html#81_9'>progress</a></span>(<span class='identifier' title='Siteify.swift'><a name='174_17' href='Siteify.swift.html#81_9'>str</a></span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"Site complete.\n"</span>)
<a class=linenum name='L175'>0175</a>        }
<a class=linenum name='L176'>0176</a>    
<a class=linenum name='L177'>0177</a>        <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><a name='177_16' href='#' onclick='return expand(this);'>processFile<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#158_25"; return false;'>Siteify.swift:158</td><td><pre>                    self.processFile(relative: relative)</pre></td></table></span></a></span>(<span class='identifier' title='usrString2'><a name='177_28' href='#' onclick='return expand(this);'>relative<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#178_58"; return false;'>Siteify.swift:178</td><td><pre>        let fullpath = projectRoot.appendingPathComponent(relative).path</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#192_46"; return false;'>Siteify.swift:192</td><td><pre>            let relurl = URL(fileURLWithPath: relative)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#364_28"; return false;'>Siteify.swift:364</td><td><pre>                "__FILE__": relative], dest: htmlRoot+"/"+htmlfile)</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>) {
<a class=linenum name='L178'>0178</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='178_12'>fullpath</a></span> = <span class='identifier' title='Siteify.swift'><a name='178_23' href='Siteify.swift.html#77_8'>projectRoot</a></span>.<span class='identifier' title='x86_64.swiftmodule'>appendingPathComponent</span>(<span class='identifier' title='Siteify.swift'><a name='178_58' href='Siteify.swift.html#177_28'>relative</a></span>).<span class='identifier' title='x86_64.swiftmodule'>path</span>
<a class=linenum name='L179'>0179</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='179_12'>htmlfile</a></span> = <span class='identifier' title='Siteify.swift'><a name='179_23' href='Siteify.swift.html#23_5'>htmlFile</a></span>(<span class='identifier' title='Siteify.swift'><a name='179_32' href='Siteify.swift.html#178_12'>fullpath</a></span>)
<a class=linenum name='L180'>0180</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='180_12'>synchronizer</a></span> = <span class='identifier' title='Siteify.swift'><a name='180_27' href='Siteify.swift.html#39_7'>LanguageServerSynchronizer</a></span>()
<a class=linenum name='L181'>0181</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='181_11' href='Siteify.swift.html#79_8'>htmlRoot</a></span> == <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span> {
<a class=linenum name='L182'>0182</a>                <span class='identifier' title='Siteify.swift'><a name='182_12' href='Siteify.swift.html#79_8'>htmlRoot</a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"html"</span>
<a class=linenum name='L183'>0183</a>            }
<a class=linenum name='L184'>0184</a>            <span class='identifier' title='Siteify.swift'><a name='184_8' href='Siteify.swift.html#81_9'>progress</a></span>(<span class='identifier' title='Siteify.swift'><a name='184_17' href='Siteify.swift.html#81_9'>str</a></span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"Saving </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='184_32' href='Siteify.swift.html#79_8'>htmlRoot</a></span>!<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>/</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='184_45' href='Siteify.swift.html#179_12'>htmlfile</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L185'>0185</a>    
<a class=linenum name='L186'>0186</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>guard</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='186_18'>data</a></span> = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span>? <span class='identifier' title='x86_64.swiftmodule'>Data</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>contentsOf</span>: <span class='identifier' title='x86_64.swiftmodule'>URL</span>(<span class='identifier' title='x86_64.swiftmodule'>fileURLWithPath</span>: <span class='identifier' title='Siteify.swift'><a name='186_68' href='Siteify.swift.html#178_12'>fullpath</a></span>)) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> {
<a class=linenum name='L187'>0187</a>                <span class='identifier' title='x86_64.swiftmodule'>NSLog</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"Unable to load file at path: </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='187_50' href='Siteify.swift.html#178_12'>fullpath</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L188'>0188</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span>
<a class=linenum name='L189'>0189</a>            }
<a class=linenum name='L190'>0190</a>    
<a class=linenum name='L191'>0191</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='191_11' href='Siteify.swift.html#124_8'>indexFILE</a></span> != <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span> {
<a class=linenum name='L192'>0192</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='192_16'>relurl</a></span> = <span class='identifier' title='x86_64.swiftmodule'>URL</span>(<span class='identifier' title='x86_64.swiftmodule'>fileURLWithPath</span>: <span class='identifier' title='Siteify.swift'><a name='192_46' href='Siteify.swift.html#177_28'>relative</a></span>)
<a class=linenum name='L193'>0193</a>                <span class='identifier' title='stdio.h'>fputs</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='193_21' href='Siteify.swift.html#192_16'>relurl</a></span>.<span class='identifier' title='x86_64.swiftmodule'>deletingLastPathComponent</span>().<span class='identifier' title='x86_64.swiftmodule'>relativePath</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>/&lt;a href='</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='193_81' href='Siteify.swift.html#179_12'>htmlfile</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>'></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='193_94' href='Siteify.swift.html#192_16'>relurl</a></span>.<span class='identifier' title='x86_64.swiftmodule'>lastPathComponent</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;a> </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='193_125' href='Siteify.swift.html#125_8'>comma</a></span>.<span class='identifier' title='NSNumberFormatter.h'>string</span>(<span class='identifier' title='NSNumberFormatter.h'>from</span>: <span class='identifier' title='NSValue.h'>NSNumber</span>(<span class='identifier' title='NSValue.h'>value</span>: <span class='identifier' title='Siteify.swift'><a name='193_160' href='Siteify.swift.html#186_18'>data</a></span>.<span class='identifier' title='x86_64.swiftmodule'>count</span>))!<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'> bytes&lt;br>\n"</span>, <span class='identifier' title='Siteify.swift'><a name='193_189' href='Siteify.swift.html#124_8'>indexFILE</a></span>)
<a class=linenum name='L194'>0194</a>            }
<a class=linenum name='L195'>0195</a>    
<a class=linenum name='L196'>0196</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='196_12'>docId</a></span> = <span class='identifier' title='TextDocumentIndentifier.swift'><a name='196_20' href='TextDocumentIndentifier.swift.html#11_14'>TextDocumentIdentifier</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>path</span>: <span class='identifier' title='Siteify.swift'><a name='196_49' href='Siteify.swift.html#178_12'>fullpath</a></span>)
<a class=linenum name='L197'>0197</a>            <span class='identifier' title='Siteify.swift'><a name='197_8' href='Siteify.swift.html#180_12'>synchronizer</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>sync</span> {
<a class=linenum name='L198'>0198</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>lspServer</span>.<span class='identifier' title='LanguageServer.swift'><a name='198_27' href='LanguageServer.swift.html#54_9'>didOpenTextDocument</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>params</span>: <span class='identifier' title='TextSynchronization.swift'><a name='198_55' href='TextSynchronization.swift.html#11_14'>DidOpenTextDocumentParams</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>textDocument</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span>! <span class='identifier' title='Basic.swift'><a name='198_100' href='Basic.swift.html#87_14'>TextDocumentItem</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>contentsOfFile</span>: <span class='identifier' title='Siteify.swift'><a name='198_133' href='Siteify.swift.html#178_12'>fullpath</a></span>)), <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>block</span>: <span class='identifier' title='Siteify.swift'><a name='198_152' href='Siteify.swift.html#197_26'>$0</a></span>)
<a class=linenum name='L199'>0199</a>            }
<a class=linenum name='L200'>0200</a>    
<a class=linenum name='L201'>0201</a>            <span class='identifier' title='Siteify.swift'><a name='201_8' href='Siteify.swift.html#186_18'>data</a></span>.<span class='identifier' title='x86_64.swiftmodule'>withUnsafeBytes</span> { (<span class='identifier' title='Siteify.swift'><a name='201_32'>buffer</a></span>: <span class='typeidentifier' title='x86_64.swiftmodule'>UnsafeRawBufferPointer</span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L202'>0202</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='202_16'>start</a></span> = <span class='identifier' title='Siteify.swift'><a name='202_24' href='Siteify.swift.html#201_32'>buffer</a></span>.<span class='identifier' title='x86_64.swiftmodule'>baseAddress</span>!.<span class='identifier' title='x86_64.swiftmodule'>assumingMemoryBound</span>(<span class='identifier' title='x86_64.swiftmodule'>to</span>: <span class='identifier' title='x86_64-apple-macos.swiftmodule'>Int8</span>.<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>)
<a class=linenum name='L203'>0203</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='203_16'>ptr</a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>0</span>, <span class='identifier' title='Siteify.swift'><a name='203_25'>linestart</a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>0</span>, <span class='identifier' title='Siteify.swift'><a name='203_40'>lineno</a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>0</span>, <span class='identifier' title='Siteify.swift'><a name='203_52'>col</a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>0</span>
<a class=linenum name='L204'>0204</a>    
<a class=linenum name='L205'>0205</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='205_17'>escape</a></span>(<span class='identifier' title='usrString2'><a name='205_24' href='#' onclick='return expand(this);'>html<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#206_23"; return false;'>Siteify.swift:206</td><td><pre>                return html</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> {
<a class=linenum name='L206'>0206</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='206_23' href='Siteify.swift.html#205_24'>html</a></span>
<a class=linenum name='L207'>0207</a>                        .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>replacingOccurrences</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>of</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"&amp;"</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>with</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"&amp;amp;"</span>)
<a class=linenum name='L208'>0208</a>                        .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>replacingOccurrences</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>of</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;"</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>with</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"&amp;lt;"</span>)
<a class=linenum name='L209'>0209</a>                }
<a class=linenum name='L210'>0210</a>    
<a class=linenum name='L211'>0211</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='211_17'>skipTo</a></span>(<span class='identifier' title='usrString2'><a name='211_24' href='#' onclick='return expand(this);'>offset<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#214_40"; return false;'>Siteify.swift:214</td><td><pre>                                        offset - linestart) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#218_35"; return false;'>Siteify.swift:218</td><td><pre>                    if linestart &lt; offset &amp;&amp; start[linestart] == UInt8(ascii: "\r") {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#223_39"; return false;'>Siteify.swift:223</td><td><pre>                               length: offset - linestart,</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#226_63"; return false;'>Siteify.swift:226</td><td><pre>                let out = NSString(bytes: start + ptr, length: offset - ptr,</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#228_22"; return false;'>Siteify.swift:228</td><td><pre>                ptr = offset</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Int</span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> {
<a class=linenum name='L212'>0212</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>while</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='212_26'>line</a></span> = <span class='identifier' title='string.h'>memchr</span>(<span class='identifier' title='Siteify.swift'><a name='212_40' href='Siteify.swift.html#202_16'>start</a></span> + <span class='identifier' title='Siteify.swift'><a name='212_48' href='Siteify.swift.html#203_25'>linestart</a></span>,
<a class=linenum name='L213'>0213</a>                                            <span class='identifier' title='x86_64-apple-macos.swiftmodule'>Int32</span>(<span class='identifier' title='x86_64-apple-macos.swiftmodule'>UInt8</span>(<span class='identifier' title='x86_64-apple-macos.swiftmodule'>ascii</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"\n"</span>)),
<a class=linenum name='L214'>0214</a>                                            <span class='identifier' title='Siteify.swift'><a name='214_40' href='Siteify.swift.html#211_24'>offset</a></span> - <span class='identifier' title='Siteify.swift'><a name='214_49' href='Siteify.swift.html#203_25'>linestart</a></span>) {
<a class=linenum name='L215'>0215</a>                        <span class='identifier' title='Siteify.swift'><a name='215_20' href='Siteify.swift.html#203_40'>lineno</a></span> += <span class='number' title='source.lang.swift.syntaxtype.number'>1</span>
<a class=linenum name='L216'>0216</a>                        <span class='identifier' title='Siteify.swift'><a name='216_20' href='Siteify.swift.html#203_25'>linestart</a></span> = <span class='identifier' title='x86_64.swiftmodule'>UnsafePointer</span>&lt;<span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Int8</span>>(<span class='identifier' title='Siteify.swift'><a name='216_52' href='Siteify.swift.html#212_26'>line</a></span>
<a class=linenum name='L217'>0217</a>                            .<span class='identifier' title='x86_64.swiftmodule'>assumingMemoryBound</span>(<span class='identifier' title='x86_64.swiftmodule'>to</span>: <span class='identifier' title='x86_64-apple-macos.swiftmodule'>Int8</span>.<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>)) - <span class='identifier' title='Siteify.swift'><a name='217_63' href='Siteify.swift.html#202_16'>start</a></span> + <span class='number' title='source.lang.swift.syntaxtype.number'>1</span>
<a class=linenum name='L218'>0218</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='218_23' href='Siteify.swift.html#203_25'>linestart</a></span> &lt; <span class='identifier' title='Siteify.swift'><a name='218_35' href='Siteify.swift.html#211_24'>offset</a></span> &amp;&amp; <span class='identifier' title='Siteify.swift'><a name='218_45' href='Siteify.swift.html#202_16'>start</a></span>[<span class='identifier' title='Siteify.swift'><a name='218_51' href='Siteify.swift.html#203_25'>linestart</a></span>] == <span class='identifier' title='x86_64-apple-macos.swiftmodule'>UInt8</span>(<span class='identifier' title='x86_64-apple-macos.swiftmodule'>ascii</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"\r"</span>) {
<a class=linenum name='L219'>0219</a>                            <span class='identifier' title='Siteify.swift'><a name='219_24' href='Siteify.swift.html#203_25'>linestart</a></span> += <span class='number' title='source.lang.swift.syntaxtype.number'>1</span>
<a class=linenum name='L220'>0220</a>                        }
<a class=linenum name='L221'>0221</a>                    }
<a class=linenum name='L222'>0222</a>                    <span class='identifier' title='Siteify.swift'><a name='222_16' href='Siteify.swift.html#203_52'>col</a></span> = <span class='identifier' title='NSString.h'>NSString</span>(<span class='identifier' title='NSString.h'>bytes</span>: <span class='identifier' title='Siteify.swift'><a name='222_38' href='Siteify.swift.html#202_16'>start</a></span> + <span class='identifier' title='Siteify.swift'><a name='222_46' href='Siteify.swift.html#203_25'>linestart</a></span>,
<a class=linenum name='L223'>0223</a>                                   <span class='identifier' title='NSString.h'>length</span>: <span class='identifier' title='Siteify.swift'><a name='223_39' href='Siteify.swift.html#211_24'>offset</a></span> - <span class='identifier' title='Siteify.swift'><a name='223_48' href='Siteify.swift.html#203_25'>linestart</a></span>,
<a class=linenum name='L224'>0224</a>                                   <span class='identifier' title='NSString.h'>encoding</span>: <span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>.<span class='identifier' title='x86_64.swiftmodule'>Encoding</span>.<span class='identifier' title='x86_64.swiftmodule'>utf8</span>.<span class='identifier' title='x86_64.swiftmodule'>rawValue</span>)?.<span class='identifier' title='NSString.h'>length</span> ?? <span class='number' title='source.lang.swift.syntaxtype.number'>0</span>
<a class=linenum name='L225'>0225</a>    
<a class=linenum name='L226'>0226</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='226_20'>out</a></span> = <span class='identifier' title='NSString.h'>NSString</span>(<span class='identifier' title='NSString.h'>bytes</span>: <span class='identifier' title='Siteify.swift'><a name='226_42' href='Siteify.swift.html#202_16'>start</a></span> + <span class='identifier' title='Siteify.swift'><a name='226_50' href='Siteify.swift.html#203_16'>ptr</a></span>, <span class='identifier' title='NSString.h'>length</span>: <span class='identifier' title='Siteify.swift'><a name='226_63' href='Siteify.swift.html#211_24'>offset</a></span> - <span class='identifier' title='Siteify.swift'><a name='226_72' href='Siteify.swift.html#203_16'>ptr</a></span>,
<a class=linenum name='L227'>0227</a>                                       <span class='identifier' title='NSString.h'>encoding</span>: <span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>.<span class='identifier' title='x86_64.swiftmodule'>Encoding</span>.<span class='identifier' title='x86_64.swiftmodule'>utf8</span>.<span class='identifier' title='x86_64.swiftmodule'>rawValue</span>) ?? <span class='string' title='source.lang.swift.syntaxtype.string'>""</span>
<a class=linenum name='L228'>0228</a>                    <span class='identifier' title='Siteify.swift'><a name='228_16' href='Siteify.swift.html#203_16'>ptr</a></span> = <span class='identifier' title='Siteify.swift'><a name='228_22' href='Siteify.swift.html#211_24'>offset</a></span>
<a class=linenum name='L229'>0229</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='229_23' href='Siteify.swift.html#205_17'>escape</a></span>(<span class='identifier' title='Siteify.swift'><a name='229_30' href='Siteify.swift.html#205_17'>html</a></span>: <span class='identifier' title='Siteify.swift'><a name='229_36' href='Siteify.swift.html#226_20'>out</a></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>as</span> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>)
<a class=linenum name='L230'>0230</a>                }
<a class=linenum name='L231'>0231</a>    
<a class=linenum name='L232'>0232</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='232_16'>fileLineCache</a></span> = [<span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>: [<span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>]]()
<a class=linenum name='L233'>0233</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='233_17'>reflines</a></span>(<span class='identifier' title='usrString2'><a name='233_26' href='#' onclick='return expand(this);'>file<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#234_33"; return false;'>Siteify.swift:234</td><td><pre>                if fileLineCache[file] == nil {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#235_34"; return false;'>Siteify.swift:235</td><td><pre>                    fileLineCache[file] =</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#236_53"; return false;'>Siteify.swift:236</td><td><pre>                        (try? String(contentsOfFile: file))?</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#239_45"; return false;'>Siteify.swift:239</td><td><pre>                if let lines = fileLineCache[file], line &lt; lines.count {</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>, <span class='identifier' title='usrString2'><a name='233_40' href='#' onclick='return expand(this);'>line<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#239_52"; return false;'>Siteify.swift:239</td><td><pre>                if let lines = fileLineCache[file], line &lt; lines.count {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#240_46"; return false;'>Siteify.swift:240</td><td><pre>                    return escape(html: lines[line])</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Int</span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> {
<a class=linenum name='L234'>0234</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='234_19' href='Siteify.swift.html#232_16'>fileLineCache</a></span>[<span class='identifier' title='Siteify.swift'><a name='234_33' href='Siteify.swift.html#233_26'>file</a></span>] == <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span> {
<a class=linenum name='L235'>0235</a>                        <span class='identifier' title='Siteify.swift'><a name='235_20' href='Siteify.swift.html#232_16'>fileLineCache</a></span>[<span class='identifier' title='Siteify.swift'><a name='235_34' href='Siteify.swift.html#233_26'>file</a></span>] =
<a class=linenum name='L236'>0236</a>                            (<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>try</span>? <span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>(<span class='identifier' title='x86_64.swiftmodule'>contentsOfFile</span>: <span class='identifier' title='Siteify.swift'><a name='236_53' href='Siteify.swift.html#233_26'>file</a></span>))?
<a class=linenum name='L237'>0237</a>                            .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>components</span>(<span class='identifier' title='x86_64.swiftmodule'>separatedBy</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"\n"</span>)
<a class=linenum name='L238'>0238</a>                    }
<a class=linenum name='L239'>0239</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='239_23'>lines</a></span> = <span class='identifier' title='Siteify.swift'><a name='239_31' href='Siteify.swift.html#232_16'>fileLineCache</a></span>[<span class='identifier' title='Siteify.swift'><a name='239_45' href='Siteify.swift.html#233_26'>file</a></span>], <span class='identifier' title='Siteify.swift'><a name='239_52' href='Siteify.swift.html#233_40'>line</a></span> &lt; <span class='identifier' title='Siteify.swift'><a name='239_59' href='Siteify.swift.html#239_23'>lines</a></span>.<span class='identifier' title='x86_64.swiftmodule'>count</span> {
<a class=linenum name='L240'>0240</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='240_27' href='Siteify.swift.html#205_17'>escape</a></span>(<span class='identifier' title='Siteify.swift'><a name='240_34' href='Siteify.swift.html#205_17'>html</a></span>: <span class='identifier' title='Siteify.swift'><a name='240_40' href='Siteify.swift.html#239_23'>lines</a></span>[<span class='identifier' title='Siteify.swift'><a name='240_46' href='Siteify.swift.html#233_40'>line</a></span>])
<a class=linenum name='L241'>0241</a>                    }
<a class=linenum name='L242'>0242</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='string' title='source.lang.swift.syntaxtype.string'>""</span>
<a class=linenum name='L243'>0243</a>                }
<a class=linenum name='L244'>0244</a>    
<a class=linenum name='L245'>0245</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='245_16'>resp</a></span> = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='245_28' href='Siteify.swift.html#74_8'>sourceKit</a></span>.<span class='identifier' title='SourceKit.swift'><a name='245_38' href='SourceKit.swift.html#291_16'>syntaxMap</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>filePath</span>: <span class='identifier' title='Siteify.swift'><a name='245_58' href='Siteify.swift.html#178_12'>fullpath</a></span>)
<a class=linenum name='L246'>0246</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='246_16'>dict</a></span> = <span class='identifier' title='SourceKit.swift'><a name='246_23' href='SourceKit.swift.html#167_11'>SKApi</a></span>.<span class='identifier' title='SourceKit.swift'><a name='246_29' href='SourceKit.swift.html#131_20'>response_get_value</a></span>(<span class='identifier' title='Siteify.swift'><a name='246_48' href='Siteify.swift.html#245_16'>resp</a></span>)
<a class=linenum name='L247'>0247</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='247_16'>syntaxMap</a></span> = <span class='identifier' title='SourceKit.swift'><a name='247_28' href='SourceKit.swift.html#167_11'>SKApi</a></span>.<span class='identifier' title='SourceKit.swift'><a name='247_34' href='SourceKit.swift.html#133_20'>variant_dictionary_get_value</a></span>(<span class='identifier' title='Siteify.swift'><a name='247_63' href='Siteify.swift.html#246_16'>dict</a></span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='247_74' href='Siteify.swift.html#74_8'>sourceKit</a></span>.<span class='identifier' title='SourceKit.swift'><a name='247_84' href='SourceKit.swift.html#191_20'>syntaxID</a></span>)
<a class=linenum name='L248'>0248</a>    
<a class=linenum name='L249'>0249</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='249_16'>html</a></span> = (<span class='number' title='source.lang.swift.syntaxtype.number'>0</span>..&lt;<span class='identifier' title='SourceKit.swift'><a name='249_28' href='SourceKit.swift.html#167_11'>SKApi</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>variant_array_get_count</span>(<span class='identifier' title='Siteify.swift'><a name='249_58' href='Siteify.swift.html#247_16'>syntaxMap</a></span>))
<a class=linenum name='L250'>0250</a>                    .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>map</span> { (<span class='identifier' title='Siteify.swift'><a name='250_24'>index</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Int</span>) -> (<span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>, <span class='typeidentifier' title='sourcekitd.h'><a name='250_48' href='sourcekitd.h.html#336_8'>sourcekitd_variant_t</a></span>, <span class='typeidentifier' title='Position.swift'><a name='250_70' href='Position.swift.html#11_14'>Position</a></span>, <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L251'>0251</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='251_24'>dict</a></span> = <span class='identifier' title='SourceKit.swift'><a name='251_31' href='SourceKit.swift.html#167_11'>SKApi</a></span>.<span class='identifier' title='SourceKit.swift'><a name='251_37' href='SourceKit.swift.html#140_20'>variant_array_get_value</a></span>(<span class='identifier' title='Siteify.swift'><a name='251_61' href='Siteify.swift.html#247_16'>syntaxMap</a></span>, <span class='identifier' title='Siteify.swift'><a name='251_72' href='Siteify.swift.html#250_24'>index</a></span>)
<a class=linenum name='L252'>0252</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='252_24'>offset</a></span> = <span class='identifier' title='Siteify.swift'><a name='252_33' href='Siteify.swift.html#251_24'>dict</a></span>.<span class='identifier' title='SourceKit.swift'><a name='252_38' href='SourceKit.swift.html#28_9'>getInt</a></span>(<span class='identifier' title='SourceKit.swift'><a name='252_45' href='SourceKit.swift.html#28_9'>key</a></span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='252_55' href='Siteify.swift.html#74_8'>sourceKit</a></span>.<span class='identifier' title='SourceKit.swift'><a name='252_65' href='SourceKit.swift.html#183_20'>offsetID</a></span>)
<a class=linenum name='L253'>0253</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='253_24'>length</a></span> = <span class='identifier' title='Siteify.swift'><a name='253_33' href='Siteify.swift.html#251_24'>dict</a></span>.<span class='identifier' title='SourceKit.swift'><a name='253_38' href='SourceKit.swift.html#28_9'>getInt</a></span>(<span class='identifier' title='SourceKit.swift'><a name='253_45' href='SourceKit.swift.html#28_9'>key</a></span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='253_55' href='Siteify.swift.html#74_8'>sourceKit</a></span>.<span class='identifier' title='SourceKit.swift'><a name='253_65' href='SourceKit.swift.html#200_20'>lengthID</a></span>)
<a class=linenum name='L254'>0254</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='254_24'>pre</a></span> = <span class='identifier' title='Siteify.swift'><a name='254_30' href='Siteify.swift.html#211_17'>skipTo</a></span>(<span class='identifier' title='Siteify.swift'><a name='254_37' href='Siteify.swift.html#211_17'>offset</a></span>: <span class='identifier' title='Siteify.swift'><a name='254_45' href='Siteify.swift.html#252_24'>offset</a></span>)
<a class=linenum name='L255'>0255</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='255_24'>pos</a></span> = <span class='identifier' title='Position.swift'><a name='255_30' href='Position.swift.html#11_14'>Position</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>line</span>: <span class='identifier' title='Siteify.swift'><a name='255_45' href='Siteify.swift.html#203_40'>lineno</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>character</span>: <span class='identifier' title='Siteify.swift'><a name='255_64' href='Siteify.swift.html#203_52'>col</a></span>)
<a class=linenum name='L256'>0256</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='256_24'>text</a></span> = <span class='identifier' title='Siteify.swift'><a name='256_31' href='Siteify.swift.html#211_17'>skipTo</a></span>(<span class='identifier' title='Siteify.swift'><a name='256_38' href='Siteify.swift.html#211_17'>offset</a></span>: <span class='identifier' title='Siteify.swift'><a name='256_46' href='Siteify.swift.html#252_24'>offset</a></span>+<span class='identifier' title='Siteify.swift'><a name='256_53' href='Siteify.swift.html#253_24'>length</a></span>)
<a class=linenum name='L257'>0257</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> (<span class='identifier' title='Siteify.swift'><a name='257_28' href='Siteify.swift.html#254_24'>pre</a></span>, <span class='identifier' title='Siteify.swift'><a name='257_33' href='Siteify.swift.html#251_24'>dict</a></span>, <span class='identifier' title='Siteify.swift'><a name='257_39' href='Siteify.swift.html#255_24'>pos</a></span>, <span class='identifier' title='Siteify.swift'><a name='257_44' href='Siteify.swift.html#256_24'>text</a></span>)
<a class=linenum name='L258'>0258</a>                }.<span class='identifier' title='Parallelize.swift'><a name='258_14' href='Parallelize.swift.html#25_9'>concurrentMap</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>maxConcurrency</span>: <span class='number' title='source.lang.swift.syntaxtype.number'>1</span>
<a class=linenum name='L259'>0259</a>                                <span class='comment' title='source.lang.swift.syntaxtype.comment'>/* cannot multithread per file */</span>) {
<a class=linenum name='L260'>0260</a>                    (<span class='identifier' title='Siteify.swift'><a name='260_17'>arg0</a></span>, <span class='identifier' title='Siteify.swift'><a name='260_23'>completion</a></span>: <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>@escaping</span> (<span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Void</span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L261'>0261</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> (<span class='identifier' title='Siteify.swift'><a name='261_21'>pre</a></span>, <span class='identifier' title='Siteify.swift'><a name='261_26'>dict</a></span>, <span class='identifier' title='Siteify.swift'><a name='261_32'>pos</a></span>, <span class='identifier' title='Siteify.swift'><a name='261_37'>text</a></span>) = <span class='identifier' title='Siteify.swift'><a name='261_45' href='Siteify.swift.html#260_17'>arg0</a></span>
<a class=linenum name='L262'>0262</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='262_20'>kind</a></span> = <span class='identifier' title='Siteify.swift'><a name='262_27' href='Siteify.swift.html#261_26'>dict</a></span>.<span class='identifier' title='SourceKit.swift'><a name='262_32' href='SourceKit.swift.html#37_9'>getUUIDString</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>key</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='262_56' href='Siteify.swift.html#74_8'>sourceKit</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>kindID</span>)
<a class=linenum name='L263'>0263</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='263_20'>kindID</a></span> = <span class='identifier' title='SourceKit.swift'><a name='263_29' href='SourceKit.swift.html#167_11'>SKApi</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>variant_dictionary_get_uid</span>(<span class='identifier' title='Siteify.swift'><a name='263_62' href='Siteify.swift.html#261_26'>dict</a></span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='263_73' href='Siteify.swift.html#74_8'>sourceKit</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>kindID</span>)
<a class=linenum name='L264'>0264</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='264_20'>kindSuffix</a></span> = <span class='identifier' title='NSURL.h'>NSURL</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>fileURLWithPath</span>: <span class='identifier' title='Siteify.swift'><a name='264_56' href='Siteify.swift.html#262_20'>kind</a></span>).<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>pathExtension</span>!
<a class=linenum name='L265'>0265</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='265_20'>completion2</a></span> = { (<span class='identifier' title='Siteify.swift'><a name='265_37'>span</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>, <span class='identifier' title='Siteify.swift'><a name='265_51'>title</a></span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>Any</span>?) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L266'>0266</a>                        <span class='identifier' title='Siteify.swift'><a name='266_20' href='Siteify.swift.html#260_23'>completion</a></span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='266_34' href='Siteify.swift.html#261_21'>pre</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;span class='</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='266_53' href='Siteify.swift.html#264_20'>kindSuffix</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>'</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='266_67' href='Siteify.swift.html#265_51'>title</a></span> != <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span> ? <span class='string' title='source.lang.swift.syntaxtype.string'>" title='</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='266_93' href='Siteify.swift.html#265_51'>title</a></span>!<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>'"</span> : <span class='string' title='source.lang.swift.syntaxtype.string'>""</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='266_111' href='Siteify.swift.html#265_37'>span</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;/span>"</span>)
<a class=linenum name='L267'>0267</a>                    }
<a class=linenum name='L268'>0268</a>    
<a class=linenum name='L269'>0269</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='269_19' href='Siteify.swift.html#264_20'>kindSuffix</a></span> == <span class='string' title='source.lang.swift.syntaxtype.string'>"url"</span> {
<a class=linenum name='L270'>0270</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='270_27' href='Siteify.swift.html#265_20'>completion2</a></span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;a href='</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='270_51' href='Siteify.swift.html#261_37'>text</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>'></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='270_60' href='Siteify.swift.html#261_37'>text</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;/a>"</span>, <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>)
<a class=linenum name='L271'>0271</a>                    }
<a class=linenum name='L272'>0272</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>guard</span> <span class='identifier' title='Siteify.swift'><a name='272_22' href='Siteify.swift.html#263_20'>kindID</a></span> == <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='272_37' href='Siteify.swift.html#74_8'>sourceKit</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>identifierID</span> ||
<a class=linenum name='L273'>0273</a>                        <span class='identifier' title='Siteify.swift'><a name='273_20' href='Siteify.swift.html#263_20'>kindID</a></span> == <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='273_35' href='Siteify.swift.html#74_8'>sourceKit</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>typeID</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> {
<a class=linenum name='L274'>0274</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='274_27' href='Siteify.swift.html#265_20'>completion2</a></span>(<span class='identifier' title='Siteify.swift'><a name='274_39' href='Siteify.swift.html#261_37'>text</a></span>, <span class='identifier' title='Siteify.swift'><a name='274_45' href='Siteify.swift.html#262_20'>kind</a></span>)
<a class=linenum name='L275'>0275</a>                    }
<a class=linenum name='L276'>0276</a>    
<a class=linenum name='L277'>0277</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='277_20'>docPos</a></span> = <span class='identifier' title='Basic.swift'><a name='277_29' href='Basic.swift.html#119_14'>TextDocumentPositionParams</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>textDocument</span>: <span class='identifier' title='Siteify.swift'><a name='277_70' href='Siteify.swift.html#196_12'>docId</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>position</span>: <span class='identifier' title='Siteify.swift'><a name='277_87' href='Siteify.swift.html#261_32'>pos</a></span>)
<a class=linenum name='L278'>0278</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>lspServer</span>.<span class='identifier' title='LanguageServer.swift'><a name='278_31' href='LanguageServer.swift.html#65_9'>definition</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>params</span>: <span class='identifier' title='Siteify.swift'><a name='278_50' href='Siteify.swift.html#277_20'>docPos</a></span>) { <span class='identifier' title='Siteify.swift'><a name='278_60'>result</a></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L279'>0279</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>switch</span> <span class='identifier' title='Siteify.swift'><a name='279_27' href='Siteify.swift.html#278_60'>result</a></span> {
<a class=linenum name='L280'>0280</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>success</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='280_38'>value</a></span>):
<a class=linenum name='L281'>0281</a>                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>switch</span> <span class='identifier' title='Siteify.swift'><a name='281_31' href='Siteify.swift.html#280_38'>value</a></span> {
<a class=linenum name='L282'>0282</a>                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='TypeDefinition.swift'><a name='282_30' href='TypeDefinition.swift.html#13_9'>locationArray</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='282_48'>array</a></span>):
<a class=linenum name='L283'>0283</a>                                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>guard</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='283_38'>decl</a></span> = <span class='identifier' title='Siteify.swift'><a name='283_45' href='Siteify.swift.html#282_48'>array</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>first</span> ??
<a class=linenum name='L284'>0284</a>                                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='284_37' href='Siteify.swift.html#133_8'>referencesLock</a></span>.<span class='identifier' title='Parallelize.swift'><a name='284_52' href='Parallelize.swift.html#17_16'>synchronized</a></span>({
<a class=linenum name='L285'>0285</a>                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>referencesFallback</span>[<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>Loc</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>path</span>: <span class='identifier' title='Siteify.swift'><a name='285_70' href='Siteify.swift.html#178_12'>fullpath</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>pos</span>: <span class='identifier' title='Siteify.swift'><a name='285_85' href='Siteify.swift.html#261_32'>pos</a></span>)]
<a class=linenum name='L286'>0286</a>                                    }) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> {
<a class=linenum name='L287'>0287</a>                                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='287_39' href='Siteify.swift.html#265_20'>completion2</a></span>(<span class='identifier' title='Siteify.swift'><a name='287_51' href='Siteify.swift.html#261_37'>text</a></span>, <span class='string' title='source.lang.swift.syntaxtype.string'>"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='287_60' href='Siteify.swift.html#278_60'>result</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L288'>0288</a>                                }
<a class=linenum name='L289'>0289</a>                                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='289_31' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span> == <span class='identifier' title='Siteify.swift'><a name='289_44' href='Siteify.swift.html#178_12'>fullpath</a></span> &amp;&amp; <span class='identifier' title='Siteify.swift'><a name='289_56' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='Location.swift'><a name='289_61' href='Location.swift.html#13_15'>range</a></span>.<span class='identifier' title='LSPRange.swift'><a name='289_67' href='LSPRange.swift.html#12_15'>start</a></span> == <span class='identifier' title='Siteify.swift'><a name='289_76' href='Siteify.swift.html#261_32'>pos</a></span> {
<a class=linenum name='L290'>0290</a>                                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>lspServer</span>.<span class='identifier' title='LanguageServer.swift'><a name='290_47' href='LanguageServer.swift.html#73_9'>references</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>params</span>: <span class='identifier' title='Reference.swift'><a name='290_66' href='Reference.swift.html#19_14'>ReferenceParams</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>textDocument</span>: <span class='identifier' title='TextDocumentIndentifier.swift'><a name='290_96' href='TextDocumentIndentifier.swift.html#11_14'>TextDocumentIdentifier</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>path</span>: <span class='identifier' title='Siteify.swift'><a name='290_125' href='Siteify.swift.html#178_12'>fullpath</a></span>), <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>position</span>: <span class='identifier' title='Siteify.swift'><a name='290_146' href='Siteify.swift.html#261_32'>pos</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>context</span>: <span class='identifier' title='Reference.swift'><a name='290_160' href='Reference.swift.html#11_14'>ReferenceContext</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>includeDeclaration</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>false</span>))) { <span class='identifier' title='Siteify.swift'><a name='290_208'>result</a></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L291'>0291</a>                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>switch</span> <span class='identifier' title='Siteify.swift'><a name='291_43' href='Siteify.swift.html#290_208'>result</a></span> {
<a class=linenum name='L292'>0292</a>                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>success</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='292_54'>refs</a></span>):
<a class=linenum name='L293'>0293</a>                                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='293_44'>markup</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>?
<a class=linenum name='L294'>0294</a>                                            
<a class=linenum name='L295'>0295</a>                                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='295_45'>processRefs</a></span>() {
<a class=linenum name='L296'>0296</a>                                                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='296_51'>refs</a></span> = <span class='identifier' title='Siteify.swift'><a name='296_58' href='Siteify.swift.html#292_54'>refs</a></span>, <span class='identifier' title='Siteify.swift'><a name='296_64' href='Siteify.swift.html#296_51'>refs</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>count</span> > <span class='number' title='source.lang.swift.syntaxtype.number'>0</span> &amp;&amp;
<a class=linenum name='L297'>0297</a>                                                    <span class='identifier' title='Siteify.swift'><a name='297_48' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>starts</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>with</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='297_76' href='Siteify.swift.html#77_8'>projectRoot</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>path</span>) {
<a class=linenum name='L298'>0298</a>                                                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='298_52'>popup</a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>""</span>
<a class=linenum name='L299'>0299</a>                                                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>for</span> <span class='identifier' title='Siteify.swift'><a name='299_52'>ref</a></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span> <span class='identifier' title='Siteify.swift'><a name='299_59' href='Siteify.swift.html#296_51'>refs</a></span> {
<a class=linenum name='L300'>0300</a>                                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='300_56'>keepListOpen</a></span> = <span class='identifier' title='Siteify.swift'><a name='300_71' href='Siteify.swift.html#299_52'>ref</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span> != <span class='identifier' title='Siteify.swift'><a name='300_83' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span> ? <span class='string' title='source.lang.swift.syntaxtype.string'>"event.stopPropagation(); "</span> : <span class='string' title='source.lang.swift.syntaxtype.string'>""</span>
<a class=linenum name='L301'>0301</a>                                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='301_55' href='Siteify.swift.html#299_52'>ref</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>href</span> == <span class='identifier' title='Siteify.swift'><a name='301_67' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>href</span> {
<a class=linenum name='L302'>0302</a>                                                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>continue</span>
<a class=linenum name='L303'>0303</a>                                                        }
<a class=linenum name='L304'>0304</a>                                                        <span class='identifier' title='Siteify.swift'><a name='304_52' href='Siteify.swift.html#298_52'>popup</a></span> += <span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;tr>&lt;td style='text-decoration: underline;' onclick='document.location.href=\"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='304_142' href='Siteify.swift.html#299_52'>ref</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>href</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>\"; </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='304_157' href='Siteify.swift.html#300_56'>keepListOpen</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>return false;'></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='304_187' href='Siteify.swift.html#299_52'>ref</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>filebase</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>:</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='304_203' href='Siteify.swift.html#299_52'>ref</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>line</span>+<span class='number' title='source.lang.swift.syntaxtype.number'>1</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;/td>"</span>
<a class=linenum name='L305'>0305</a>                                                        <span class='identifier' title='Siteify.swift'><a name='305_52' href='Siteify.swift.html#298_52'>popup</a></span> += <span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;td>&lt;pre></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>reflines</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span>: <span class='identifier' title='Siteify.swift'><a name='305_88' href='Siteify.swift.html#299_52'>ref</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>line</span>: <span class='identifier' title='Siteify.swift'><a name='305_104' href='Siteify.swift.html#299_52'>ref</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>line</span>)<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;/pre>&lt;/td>"</span>
<a class=linenum name='L306'>0306</a>                                                    }
<a class=linenum name='L307'>0307</a>                                                    <span class='identifier' title='Siteify.swift'><a name='307_48' href='Siteify.swift.html#265_20'>completion2</a></span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;a name='</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='307_72' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>anchor</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>' </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='307_88' href='Siteify.swift.html#298_52'>popup</a></span> != <span class='string' title='source.lang.swift.syntaxtype.string'>""</span> ? <span class='string' title='source.lang.swift.syntaxtype.string'>"href='#' "</span> : <span class='string' title='source.lang.swift.syntaxtype.string'>""</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>onclick='return expand(this);'>"</span> +
<a class=linenum name='L308'>0308</a>                                                        <span class='string' title='source.lang.swift.syntaxtype.string'>"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='308_55' href='Siteify.swift.html#261_37'>text</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;span class='references'>&lt;table></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='308_94' href='Siteify.swift.html#293_44'>markup</a></span> != <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span> ? <span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;tr>&lt;td colspan=2></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>HTML</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>fromMarkup</span>: <span class='identifier' title='Siteify.swift'><a name='308_148' href='Siteify.swift.html#293_44'>markup</a></span>!)<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span> : <span class='string' title='source.lang.swift.syntaxtype.string'>""</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='308_166' href='Siteify.swift.html#298_52'>popup</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;/table>&lt;/span>&lt;/a>"</span>, <span class='string' title='source.lang.swift.syntaxtype.string'>"usrString2"</span>)
<a class=linenum name='L309'>0309</a>                                                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='309_53' href='Siteify.swift.html#133_8'>referencesLock</a></span>.<span class='identifier' title='Parallelize.swift'><a name='309_68' href='Parallelize.swift.html#17_16'>synchronized</a></span> {
<a class=linenum name='L310'>0310</a>                                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>for</span> <span class='identifier' title='Siteify.swift'><a name='310_56'>ref</a></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span> <span class='identifier' title='Siteify.swift'><a name='310_63' href='Siteify.swift.html#296_51'>refs</a></span> {
<a class=linenum name='L311'>0311</a>                                                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>referencesFallback</span>[<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>Loc</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>path</span>: <span class='identifier' title='Siteify.swift'><a name='311_90' href='Siteify.swift.html#310_56'>ref</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>pos</span>: <span class='identifier' title='Siteify.swift'><a name='311_105' href='Siteify.swift.html#310_56'>ref</a></span>.<span class='identifier' title='Location.swift'><a name='311_109' href='Location.swift.html#13_15'>range</a></span>.<span class='identifier' title='LSPRange.swift'><a name='311_115' href='LSPRange.swift.html#12_15'>start</a></span>)] = <span class='identifier' title='Siteify.swift'><a name='311_125' href='Siteify.swift.html#283_38'>decl</a></span>
<a class=linenum name='L312'>0312</a>                                                        }
<a class=linenum name='L313'>0313</a>                                                    }
<a class=linenum name='L314'>0314</a>                                                } <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> {
<a class=linenum name='L315'>0315</a>                                                    <span class='identifier' title='Siteify.swift'><a name='315_48' href='Siteify.swift.html#265_20'>completion2</a></span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;a name='</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='315_72' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>anchor</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>'></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='315_88' href='Siteify.swift.html#261_37'>text</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;/a>"</span>, <span class='identifier' title='Siteify.swift'><a name='315_100' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>filebase</span>)
<a class=linenum name='L316'>0316</a>                                                }
<a class=linenum name='L317'>0317</a>                                            }
<a class=linenum name='L318'>0318</a>    
<a class=linenum name='L319'>0319</a>                                            <span class='comment' title='source.lang.swift.syntaxtype.comment'>// cannot multithread "hover" requests
<a class=linenum name='L320'>0320</a>    </span>                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='320_48' href='Siteify.swift.html#78_8'>fileThreads</a></span> > <span class='number' title='source.lang.swift.syntaxtype.number'>1</span> {
<a class=linenum name='L321'>0321</a>                                                <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>processRefs</span>()
<a class=linenum name='L322'>0322</a>                                            } <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> {
<a class=linenum name='L323'>0323</a>                                                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>lspServer</span>.<span class='identifier' title='LanguageServer.swift'><a name='323_59' href='LanguageServer.swift.html#62_9'>hover</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>params</span>: <span class='identifier' title='Siteify.swift'><a name='323_73' href='Siteify.swift.html#277_20'>docPos</a></span>) { <span class='identifier' title='Siteify.swift'><a name='323_83'>result</a></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L324'>0324</a>                                                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>switch</span> <span class='identifier' title='Siteify.swift'><a name='324_55' href='Siteify.swift.html#323_83'>result</a></span> {
<a class=linenum name='L325'>0325</a>                                                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>success</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='325_66'>value</a></span>):
<a class=linenum name='L326'>0326</a>                                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>switch</span> <span class='identifier' title='Siteify.swift'><a name='326_59' href='Siteify.swift.html#325_66'>value</a></span>.<span class='identifier' title='LanguageFeatures.swift'><a name='326_65' href='LanguageFeatures.swift.html#226_15'>contents</a></span> {
<a class=linenum name='L327'>0327</a>                                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='LanguageFeatures.swift'><a name='327_58' href='LanguageFeatures.swift.html#193_9'>markupContent</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='327_76'>content</a></span>):
<a class=linenum name='L328'>0328</a>                                                            <span class='identifier' title='Siteify.swift'><a name='328_56' href='Siteify.swift.html#293_44'>markup</a></span> = <span class='identifier' title='Siteify.swift'><a name='328_65' href='Siteify.swift.html#327_76'>content</a></span>.<span class='identifier' title='Basic.swift'><a name='328_73' href='Basic.swift.html#139_15'>value</a></span>
<a class=linenum name='L329'>0329</a>                                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>default</span>:
<a class=linenum name='L330'>0330</a>                                                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>break</span>
<a class=linenum name='L331'>0331</a>                                                        }
<a class=linenum name='L332'>0332</a>                                                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>default</span>:
<a class=linenum name='L333'>0333</a>                                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>break</span>
<a class=linenum name='L334'>0334</a>                                                    }
<a class=linenum name='L335'>0335</a>                                                    <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>processRefs</span>()
<a class=linenum name='L336'>0336</a>                                                }
<a class=linenum name='L337'>0337</a>                                            }
<a class=linenum name='L338'>0338</a>                                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>failure</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='338_54'>err</a></span>):
<a class=linenum name='L339'>0339</a>                                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='339_47' href='Siteify.swift.html#265_20'>completion2</a></span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"#ERROR </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='339_69' href='Siteify.swift.html#261_37'>text</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>, <span class='identifier' title='Siteify.swift'><a name='339_77' href='Siteify.swift.html#338_54'>err</a></span>)
<a class=linenum name='L340'>0340</a>                                        }
<a class=linenum name='L341'>0341</a>                                    }
<a class=linenum name='L342'>0342</a>                                } <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='342_38' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>starts</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>with</span>: <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='342_66' href='Siteify.swift.html#77_8'>projectRoot</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>path</span>) {
<a class=linenum name='L343'>0343</a>                                    <span class='identifier' title='Siteify.swift'><a name='343_32' href='Siteify.swift.html#265_20'>completion2</a></span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;a name='</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='343_56' href='Siteify.swift.html#261_32'>pos</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>anchor</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>' href='</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='343_77' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>href</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>'></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='343_91' href='Siteify.swift.html#261_37'>text</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;/a>"</span>, <span class='identifier' title='Siteify.swift'><a name='343_103' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>filebase</span>)
<a class=linenum name='L344'>0344</a>                                } <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> {
<a class=linenum name='L345'>0345</a>                                    <span class='identifier' title='Siteify.swift'><a name='345_32' href='Siteify.swift.html#265_20'>completion2</a></span>(<span class='identifier' title='Siteify.swift'><a name='345_44' href='Siteify.swift.html#261_37'>text</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>URL</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>fileURLWithPath</span>: <span class='identifier' title='Siteify.swift'><a name='345_71' href='Siteify.swift.html#283_38'>decl</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span>).<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>lastPathComponent</span>)
<a class=linenum name='L346'>0346</a>                                }
<a class=linenum name='L347'>0347</a>                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>default</span>:
<a class=linenum name='L348'>0348</a>                                <span class='identifier' title='Siteify.swift'><a name='348_28' href='Siteify.swift.html#265_20'>completion2</a></span>(<span class='identifier' title='Siteify.swift'><a name='348_40' href='Siteify.swift.html#261_37'>text</a></span>, <span class='string' title='source.lang.swift.syntaxtype.string'>"default: </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='348_58' href='Siteify.swift.html#278_60'>result</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L349'>0349</a>                            }
<a class=linenum name='L350'>0350</a>    
<a class=linenum name='L351'>0351</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>failure</span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='351_38'>err</a></span>):
<a class=linenum name='L352'>0352</a>                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='352_31' href='Siteify.swift.html#265_20'>completion2</a></span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"#ERR </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='352_51' href='Siteify.swift.html#261_37'>text</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>, <span class='identifier' title='Siteify.swift'><a name='352_59' href='Siteify.swift.html#351_38'>err</a></span>)
<a class=linenum name='L353'>0353</a>                        }
<a class=linenum name='L354'>0354</a>                    }
<a class=linenum name='L355'>0355</a>                }.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>joined</span>() + <span class='identifier' title='Siteify.swift'><a name='355_25' href='Siteify.swift.html#211_17'>skipTo</a></span>(<span class='identifier' title='Siteify.swift'><a name='355_32' href='Siteify.swift.html#211_17'>offset</a></span>: <span class='identifier' title='Siteify.swift'><a name='355_40' href='Siteify.swift.html#186_18'>data</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>count</span>)
<a class=linenum name='L356'>0356</a>    
<a class=linenum name='L357'>0357</a>                <span class='identifier' title='Siteify.swift'><a name='357_12' href='Siteify.swift.html#203_40'>lineno</a></span> = <span class='number' title='source.lang.swift.syntaxtype.number'>0</span>
<a class=linenum name='L358'>0358</a>                <span class='identifier' title='Siteify.swift'><a name='358_12' href='Siteify.swift.html#249_16'>html</a></span>[<span class='string' title='source.lang.swift.syntaxtype.string'>"(^|\n)"</span>] = { (<span class='identifier' title='Siteify.swift'><a name='358_32'>groups</a></span>: [<span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>], <span class='identifier' title='Siteify.swift'><a name='358_50'>stop</a></span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L359'>0359</a>                    <span class='identifier' title='Siteify.swift'><a name='359_16' href='Siteify.swift.html#203_40'>lineno</a></span> += <span class='number' title='source.lang.swift.syntaxtype.number'>1</span>
<a class=linenum name='L360'>0360</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='360_23' href='Siteify.swift.html#358_32'>groups</a></span>[<span class='number' title='source.lang.swift.syntaxtype.number'>1</span>] + <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>String</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>format</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;a class=linenum name='L%d'>%04d&lt;/a>    "</span>, <span class='identifier' title='Siteify.swift'><a name='360_94' href='Siteify.swift.html#203_40'>lineno</a></span>, <span class='identifier' title='Siteify.swift'><a name='360_102' href='Siteify.swift.html#203_40'>lineno</a></span>)
<a class=linenum name='L361'>0361</a>                }
<a class=linenum name='L362'>0362</a>    
<a class=linenum name='L363'>0363</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='363_16'>htmlFILE</a></span> = <span class='identifier' title='Siteify.swift'><a name='363_27' href='Siteify.swift.html#394_9'>copyTemplate</a></span>(<span class='identifier' title='Siteify.swift'><a name='363_40' href='Siteify.swift.html#394_9'>template</a></span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"source.html"</span>, <span class='identifier' title='Siteify.swift'><a name='363_65' href='Siteify.swift.html#394_9'>patches</a></span>: [
<a class=linenum name='L364'>0364</a>                    <span class='string' title='source.lang.swift.syntaxtype.string'>"__FILE__"</span>: <span class='identifier' title='Siteify.swift'><a name='364_28' href='Siteify.swift.html#177_28'>relative</a></span>], <span class='identifier' title='Siteify.swift'><a name='364_39' href='Siteify.swift.html#394_9'>dest</a></span>: <span class='identifier' title='Siteify.swift'><a name='364_45' href='Siteify.swift.html#79_8'>htmlRoot</a></span>+<span class='string' title='source.lang.swift.syntaxtype.string'>"/"</span>+<span class='identifier' title='Siteify.swift'><a name='364_58' href='Siteify.swift.html#179_12'>htmlfile</a></span>)
<a class=linenum name='L365'>0365</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> = <span class='identifier' title='Siteify.swift'><a name='365_16' href='Siteify.swift.html#249_16'>html</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>withCString</span> { <span class='identifier' title='stdio.h'>fputs</span>(<span class='identifier' title='Siteify.swift'><a name='365_41' href='Siteify.swift.html#365_33'>$0</a></span>, <span class='identifier' title='Siteify.swift'><a name='365_45' href='Siteify.swift.html#363_16'>htmlFILE</a></span>) }
<a class=linenum name='L366'>0366</a>                <span class='identifier' title='stdio.h'>fclose</span>(<span class='identifier' title='Siteify.swift'><a name='366_19' href='Siteify.swift.html#363_16'>htmlFILE</a></span>)
<a class=linenum name='L367'>0367</a>    
<a class=linenum name='L368'>0368</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='368_15' href='Siteify.swift.html#178_12'>fullpath</a></span>.<span class='identifier' title='SwiftRegex.swift'><a name='368_24' href='SwiftRegex.swift.html#91_16'>containsMatch</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>of</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>#"\.(swift|mm?|h)$"#</span>) {
<a class=linenum name='L369'>0369</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>switch</span> <span class='identifier' title='Siteify.swift'><a name='369_23' href='Siteify.swift.html#180_12'>synchronizer</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>sync</span>({
<a class=linenum name='L370'>0370</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>lspServer</span>.<span class='identifier' title='LanguageServer.swift'><a name='370_35' href='LanguageServer.swift.html#68_9'>documentSymbol</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>params</span>: <span class='identifier' title='DocumentSymbol.swift'><a name='370_58' href='DocumentSymbol.swift.html#11_14'>DocumentSymbolParams</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>textDocument</span>: <span class='identifier' title='Siteify.swift'><a name='370_93' href='Siteify.swift.html#196_12'>docId</a></span>), <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>block</span>: <span class='identifier' title='Siteify.swift'><a name='370_108' href='Siteify.swift.html#369_41'>$0</a></span>)
<a class=linenum name='L371'>0371</a>                    }) {
<a class=linenum name='L372'>0372</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>case</span> .<span class='identifier' title='DocumentSymbol.swift'><a name='372_22' href='DocumentSymbol.swift.html#26_9'>documentSymbols</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='372_42'>filesyms</a></span>):
<a class=linenum name='L373'>0373</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='373_24'>htmlfile</a></span> = <span class='identifier' title='Siteify.swift'><a name='373_35' href='Siteify.swift.html#23_5'>htmlFile</a></span>(<span class='identifier' title='Siteify.swift'><a name='373_44' href='Siteify.swift.html#178_12'>fullpath</a></span>)
<a class=linenum name='L374'>0374</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='Siteify.swift'><a name='374_25' href='Siteify.swift.html#131_8'>symbolsLock</a></span>.<span class='identifier' title='Parallelize.swift'><a name='374_37' href='Parallelize.swift.html#17_16'>synchronized</a></span> {
<a class=linenum name='L375'>0375</a>                            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>packageSymbols</span>[<span class='identifier' title='Siteify.swift'><a name='375_44' href='Siteify.swift.html#373_24'>htmlfile</a></span>] = <span class='identifier' title='Siteify.swift'><a name='375_56' href='Siteify.swift.html#372_42'>filesyms</a></span>
<a class=linenum name='L376'>0376</a>                        }
<a class=linenum name='L377'>0377</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>default</span>:
<a class=linenum name='L378'>0378</a>                        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>break</span>
<a class=linenum name='L379'>0379</a>                    }
<a class=linenum name='L380'>0380</a>                }
<a class=linenum name='L381'>0381</a>    
<a class=linenum name='L382'>0382</a>                <span class='identifier' title='Siteify.swift'><a name='382_12' href='Siteify.swift.html#180_12'>synchronizer</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>sync</span> {
<a class=linenum name='L383'>0383</a>                    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>lspServer</span>.<span class='identifier' title='LanguageServer.swift'><a name='383_31' href='LanguageServer.swift.html#56_9'>didCloseTextDocument</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>params</span>: <span class='identifier' title='TextSynchronization.swift'><a name='383_60' href='TextSynchronization.swift.html#78_14'>DidCloseTextDocumentParams</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>textDocument</span>: <span class='identifier' title='Siteify.swift'><a name='383_101' href='Siteify.swift.html#196_12'>docId</a></span>), <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>block</span>: <span class='identifier' title='Siteify.swift'><a name='383_116' href='Siteify.swift.html#382_30'>$0</a></span>)
<a class=linenum name='L384'>0384</a>                }
<a class=linenum name='L385'>0385</a>                <span class='identifier' title='SourceKit.swift'><a name='385_12' href='SourceKit.swift.html#167_11'>SKApi</a></span>.<span class='identifier' title='SourceKit.swift'><a name='385_18' href='SourceKit.swift.html#127_20'>response_dispose</a></span>(<span class='identifier' title='Siteify.swift'><a name='385_35' href='Siteify.swift.html#245_16'>resp</a></span>)
<a class=linenum name='L386'>0386</a>    
<a class=linenum name='L387'>0387</a>                <span class='identifier' title='Siteify.swift'><a name='387_12' href='Siteify.swift.html#81_9'>progress</a></span>(<span class='identifier' title='Siteify.swift'><a name='387_21' href='Siteify.swift.html#81_9'>str</a></span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"Saved </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='387_35' href='Siteify.swift.html#79_8'>htmlRoot</a></span>!<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>/</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='387_48' href='Siteify.swift.html#179_12'>htmlfile</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L388'>0388</a>            }
<a class=linenum name='L389'>0389</a>        }
<a class=linenum name='L390'>0390</a>    
<a class=linenum name='L391'>0391</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='391_8' href='#' onclick='return expand(this);'>home<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#150_66"; return false;'>Siteify.swift:150</td><td><pre>            "__ROOT__": projectRoot.path.replacingOccurrences(of: home, with: "~")])</pre></td></table></span></a></span> = <span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>(<span class='identifier' title='x86_64-apple-macos.swiftmodule'>cString</span>: <span class='identifier' title='stdlib.h'>getenv</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"HOME"</span>))
<a class=linenum name='L392'>0392</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='392_8' onclick='return expand(this);'>resources<span class='references'><table></table></span></a></span> = <span class='identifier' title='x86_64-apple-macos.swiftmodule'>String</span>(<span class='identifier' title='x86_64-apple-macos.swiftmodule'>cString</span>: <span class='identifier' title='stdlib.h'>getenv</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"HOME"</span>))+<span class='string' title='source.lang.swift.syntaxtype.string'>"/Library/siteify/"</span>
<a class=linenum name='L393'>0393</a>    
<a class=linenum name='L394'>0394</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><a name='394_9' href='#' onclick='return expand(this);'>copyTemplate<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#147_15"; return false;'>Siteify.swift:147</td><td><pre>        fclose(copyTemplate(template: "siteify.css"))</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#148_20"; return false;'>Siteify.swift:148</td><td><pre>        indexFILE = copyTemplate(template: "index.html", patches: [</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#163_23"; return false;'>Siteify.swift:163</td><td><pre>        let xrefFILE = copyTemplate(template: "symbols.html")</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#363_27"; return false;'>Siteify.swift:363</td><td><pre>            let htmlFILE = copyTemplate(template: "source.html", patches: [</pre></td></table></span></a></span>(<span class='identifier' title='usrString2'><a name='394_22' href='#' onclick='return expand(this);'>template<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#395_35"; return false;'>Siteify.swift:395</td><td><pre>        var input = Self.resources[template]!</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#399_44"; return false;'>Siteify.swift:399</td><td><pre>        let filename = dest ?? htmlRoot+"/"+template</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>, <span class='identifier' title='usrString2'><a name='394_40' href='#' onclick='return expand(this);'>patches<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#396_28"; return false;'>Siteify.swift:396</td><td><pre>        for (tag, value) in patches {</pre></td></table></span></a></span>: [<span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>] = [:], <span class='identifier' title='usrString2'><a name='394_73' href='#' onclick='return expand(this);'>dest<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#399_23"; return false;'>Siteify.swift:399</td><td><pre>        let filename = dest ?? htmlRoot+"/"+template</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>? = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>nil</span>) -> <span class='typeidentifier' title='x86_64.swiftmodule'>UnsafeMutablePointer</span>&lt;<span class='typeidentifier' title='_stdio.h'>FILE</span>> {
<a class=linenum name='L395'>0395</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='395_12'>input</a></span> = <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>Self</span>.<span class='identifier' title='Resources.swift'><a name='395_25' href='Resources.swift.html#10_15'>resources</a></span>[<span class='identifier' title='Siteify.swift'><a name='395_35' href='Siteify.swift.html#394_22'>template</a></span>]!
<a class=linenum name='L396'>0396</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>for</span> (<span class='identifier' title='Siteify.swift'><a name='396_13'>tag</a></span>, <span class='identifier' title='Siteify.swift'><a name='396_18'>value</a></span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span> <span class='identifier' title='Siteify.swift'><a name='396_28' href='Siteify.swift.html#394_40'>patches</a></span> {
<a class=linenum name='L397'>0397</a>                <span class='identifier' title='Siteify.swift'><a name='397_12' href='Siteify.swift.html#395_12'>input</a></span> = <span class='identifier' title='Siteify.swift'><a name='397_20' href='Siteify.swift.html#395_12'>input</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>replacingOccurrences</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>of</span>: <span class='identifier' title='Siteify.swift'><a name='397_51' href='Siteify.swift.html#396_13'>tag</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>with</span>: <span class='identifier' title='Siteify.swift'><a name='397_62' href='Siteify.swift.html#396_18'>value</a></span>)
<a class=linenum name='L398'>0398</a>            }
<a class=linenum name='L399'>0399</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='399_12'>filename</a></span> = <span class='identifier' title='Siteify.swift'><a name='399_23' href='Siteify.swift.html#394_73'>dest</a></span> ?? <span class='identifier' title='Siteify.swift'><a name='399_31' href='Siteify.swift.html#79_8'>htmlRoot</a></span>+<span class='string' title='source.lang.swift.syntaxtype.string'>"/"</span>+<span class='identifier' title='Siteify.swift'><a name='399_44' href='Siteify.swift.html#394_22'>template</a></span>
<a class=linenum name='L400'>0400</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>guard</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='400_18'>outFILE</a></span> = <span class='identifier' title='stdio.h'>fopen</span>(<span class='identifier' title='Siteify.swift'><a name='400_34' href='Siteify.swift.html#399_12'>filename</a></span>, <span class='string' title='source.lang.swift.syntaxtype.string'>"w"</span>) <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>else</span> {
<a class=linenum name='L401'>0401</a>                <span class='identifier' title='x86_64.swiftmodule'>fatalError</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"Could not open output file: </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='401_54' href='Siteify.swift.html#399_12'>filename</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L402'>0402</a>            }
<a class=linenum name='L403'>0403</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> = <span class='identifier' title='Siteify.swift'><a name='403_12' href='Siteify.swift.html#395_12'>input</a></span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>withCString</span> { <span class='identifier' title='stdio.h'>fputs</span>(<span class='identifier' title='Siteify.swift'><a name='403_38' href='Siteify.swift.html#403_30'>$0</a></span>, <span class='identifier' title='Siteify.swift'><a name='403_42' href='Siteify.swift.html#400_18'>outFILE</a></span>) }
<a class=linenum name='L404'>0404</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='404_15' href='Siteify.swift.html#400_18'>outFILE</a></span>
<a class=linenum name='L405'>0405</a>        }
<a class=linenum name='L406'>0406</a>    
<a class=linenum name='L407'>0407</a>        <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='407_16'>languageServerInitialized</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='Siteify.swift'><a name='407_44'>server</a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='407_52' href='LanguageServer.swift.html#49_16'>LanguageServer</a></span>) {
<a class=linenum name='L408'>0408</a>        }
<a class=linenum name='L409'>0409</a>    
<a class=linenum name='L410'>0410</a>        <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='410_16'>languageServer</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='Siteify.swift'><a name='410_33'>server</a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='410_41' href='LanguageServer.swift.html#49_16'>LanguageServer</a></span>, <span class='identifier' title='Siteify.swift'><a name='410_57' href='Siteify.swift.html#410_16'>logMessage</a></span> <span class='identifier' title='Siteify.swift'><a name='410_68'>message</a></span>: <span class='typeidentifier' title='LogMessageParams.swift'><a name='410_77' href='LogMessageParams.swift.html#11_14'>LogMessageParams</a></span>) {
<a class=linenum name='L411'>0411</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> !<span class='identifier' title='Siteify.swift'><a name='411_12' href='Siteify.swift.html#410_68'>message</a></span>.<span class='identifier' title='LogMessageParams.swift'><a name='411_20' href='LogMessageParams.swift.html#13_15'>message</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>starts</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>with</span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"could not open compilation"</span>) {
<a class=linenum name='L412'>0412</a>                <span class='identifier' title='x86_64.swiftmodule'>NSLog</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"logMessage: </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='412_33' href='Siteify.swift.html#410_68'>message</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L413'>0413</a>            }
<a class=linenum name='L414'>0414</a>        }
<a class=linenum name='L415'>0415</a>    
<a class=linenum name='L416'>0416</a>        <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='416_16'>languageServer</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='Siteify.swift'><a name='416_33'>server</a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='416_41' href='LanguageServer.swift.html#49_16'>LanguageServer</a></span>, <span class='identifier' title='Siteify.swift'><a name='416_57' href='Siteify.swift.html#416_16'>showMessage</a></span> <span class='identifier' title='Siteify.swift'><a name='416_69'>message</a></span>: <span class='typeidentifier' title='ShowMessageParams.swift'><a name='416_78' href='ShowMessageParams.swift.html#11_17'>ShowMessageParams</a></span>) {
<a class=linenum name='L417'>0417</a>            <span class='identifier' title='x86_64.swiftmodule'>NSLog</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"showMessage: </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='417_30' href='Siteify.swift.html#416_69'>message</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L418'>0418</a>        }
<a class=linenum name='L419'>0419</a>    
<a class=linenum name='L420'>0420</a>        <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='420_16'>languageServer</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='Siteify.swift'><a name='420_33'>server</a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='420_41' href='LanguageServer.swift.html#49_16'>LanguageServer</a></span>, <span class='identifier' title='Siteify.swift'><a name='420_57' href='Siteify.swift.html#420_16'>showMessageRequest</a></span> <span class='identifier' title='Siteify.swift'><a name='420_76'>messageRequest</a></span>: <span class='typeidentifier' title='ShowMessageRequest.swift'><a name='420_92' href='ShowMessageRequest.swift.html#11_14'>ShowMessageRequestParams</a></span>) {
<a class=linenum name='L421'>0421</a>            <span class='identifier' title='x86_64.swiftmodule'>NSLog</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"showMessageRequest: </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='421_37' href='Siteify.swift.html#420_76'>messageRequest</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L422'>0422</a>        }
<a class=linenum name='L423'>0423</a>    
<a class=linenum name='L424'>0424</a>        <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='424_16'>languageServer</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='Siteify.swift'><a name='424_33'>server</a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='424_41' href='LanguageServer.swift.html#49_16'>LanguageServer</a></span>, <span class='identifier' title='Siteify.swift'><a name='424_57' href='Siteify.swift.html#424_16'>publishDiagnostics</a></span> <span class='identifier' title='Siteify.swift'><a name='424_76'>diagnosticsParams</a></span>: <span class='typeidentifier' title='Diagnostics.swift'><a name='424_95' href='Diagnostics.swift.html#52_14'>PublishDiagnosticsParams</a></span>) {
<a class=linenum name='L425'>0425</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='425_11' href='Siteify.swift.html#424_76'>diagnosticsParams</a></span>.<span class='identifier' title='Diagnostics.swift'><a name='425_29' href='Diagnostics.swift.html#54_15'>diagnostics</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>count</span> > <span class='number' title='source.lang.swift.syntaxtype.number'>1</span> {
<a class=linenum name='L426'>0426</a>                <span class='identifier' title='x86_64.swiftmodule'>NSLog</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"publishDiagnostics: </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='426_41' href='Siteify.swift.html#424_76'>diagnosticsParams</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L427'>0427</a>            }
<a class=linenum name='L428'>0428</a>        }
<a class=linenum name='L429'>0429</a>    
<a class=linenum name='L430'>0430</a>        <span class='builtin' title='source.lang.swift.syntaxtype.attribute.builtin'>public</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='430_16'>languageServer</a></span>(<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>_</span> <span class='identifier' title='Siteify.swift'><a name='430_33'>server</a></span>: <span class='typeidentifier' title='LanguageServer.swift'><a name='430_41' href='LanguageServer.swift.html#49_16'>LanguageServer</a></span>, <span class='identifier' title='Siteify.swift'><a name='430_57' href='Siteify.swift.html#430_16'>failedToDecodeNotification</a></span> <span class='identifier' title='Siteify.swift'><a name='430_84'>notificationName</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>, <span class='identifier' title='Siteify.swift'><a name='430_110' href='Siteify.swift.html#430_16'>with</a></span> <span class='identifier' title='Siteify.swift'><a name='430_115'>error</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Error</span>) {
<a class=linenum name='L431'>0431</a>            <span class='identifier' title='x86_64.swiftmodule'>NSLog</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"failedToDecodeNotification: </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='431_45' href='Siteify.swift.html#430_84'>notificationName</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>  </span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='431_66' href='Siteify.swift.html#430_115'>error</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>)
<a class=linenum name='L432'>0432</a>        }
<a class=linenum name='L433'>0433</a>    }
<a class=linenum name='L434'>0434</a>    
<a class=linenum name='L435'>0435</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>struct</span> <span class='identifier' title='usrString2'><a name='435_7' href='#' onclick='return expand(this);'>Loc<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#134_30"; return false;'>Siteify.swift:134</td><td><pre>    var referencesFallback = [Loc: Location]()</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#285_60"; return false;'>Siteify.swift:285</td><td><pre>                                    self.referencesFallback[Loc(path: fullpath, pos: pos)]</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#311_80"; return false;'>Siteify.swift:311</td><td><pre>                                                        self.referencesFallback[Loc(path: ref.file, pos: ref.range.start)] = decl</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64.swiftmodule'>Hashable</span> {
<a class=linenum name='L436'>0436</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='usrString2'><a name='436_8' href='#' onclick='return expand(this);'>path<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#285_64"; return false;'>Siteify.swift:285</td><td><pre>                                    self.referencesFallback[Loc(path: fullpath, pos: pos)]</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#311_84"; return false;'>Siteify.swift:311</td><td><pre>                                                        self.referencesFallback[Loc(path: ref.file, pos: ref.range.start)] = decl</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>
<a class=linenum name='L437'>0437</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='437_8'>pos</a></span>: <span class='typeidentifier' title='Position.swift'><a name='437_13' href='Position.swift.html#11_14'>Position</a></span>
<a class=linenum name='L438'>0438</a>    }
<a class=linenum name='L439'>0439</a>    
<a class=linenum name='L440'>0440</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>extension</span> <span class='typeidentifier' title='Position.swift'><a name='440_10' href='Position.swift.html#11_14'>Position</a></span> {
<a class=linenum name='L441'>0441</a>    
<a class=linenum name='L442'>0442</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='442_8'>anchor</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> { <span class='string' title='source.lang.swift.syntaxtype.string'>"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Position.swift'><a name='442_28' href='Position.swift.html#12_15'>line</a></span>+<span class='number' title='source.lang.swift.syntaxtype.number'>1</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>_</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Position.swift'><a name='442_38' href='Position.swift.html#13_15'>character</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span> }
<a class=linenum name='L443'>0443</a>    }
<a class=linenum name='L444'>0444</a>    
<a class=linenum name='L445'>0445</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>extension</span> <span class='typeidentifier' title='Location.swift'><a name='445_10' href='Location.swift.html#11_14'>Location</a></span> {
<a class=linenum name='L446'>0446</a>    
<a class=linenum name='L447'>0447</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='447_8'>file</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> { <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>URL</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>string</span>: <span class='identifier' title='Location.swift'><a name='447_35' href='Location.swift.html#12_15'>uri</a></span>)!.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>path</span> }
<a class=linenum name='L448'>0448</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='448_8'>htmlname</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> { <span class='identifier' title='Siteify.swift'><a name='448_27' href='Siteify.swift.html#23_5'>htmlFile</a></span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>URL</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>string</span>: <span class='identifier' title='Location.swift'><a name='448_48' href='Location.swift.html#12_15'>uri</a></span>)!.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>path</span>) }
<a class=linenum name='L449'>0449</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='449_8'>filebase</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> { <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>URL</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>string</span>: <span class='identifier' title='Location.swift'><a name='449_39' href='Location.swift.html#12_15'>uri</a></span>)!.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>lastPathComponent</span> }
<a class=linenum name='L450'>0450</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='450_8'>line</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>Int</span> { <span class='identifier' title='Location.swift'><a name='450_20' href='Location.swift.html#13_15'>range</a></span>.<span class='identifier' title='LSPRange.swift'><a name='450_26' href='LSPRange.swift.html#12_15'>start</a></span>.<span class='identifier' title='Position.swift'><a name='450_32' href='Position.swift.html#12_15'>line</a></span> }
<a class=linenum name='L451'>0451</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='451_8'>anchor</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> { <span class='identifier' title='Location.swift'><a name='451_25' href='Location.swift.html#13_15'>range</a></span>.<span class='identifier' title='LSPRange.swift'><a name='451_31' href='LSPRange.swift.html#12_15'>start</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>anchor</span> }
<a class=linenum name='L452'>0452</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='452_8'>href</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> { <span class='string' title='source.lang.swift.syntaxtype.string'>"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>htmlname</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>#</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>anchor</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span> }
<a class=linenum name='L453'>0453</a>    }
<a class=linenum name='L454'>0454</a>    
<a class=linenum name='L455'>0455</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>extension</span> <span class='typeidentifier' title='SymbolKind.swift'><a name='455_10' href='SymbolKind.swift.html#11_12'>SymbolKind</a></span> {
<a class=linenum name='L456'>0456</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>static</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='456_15'>kindMap</a></span> = [
<a class=linenum name='L457'>0457</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>Self</span>.<span class='identifier' title='SymbolKind.swift'><a name='457_13' href='SymbolKind.swift.html#33_9'>enumMember</a></span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"case"</span>,
<a class=linenum name='L458'>0458</a>            .<span class='identifier' title='SymbolKind.swift'><a name='458_9' href='SymbolKind.swift.html#18_9'>property</a></span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"var"</span>,
<a class=linenum name='L459'>0459</a>            .<span class='identifier' title='SymbolKind.swift'><a name='459_9' href='SymbolKind.swift.html#17_9'>method</a></span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"func"</span>,
<a class=linenum name='L460'>0460</a>            .<span class='identifier' title='SymbolKind.swift'><a name='460_9' href='SymbolKind.swift.html#14_9'>namespace</a></span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"extension"</span>,
<a class=linenum name='L461'>0461</a>            .<span class='identifier' title='SymbolKind.swift'><a name='461_9' href='SymbolKind.swift.html#22_9'>interface</a></span>: <span class='string' title='source.lang.swift.syntaxtype.string'>"protocol"</span>
<a class=linenum name='L462'>0462</a>        ]
<a class=linenum name='L463'>0463</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='463_8'>swiftify</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> { <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>Self</span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>kindMap</span>[<span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span>] ?? <span class='string' title='source.lang.swift.syntaxtype.string'>"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='keyword' title='source.lang.swift.syntaxtype.keyword'>self</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span> }
<a class=linenum name='L464'>0464</a>    }
<a class=linenum name='L465'>0465</a>    
<a class=linenum name='L466'>0466</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>extension</span> <span class='typeidentifier' title='DocumentSymbol.swift'><a name='466_10' href='DocumentSymbol.swift.html#56_14'>DocumentSymbol</a></span> {
<a class=linenum name='L467'>0467</a>    
<a class=linenum name='L468'>0468</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='Siteify.swift'><a name='468_9'>print</a></span>(<span class='identifier' title='Siteify.swift'><a name='468_15'>file</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>, <span class='identifier' title='Siteify.swift'><a name='468_29'>indent</a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> = <span class='string' title='source.lang.swift.syntaxtype.string'>""</span>, <span class='identifier' title='Siteify.swift'><a name='468_50'>to</a></span>: <span class='typeidentifier' title='x86_64.swiftmodule'>UnsafeMutablePointer</span>&lt;<span class='typeidentifier' title='_stdio.h'>FILE</span>>) {
<a class=linenum name='L469'>0469</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='DocumentSymbol.swift'><a name='469_11' href='DocumentSymbol.swift.html#59_15'>kind</a></span> != .<span class='identifier' title='SymbolKind.swift'><a name='469_20' href='SymbolKind.swift.html#24_9'>variable</a></span> {
<a class=linenum name='L470'>0470</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='470_16'>href</a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='470_26' href='Siteify.swift.html#468_15'>file</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>#L</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='DocumentSymbol.swift'><a name='470_35' href='DocumentSymbol.swift.html#61_15'>range</a></span>.<span class='identifier' title='LSPRange.swift'><a name='470_41' href='LSPRange.swift.html#12_15'>start</a></span>.<span class='identifier' title='Position.swift'><a name='470_47' href='Position.swift.html#12_15'>line</a></span>+<span class='number' title='source.lang.swift.syntaxtype.number'>1</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>
<a class=linenum name='L471'>0471</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='471_16'>braces</a></span> = <span class='identifier' title='DocumentSymbol.swift'><a name='471_25' href='DocumentSymbol.swift.html#59_15'>kind</a></span> == .<span class='identifier' title='SymbolKind.swift'><a name='471_34' href='SymbolKind.swift.html#16_9'>class</a></span> || <span class='identifier' title='DocumentSymbol.swift'><a name='471_43' href='DocumentSymbol.swift.html#59_15'>kind</a></span> == .<span class='identifier' title='SymbolKind.swift'><a name='471_52' href='SymbolKind.swift.html#34_9'>struct</a></span> || <span class='identifier' title='DocumentSymbol.swift'><a name='471_62' href='DocumentSymbol.swift.html#59_15'>kind</a></span> == .<span class='identifier' title='SymbolKind.swift'><a name='471_71' href='SymbolKind.swift.html#21_9'>enum</a></span> || <span class='identifier' title='DocumentSymbol.swift'><a name='471_79' href='DocumentSymbol.swift.html#59_15'>kind</a></span> == .<span class='identifier' title='SymbolKind.swift'><a name='471_88' href='SymbolKind.swift.html#14_9'>namespace</a></span>
<a class=linenum name='L472'>0472</a>                <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>fputs</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='472_21' href='Siteify.swift.html#468_29'>indent</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='DocumentSymbol.swift'><a name='472_30' href='DocumentSymbol.swift.html#59_15'>kind</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>swiftify</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'> &lt;a href='</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='472_56' href='Siteify.swift.html#470_16'>href</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>' title='</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='472_72' href='Siteify.swift.html#470_16'>href</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>'></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='DocumentSymbol.swift'><a name='472_81' href='DocumentSymbol.swift.html#57_15'>name</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;/a></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='472_92' href='Siteify.swift.html#471_16'>braces</a></span>  ? <span class='string' title='source.lang.swift.syntaxtype.string'>" {"</span> : <span class='string' title='source.lang.swift.syntaxtype.string'>""</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>\n"</span>, <span class='identifier' title='Siteify.swift'><a name='472_117' href='Siteify.swift.html#468_50'>to</a></span>)
<a class=linenum name='L473'>0473</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>for</span> <span class='identifier' title='Siteify.swift'><a name='473_16'>sym</a></span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span> <span class='identifier' title='DocumentSymbol.swift'><a name='473_23' href='DocumentSymbol.swift.html#63_15'>children</a></span> ?? [] {
<a class=linenum name='L474'>0474</a>                    <span class='identifier' title='Siteify.swift'><a name='474_16' href='Siteify.swift.html#473_16'>sym</a></span>.<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>print</span>(<span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>file</span>: <span class='identifier' title='Siteify.swift'><a name='474_32' href='Siteify.swift.html#468_15'>file</a></span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>indent</span>: <span class='identifier' title='Siteify.swift'><a name='474_46' href='Siteify.swift.html#468_29'>indent</a></span> + <span class='string' title='source.lang.swift.syntaxtype.string'>"  "</span>, <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>to</span>: <span class='identifier' title='Siteify.swift'><a name='474_65' href='Siteify.swift.html#468_50'>to</a></span>)
<a class=linenum name='L475'>0475</a>                }
<a class=linenum name='L476'>0476</a>                <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>if</span> <span class='identifier' title='Siteify.swift'><a name='476_15' href='Siteify.swift.html#471_16'>braces</a></span> {
<a class=linenum name='L477'>0477</a>                    <span class='identifier' title='success(Optional(SwiftLSPClient.TypeDefinitionResponse.locationArray([])))'>fputs</span>(<span class='string' title='source.lang.swift.syntaxtype.string'>"</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='477_25' href='Siteify.swift.html#468_29'>indent</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>}\n\n"</span>, <span class='identifier' title='Siteify.swift'><a name='477_40' href='Siteify.swift.html#468_50'>to</a></span>)
<a class=linenum name='L478'>0478</a>                }
<a class=linenum name='L479'>0479</a>            }
<a class=linenum name='L480'>0480</a>        }
<a class=linenum name='L481'>0481</a>    }
<a class=linenum name='L482'>0482</a>    
<a class=linenum name='L483'>0483</a>    <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>func</span> <span class='identifier' title='usrString2'><a name='483_5' href='#' onclick='return expand(this);'>HTML<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#308_131"; return false;'>Siteify.swift:308</td><td><pre>                                                    "\(text)&lt;span class='references'>&lt;table>\(markup != nil ? "&lt;tr>&lt;td colspan=2>\(HTML(fromMarkup: markup!))" : "")\(popup)&lt;/table>&lt;/span>&lt;/a>", "usrString2")</pre></td></table></span></a></span>(<span class='identifier' title='usrString2'><a name='483_10' href='#' onclick='return expand(this);'>fromMarkup<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="Siteify.swift.html#484_15"; return false;'>Siteify.swift:484</td><td><pre>    var text = fromMarkup</pre></td></table></span></a></span>: <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> {
<a class=linenum name='L484'>0484</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>var</span> <span class='identifier' title='Siteify.swift'><a name='484_8'>text</a></span> = <span class='identifier' title='Siteify.swift'><a name='484_15' href='Siteify.swift.html#483_10'>fromMarkup</a></span>
<a class=linenum name='L485'>0485</a>        <span class='identifier' title='Siteify.swift'><a name='485_4' href='Siteify.swift.html#484_8'>text</a></span>[<span class='string' title='source.lang.swift.syntaxtype.string'>"^(#+)(.*)\n"</span>.<span class='identifier' title='SwiftRegex.swift'><a name='485_23' href='SwiftRegex.swift.html#62_34'>anchorsMatchLines</a></span>] = {
<a class=linenum name='L486'>0486</a>            (<span class='identifier' title='Siteify.swift'><a name='486_9'>groups</a></span>: [<span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span>], <span class='identifier' title='Siteify.swift'><a name='486_27'>stop</a></span>) -> <span class='typeidentifier' title='x86_64-apple-macos.swiftmodule'>String</span> <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>in</span>
<a class=linenum name='L487'>0487</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>let</span> <span class='identifier' title='Siteify.swift'><a name='487_12'>h</a></span> = <span class='string' title='source.lang.swift.syntaxtype.string'>"h</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='487_20' href='Siteify.swift.html#486_9'>groups</a></span>[<span class='number' title='source.lang.swift.syntaxtype.number'>1</span>].<span class='identifier' title='x86_64-apple-macos.swiftmodule'>utf8</span>.<span class='identifier' title='x86_64-apple-macos.swiftmodule'>count</span> + <span class='number' title='source.lang.swift.syntaxtype.number'>2</span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>"</span>
<a class=linenum name='L488'>0488</a>            <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='488_19' href='Siteify.swift.html#487_12'>h</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>></span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='488_24' href='Siteify.swift.html#486_9'>groups</a></span>[<span class='number' title='source.lang.swift.syntaxtype.number'>2</span>]<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>&lt;/</span>\<span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>(</span><span class='identifier' title='Siteify.swift'><a name='488_38' href='Siteify.swift.html#487_12'>h</a></span><span class='string_interpolation_anchor' title='source.lang.swift.syntaxtype.string_interpolation_anchor'>)</span><span class='string' title='source.lang.swift.syntaxtype.string'>>"</span>
<a class=linenum name='L489'>0489</a>        }
<a class=linenum name='L490'>0490</a>        <span class='identifier' title='Siteify.swift'><a name='490_4' href='Siteify.swift.html#484_8'>text</a></span>[<span class='string' title='source.lang.swift.syntaxtype.string'>"```\n(.*?)```\n?"</span>.<span class='identifier' title='SwiftRegex.swift'><a name='490_28' href='SwiftRegex.swift.html#59_7'>dotMatchesLineSeparators</a></span>] = <span class='string' title='source.lang.swift.syntaxtype.string'>"$1"</span>
<a class=linenum name='L491'>0491</a>        <span class='identifier' title='Siteify.swift'><a name='491_4' href='Siteify.swift.html#484_8'>text</a></span>[<span class='string' title='source.lang.swift.syntaxtype.string'>"`([^`]*)`"</span>] = <span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;b>$1&lt;/b>"</span>
<a class=linenum name='L492'>0492</a>        <span class='identifier' title='Siteify.swift'><a name='492_4' href='Siteify.swift.html#484_8'>text</a></span>[<span class='string' title='source.lang.swift.syntaxtype.string'>"\n"</span>] = <span class='string' title='source.lang.swift.syntaxtype.string'>"&lt;br>"</span>
<a class=linenum name='L493'>0493</a>        <span class='keyword' title='source.lang.swift.syntaxtype.keyword'>return</span> <span class='identifier' title='Siteify.swift'><a name='493_11' href='Siteify.swift.html#484_8'>text</a></span>
<a class=linenum name='L494'>0494</a>    }
<a class=linenum name='L495'>0495</a>    