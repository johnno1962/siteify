<html><head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="siteify.css">
<script>

var lastlink;

function expand(a) {
    if ( a.children[0].style.display != "block" ) {
        if ( lastlink )
            lastlink.style.display = "none";
        a.children[0].style.display = "block";
        lastlink = a.children[0];
    }
    else {
        a.children[0].style.display = "none";
        lastlink = null;
    }
    return false;
}

</script></head><body><h3>.build/checkouts/SwiftLSPClient/SwiftLSPClient/LanguageServer.swift</h3><pre><span class=linenum>0001</span>    <span class='comment'>//
<span class=linenum>0002</span>    </span><span class='comment'>//  LanguageServer.swift
<span class=linenum>0003</span>    </span><span class='comment'>//  SwiftLSPClient
<span class=linenum>0004</span>    </span><span class='comment'>//
<span class=linenum>0005</span>    </span><span class='comment'>//  Created by Matt Massicotte on 2018-10-13.
<span class=linenum>0006</span>    </span><span class='comment'>//  Copyright Â© 2018 Chime Systems. All rights reserved.
<span class=linenum>0007</span>    </span><span class='comment'>//
<span class=linenum>0008</span>    </span>
<span class=linenum>0009</span>    <span class='keyword'>import</span> <span class='identifier'>Foundation</span>
<span class=linenum>0010</span>    
<span class=linenum>0011</span>    <span class='builtin'>public</span> <span class='keyword'>enum</span> <span class='identifier'><a name='11_12' href='#' title='usrString2' onclick='return expand(this);'>LanguageServerError<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#67_36"; event.stopPropagation(); return false;'>JSONRPC.swift:67</td><td><pre>    public var languageServerError: LanguageServerError {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#68_15"; event.stopPropagation(); return false;'>JSONRPC.swift:68</td><td><pre>        return LanguageServerError.serverError(code: code, message: message, data: nil)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#71_88"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:71</td><td><pre>                responder?.languageServer(self, failedToDecodeNotification: name, with: LanguageServerError.missingExpectedResult)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#78_27"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:78</td><td><pre>            let newError = LanguageServerError.unableToDecodeResponse(error)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#126_89"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:126</td><td><pre>    public func didOpenTextDocument(params: DidOpenTextDocumentParams, block: @escaping (LanguageServerError?) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#130_44"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:130</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#135_90"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:135</td><td><pre>    public func didCloseTextDocument(params: DidOpenTextDocumentParams, block: @escaping (LanguageServerError?) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#139_44"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:139</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#144_93"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:144</td><td><pre>    public func didChangeTextDocument(params: DidChangeTextDocumentParams, block: @escaping (LanguageServerError?) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#148_44"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:148</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#153_91"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:153</td><td><pre>    public func didCloseTextDocument(params: DidCloseTextDocumentParams, block: @escaping (LanguageServerError?) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#157_44"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:157</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#162_91"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:162</td><td><pre>    public func willSaveTextDocument(params: WillSaveTextDocumentParams, block: @escaping (LanguageServerError?) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#166_44"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:166</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#179_89"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:179</td><td><pre>    public func didSaveTextDocument(params: DidSaveTextDocumentParams, block: @escaping (LanguageServerError?) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#183_44"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:183</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td></table></span></a></span>: <span class='typeidentifier'>LocalizedError</span> {
<span class=linenum>0012</span>        <span class='keyword'>case</span> <span class='identifier'><a name='12_9' title='usrString3'>serverUnavailable</a></span>
<span class=linenum>0013</span>        <span class='keyword'>case</span> <span class='identifier'><a name='13_9' href='#' title='usrString2' onclick='return expand(this);'>protocolError<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#88_24"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:88</td><td><pre>        block(.failure(.protocolError(error)))</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#130_64"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:130</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#139_64"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:139</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#148_64"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:148</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#157_64"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:157</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#166_64"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:166</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#183_64"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:183</td><td><pre>            let upstreamError = error.map { LanguageServerError.protocolError($0) }</pre></td></table></span></a></span>(<span class='typeidentifier'>Error</span>)
<span class=linenum>0014</span>        <span class='keyword'>case</span> <span class='identifier'><a name='14_9' title='usrString3'>invalidDocumentURI</a></span>(<span class='typeidentifier'>URL</span>)
<span class=linenum>0015</span>        <span class='keyword'>case</span> <span class='identifier'><a name='15_9' title='usrString3'>unableToEncodeRequest</a></span>
<span class=linenum>0016</span>        <span class='keyword'>case</span> <span class='identifier'><a name='16_9' href='#' title='usrString2' onclick='return expand(this);'>unableToDecodeResponse<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#78_47"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:78</td><td><pre>            let newError = LanguageServerError.unableToDecodeResponse(error)</pre></td></table></span></a></span>(<span class='typeidentifier'>Error</span>)
<span class=linenum>0017</span>        <span class='keyword'>case</span> <span class='identifier'><a name='17_9' href='#' title='usrString2' onclick='return expand(this);'>missingExpectedResult<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#71_108"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:71</td><td><pre>                responder?.languageServer(self, failedToDecodeNotification: name, with: LanguageServerError.missingExpectedResult)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#95_28"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:95</td><td><pre>            block(.failure(.missingExpectedResult))</pre></td></table></span></a></span>
<span class=linenum>0018</span>        <span class='keyword'>case</span> <span class='identifier'><a name='18_9' title='usrString3'>operationTimedOut</a></span>
<span class=linenum>0019</span>        <span class='keyword'>case</span> <span class='identifier'><a name='19_9' title='usrString3'>unimplemented</a></span>
<span class=linenum>0020</span>        
<span class=linenum>0021</span>        <span class='keyword'>case</span> <span class='identifier'><a name='21_9' href='#' title='usrString2' onclick='return expand(this);'>serverError<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPC.swift.html#68_35"; event.stopPropagation(); return false;'>JSONRPC.swift:68</td><td><pre>        return LanguageServerError.serverError(code: code, message: message, data: nil)</pre></td></table></span></a></span>(<span class='identifier'><a name='21_21' title='usrString3'>code</a></span>: <span class='typeidentifier'>Int</span>, <span class='identifier'><a name='21_32' title='usrString3'>message</a></span>: <span class='typeidentifier'>String</span>, <span class='identifier'><a name='21_49' title='usrString3'>data</a></span>: [<span class='typeidentifier'>String</span> : <span class='typeidentifier'>AnyObject</span>]?)
<span class=linenum>0022</span>    
<span class=linenum>0023</span>        <span class='builtin'>public</span> <span class='keyword'>var</span> <span class='identifier'><a name='23_15' title='usrString3'>errorDescription</a></span>: <span class='typeidentifier'>String</span>? {
<span class=linenum>0024</span>            <span class='keyword'>switch</span> <span class='keyword'>self</span> {
<span class=linenum>0025</span>            <span class='keyword'>case</span> .<span class='identifier'><a name='25_14' href='LanguageServer.swift.html#12_9' title='usrString1'>serverUnavailable</a></span>:
<span class=linenum>0026</span>                <span class='keyword'>return</span> <span class='string'>"Server unavailable"</span>
<span class=linenum>0027</span>            <span class='keyword'>case</span> .<span class='identifier'><a name='27_14' href='LanguageServer.swift.html#13_9' title='usrString1'>protocolError</a></span>(<span class='keyword'>let</span> <span class='identifier'><a name='27_32' title='usrString3'>e</a></span>):
<span class=linenum>0028</span>                <span class='keyword'>return</span> <span class='string'>"Protocol error: (</span>\<span class='string_interpolation_anchor'>(</span><span class='identifier'><a name='28_39' href='LanguageServer.swift.html#27_32' title='usrString1'>e</a></span>.<span class='identifier'>localizedDescription</span><span class='string_interpolation_anchor'>)</span><span class='string'>)"</span>
<span class=linenum>0029</span>            <span class='keyword'>case</span> .<span class='identifier'><a name='29_14' href='LanguageServer.swift.html#14_9' title='usrString1'>invalidDocumentURI</a></span>(<span class='keyword'>let</span> <span class='identifier'><a name='29_37' title='usrString3'>uri</a></span>):
<span class=linenum>0030</span>                <span class='keyword'>return</span> <span class='string'>"Invalid URI '</span>\<span class='string_interpolation_anchor'>(</span><span class='identifier'><a name='30_35' href='LanguageServer.swift.html#29_37' title='usrString1'>uri</a></span><span class='string_interpolation_anchor'>)</span><span class='string'>'"</span>
<span class=linenum>0031</span>            <span class='keyword'>case</span> .<span class='identifier'><a name='31_14' href='LanguageServer.swift.html#15_9' title='usrString1'>unableToEncodeRequest</a></span>:
<span class=linenum>0032</span>                <span class='keyword'>return</span> <span class='string'>"Unable to encode request"</span>
<span class=linenum>0033</span>            <span class='keyword'>case</span> .<span class='identifier'><a name='33_14' href='LanguageServer.swift.html#16_9' title='usrString1'>unableToDecodeResponse</a></span>(<span class='keyword'>let</span> <span class='identifier'><a name='33_41' title='usrString3'>e</a></span>):
<span class=linenum>0034</span>                <span class='keyword'>return</span> <span class='string'>"Unable to decode response: </span>\<span class='string_interpolation_anchor'>(</span><span class='identifier'><a name='34_49' href='LanguageServer.swift.html#33_41' title='usrString1'>e</a></span>.<span class='identifier'>localizedDescription</span><span class='string_interpolation_anchor'>)</span><span class='string'>"</span>
<span class=linenum>0035</span>            <span class='keyword'>case</span> .<span class='identifier'><a name='35_14' href='LanguageServer.swift.html#17_9' title='usrString1'>missingExpectedResult</a></span>:
<span class=linenum>0036</span>                <span class='keyword'>return</span> <span class='string'>"Missing expected result"</span>
<span class=linenum>0037</span>            <span class='keyword'>case</span> .<span class='identifier'><a name='37_14' href='LanguageServer.swift.html#18_9' title='usrString1'>operationTimedOut</a></span>:
<span class=linenum>0038</span>                <span class='keyword'>return</span> <span class='string'>"Operation timed out"</span>
<span class=linenum>0039</span>            <span class='keyword'>case</span> .<span class='identifier'><a name='39_14' href='LanguageServer.swift.html#19_9' title='usrString1'>unimplemented</a></span>:
<span class=linenum>0040</span>                <span class='keyword'>return</span> <span class='string'>"Unimplemented"</span>
<span class=linenum>0041</span>            <span class='keyword'>case</span> .<span class='identifier'><a name='41_14' href='LanguageServer.swift.html#21_9' title='usrString1'>serverError</a></span>(<span class='identifier'>code</span>: <span class='keyword'>let</span> <span class='identifier'><a name='41_36' title='usrString3'>code</a></span>, <span class='identifier'>message</span>: <span class='keyword'>let</span> <span class='identifier'><a name='41_55' title='usrString3'>message</a></span>, <span class='identifier'>data</span>: <span class='keyword'>let</span> <span class='identifier'><a name='41_74' title='usrString3'>userInfo</a></span>):
<span class=linenum>0042</span>                <span class='keyword'>return</span> <span class='string'>"Server error </span>\<span class='string_interpolation_anchor'>(</span><span class='identifier'><a name='42_35' href='LanguageServer.swift.html#41_36' title='usrString1'>code</a></span><span class='string_interpolation_anchor'>)</span><span class='string'>, '</span>\<span class='string_interpolation_anchor'>(</span><span class='identifier'><a name='42_45' href='LanguageServer.swift.html#41_55' title='usrString1'>message</a></span><span class='string_interpolation_anchor'>)</span><span class='string'>', </span>\<span class='string_interpolation_anchor'>(</span><span class='identifier'>String</span>(<span class='identifier'>describing</span>: <span class='identifier'><a name='42_77' href='LanguageServer.swift.html#41_74' title='usrString1'>userInfo</a></span>)<span class='string_interpolation_anchor'>)</span><span class='string'>"</span>
<span class=linenum>0043</span>            }
<span class=linenum>0044</span>        }
<span class=linenum>0045</span>    }
<span class=linenum>0046</span>    
<span class=linenum>0047</span>    <span class='builtin'>public</span> <span class='keyword'>typealias</span> <span class='identifier'><a name='47_17' href='#' title='usrString2' onclick='return expand(this);'>LanguageServerResult<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#85_97"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:85</td><td><pre>private func relayResult&lt;T>(result: JSONRPCLanguageServer.ProtocolResponse&lt;T>, block: @escaping (LanguageServerResult&lt;T>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#110_71"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:110</td><td><pre>    public func initialize(params: InitializeParams, block: @escaping (LanguageServerResult&lt;InitializationResponse>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#118_76"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:118</td><td><pre>    public func hover(params: TextDocumentPositionParams, block: @escaping (LanguageServerResult&lt;Hover>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#171_100"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:171</td><td><pre>    public func willSaveWaitUntilTextDocument(params: WillSaveTextDocumentParams, block: @escaping (LanguageServerResult&lt;WillSaveWaitUntilResponse>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#188_71"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:188</td><td><pre>    public func completion(params: CompletionParams, block: @escaping (LanguageServerResult&lt;CompletionResponse>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#196_84"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:196</td><td><pre>    public func signatureHelp(params: TextDocumentPositionParams, block: @escaping (LanguageServerResult&lt;SignatureHelp>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#204_82"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:204</td><td><pre>    public func declaration(params: TextDocumentPositionParams, block: @escaping (LanguageServerResult&lt;DeclarationResponse?>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#212_81"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:212</td><td><pre>    public func definition(params: TextDocumentPositionParams, block: @escaping (LanguageServerResult&lt;DefinitionResponse?>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#221_85"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:221</td><td><pre>    public func typeDefinition(params: TextDocumentPositionParams, block: @escaping (LanguageServerResult&lt;TypeDefinitionResponse?>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#229_85"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:229</td><td><pre>    public func implementation(params: TextDocumentPositionParams, block: @escaping (LanguageServerResult&lt;ImplementationResponse?>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#237_79"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:237</td><td><pre>    public func documentSymbol(params: DocumentSymbolParams, block: @escaping (LanguageServerResult&lt;DocumentSymbolResponse>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#245_79"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:245</td><td><pre>    public func formatting(params: DocumentFormattingParams, block: @escaping (LanguageServerResult&lt;FormattingResult>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#253_89"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:253</td><td><pre>    public func rangeFormatting(params: DocumentRangeFormattingParams, block: @escaping (LanguageServerResult&lt;FormattingResult>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#261_91"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:261</td><td><pre>    public func onTypeFormatting(params: DocumentOnTypeFormattingParams, block: @escaping (LanguageServerResult&lt;FormattingResult>) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#269_70"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:269</td><td><pre>    public func references(params: ReferenceParams, block: @escaping (LanguageServerResult&lt;ReferenceResponse?>) -> Void) {</pre></td></table></span></a></span>&lt;<span class='identifier'><a name='47_38' title='usrString3'>T</a></span>> = <span class='typeidentifier'>Result</span>&lt;<span class='typeidentifier'><a name='47_50' href='LanguageServer.swift.html#47_38' title='usrString1'>T</a></span>, <span class='typeidentifier'><a name='47_53' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>>
<span class=linenum>0048</span>    
<span class=linenum>0049</span>    <span class='builtin'>public</span> <span class='keyword'>protocol</span> <span class='identifier'><a name='49_16' href='#' title='usrString2' onclick='return expand(this);'>LanguageServer<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="LanguageServerProcessHost.swift.html#23_24"; event.stopPropagation(); return false;'>LanguageServerProcessHost.swift:23</td><td><pre>    private let server: LanguageServer</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="LanguageServerProcessHost.swift.html#59_40"; event.stopPropagation(); return false;'>LanguageServerProcessHost.swift:59</td><td><pre>    public func start(block: @escaping (LanguageServer?) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="LanguageServerProcessHost.swift.html#87_46"; event.stopPropagation(); return false;'>LanguageServerProcessHost.swift:87</td><td><pre>    public func getServer(_ block: @escaping (LanguageServer?) -> Void) {</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#107_33"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:107</td><td><pre>extension JSONRPCLanguageServer: LanguageServer {</pre></td></table></span></a></span>: <span class='typeidentifier'>class</span> {
<span class=linenum>0050</span>        <span class='keyword'>var</span> <span class='identifier'><a name='50_8' title='usrString3'>notificationResponder</a></span>: <span class='typeidentifier'><a name='50_31' href='LanguageServer.swift.html#76_16' title='usrString1'>NotificationResponder</a></span>? { <span class='keyword'>get</span> <span class='keyword'>set</span> }
<span class=linenum>0051</span>    
<span class=linenum>0052</span>        <span class='keyword'>func</span> <span class='identifier'><a name='52_9' title='usrString3'>initialize</a></span>(<span class='identifier'><a name='52_20' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='52_28' href='Initialization.swift.html#13_22' title='usrString1'>InitializeParams</a></span>, <span class='identifier'><a name='52_46' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='52_64' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='52_85' href='Initialization.swift.html#35_9' title='usrString1'>InitializationResponse</a></span>>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0053</span>        
<span class=linenum>0054</span>        <span class='keyword'>func</span> <span class='identifier'><a name='54_9' title='usrString3'>didOpenTextDocument</a></span>(<span class='identifier'><a name='54_29' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='54_37' href='TextSynchronization.swift.html#11_19' title='usrString1'>DidOpenTextDocumentParams</a></span>, <span class='identifier'><a name='54_64' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='54_82' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0055</span>        <span class='keyword'>func</span> <span class='identifier'><a name='55_9' title='usrString3'>didChangeTextDocument</a></span>(<span class='identifier'><a name='55_31' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='55_39' href='TextSynchronization.swift.html#27_31' title='usrString1'>DidChangeTextDocumentParams</a></span>, <span class='identifier'><a name='55_68' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='55_86' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0056</span>        <span class='keyword'>func</span> <span class='identifier'><a name='56_9' title='usrString3'>didCloseTextDocument</a></span>(<span class='identifier'><a name='56_30' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='56_38' href='TextSynchronization.swift.html#58_133' title='usrString1'>DidCloseTextDocumentParams</a></span>, <span class='identifier'><a name='56_66' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='56_84' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0057</span>        <span class='keyword'>func</span> <span class='identifier'><a name='57_9' title='usrString3'>willSaveTextDocument</a></span>(<span class='identifier'><a name='57_30' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='57_38' href='WillSaveTextDocument.swift.html#17_17' title='usrString1'>WillSaveTextDocumentParams</a></span>, <span class='identifier'><a name='57_66' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='57_84' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0058</span>        <span class='keyword'>func</span> <span class='identifier'><a name='58_9' title='usrString3'>willSaveWaitUntilTextDocument</a></span>(<span class='identifier'><a name='58_39' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='58_47' href='WillSaveTextDocument.swift.html#17_17' title='usrString1'>WillSaveTextDocumentParams</a></span>, <span class='identifier'><a name='58_75' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='58_93' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='58_114' href='WillSaveTextDocument.swift.html#29_29' title='usrString1'>WillSaveWaitUntilResponse</a></span>>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0059</span>        <span class='keyword'>func</span> <span class='identifier'><a name='59_9' title='usrString3'>didSaveTextDocument</a></span>(<span class='identifier'><a name='59_29' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='59_37' href='TextSynchronization.swift.html#52_90' title='usrString1'>DidSaveTextDocumentParams</a></span>, <span class='identifier'><a name='59_64' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='59_82' href='LanguageServer.swift.html#11_12' title='usrString1'>LanguageServerError</a></span>?) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0060</span>        
<span class=linenum>0061</span>        <span class='keyword'>func</span> <span class='identifier'><a name='61_9' title='usrString3'>completion</a></span>(<span class='identifier'><a name='61_20' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='61_28' href='LanguageFeatures.swift.html#26_29' title='usrString1'>CompletionParams</a></span>, <span class='identifier'><a name='61_46' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='61_64' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='61_85' href='LanguageFeatures.swift.html#58_117' title='usrString1'>CompletionResponse</a></span>>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0062</span>        <span class='keyword'>func</span> <span class='identifier'><a name='62_9' title='usrString3'>hover</a></span>(<span class='identifier'><a name='62_15' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='62_23' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='62_51' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='62_69' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'>Hover</span>>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0063</span>        <span class='keyword'>func</span> <span class='identifier'><a name='63_9' title='usrString3'>signatureHelp</a></span>(<span class='identifier'><a name='63_23' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='63_31' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='63_59' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='63_77' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='63_98' href='SignatureHelp.swift.html#49_14' title='usrString1'>SignatureHelp</a></span>>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0064</span>        <span class='keyword'>func</span> <span class='identifier'><a name='64_9' title='usrString3'>declaration</a></span>(<span class='identifier'><a name='64_21' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='64_29' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='64_57' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='64_75' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='64_96' href='Declaration.swift.html#11_14' title='usrString1'>DeclarationResponse</a></span>?>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0065</span>        <span class='keyword'>func</span> <span class='identifier'><a name='65_9' title='usrString3'>definition</a></span>(<span class='identifier'><a name='65_20' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='65_28' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='65_56' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='65_74' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='65_95' href='Definition.swift.html#11_17' title='usrString1'>DefinitionResponse</a></span>?>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0066</span>        <span class='keyword'>func</span> <span class='identifier'><a name='66_9' title='usrString3'>typeDefinition</a></span>(<span class='identifier'><a name='66_24' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='66_32' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='66_60' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='66_78' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='66_99' href='TypeDefinition.swift.html#11_12' title='usrString1'>TypeDefinitionResponse</a></span>?>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0067</span>        <span class='keyword'>func</span> <span class='identifier'><a name='67_9' title='usrString3'>implementation</a></span>(<span class='identifier'><a name='67_24' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='67_32' href='Basic.swift.html#119_14' title='usrString1'>TextDocumentPositionParams</a></span>, <span class='identifier'><a name='67_60' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='67_78' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='67_99' href='Implementation.swift.html#11_17' title='usrString1'>ImplementationResponse</a></span>?>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0068</span>        <span class='keyword'>func</span> <span class='identifier'><a name='68_9' title='usrString3'>documentSymbol</a></span>(<span class='identifier'><a name='68_24' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='68_32' href='DocumentSymbol.swift.html#11_14' title='usrString1'>DocumentSymbolParams</a></span>, <span class='identifier'><a name='68_54' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='68_72' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='68_93' href='DocumentSymbol.swift.html#21_4' title='usrString1'>DocumentSymbolResponse</a></span>>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0069</span>    
<span class=linenum>0070</span>        <span class='keyword'>func</span> <span class='identifier'><a name='70_9' title='usrString3'>formatting</a></span>(<span class='identifier'><a name='70_20' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='70_28' href='Formatting.swift.html#18_8' title='usrString1'>DocumentFormattingParams</a></span>, <span class='identifier'><a name='70_54' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='70_72' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='70_93' href='Formatting.swift.html#49_25' title='usrString1'>FormattingResult</a></span>>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0071</span>        <span class='keyword'>func</span> <span class='identifier'><a name='71_9' title='usrString3'>rangeFormatting</a></span>(<span class='identifier'><a name='71_25' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='71_33' href='Formatting.swift.html#28_10' title='usrString1'>DocumentRangeFormattingParams</a></span>, <span class='identifier'><a name='71_64' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='71_82' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='71_103' href='Formatting.swift.html#49_25' title='usrString1'>FormattingResult</a></span>>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0072</span>        <span class='keyword'>func</span> <span class='identifier'><a name='72_9' title='usrString3'>onTypeFormatting</a></span>(<span class='identifier'><a name='72_26' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='72_34' href='Formatting.swift.html#36_11' title='usrString1'>DocumentOnTypeFormattingParams</a></span>, <span class='identifier'><a name='72_66' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='72_84' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='72_105' href='Formatting.swift.html#49_25' title='usrString1'>FormattingResult</a></span>>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0073</span>        <span class='keyword'>func</span> <span class='identifier'><a name='73_9' title='usrString3'>references</a></span>(<span class='identifier'><a name='73_20' title='usrString3'>params</a></span>: <span class='typeidentifier'><a name='73_28' href='Reference.swift.html#16_27' title='usrString1'>ReferenceParams</a></span>, <span class='identifier'><a name='73_45' title='usrString3'>block</a></span>: <span class='builtin'>@escaping</span> (<span class='typeidentifier'><a name='73_63' href='LanguageServer.swift.html#47_17' title='usrString1'>LanguageServerResult</a></span>&lt;<span class='typeidentifier'><a name='73_84' href='Reference.swift.html#34_49' title='usrString1'>ReferenceResponse</a></span>?>) -> <span class='typeidentifier'>Void</span>)
<span class=linenum>0074</span>    }
<span class=linenum>0075</span>    
<span class=linenum>0076</span>    <span class='builtin'>public</span> <span class='keyword'>protocol</span> <span class='identifier'><a name='76_16' href='#' title='usrString2' onclick='return expand(this);'>NotificationResponder<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#14_43"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:14</td><td><pre>    public weak var notificationResponder: NotificationResponder?</pre></td></table></span></a></span>: <span class='typeidentifier'>class</span> {
<span class=linenum>0077</span>        <span class='keyword'>func</span> <span class='identifier'><a name='77_9' href='#' title='usrString2' onclick='return expand(this);'>languageServerInitialized<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#41_22"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:41</td><td><pre>            responder.languageServerInitialized(self)</pre></td></table></span></a></span>(<span class='keyword'>_</span> <span class='identifier'><a name='77_37' title='usrString3'>server</a></span>: <span class='typeidentifier'><a name='77_45' href='LanguageServer.swift.html#49_16' title='usrString1'>LanguageServer</a></span>)
<span class=linenum>0078</span>    
<span class=linenum>0079</span>        <span class='keyword'>func</span> <span class='identifier'><a name='79_9' href='#' title='usrString2' onclick='return expand(this);'>languageServer<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#44_26"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:44</td><td><pre>                responder.languageServer(self, logMessage: value)</pre></td></table></span></a></span>(<span class='keyword'>_</span> <span class='identifier'><a name='79_26' title='usrString3'>server</a></span>: <span class='typeidentifier'><a name='79_34' href='LanguageServer.swift.html#49_16' title='usrString1'>LanguageServer</a></span>, <span class='identifier'><a name='79_50' href='LanguageServer.swift.html#79_9' title='usrString1'>logMessage</a></span> <span class='identifier'><a name='79_61' title='usrString3'>message</a></span>: <span class='typeidentifier'><a name='79_70' href='LogMessageParams.swift.html#11_16' title='usrString1'>LogMessageParams</a></span>)
<span class=linenum>0080</span>        <span class='keyword'>func</span> <span class='identifier'><a name='80_9' href='#' title='usrString2' onclick='return expand(this);'>languageServer<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#48_26"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:48</td><td><pre>                responder.languageServer(self, showMessage: value)</pre></td></table></span></a></span>(<span class='keyword'>_</span> <span class='identifier'><a name='80_26' title='usrString3'>server</a></span>: <span class='typeidentifier'><a name='80_34' href='LanguageServer.swift.html#49_16' title='usrString1'>LanguageServer</a></span>, <span class='identifier'><a name='80_50' href='LanguageServer.swift.html#80_9' title='usrString1'>showMessage</a></span> <span class='identifier'><a name='80_62' title='usrString3'>message</a></span>: <span class='typeidentifier'><a name='80_71' href='ShowMessageParams.swift.html#11_20' title='usrString1'>ShowMessageParams</a></span>)
<span class=linenum>0081</span>        <span class='keyword'>func</span> <span class='identifier'><a name='81_9' href='#' title='usrString2' onclick='return expand(this);'>languageServer<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#52_26"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:52</td><td><pre>                responder.languageServer(self, showMessageRequest: value)</pre></td></table></span></a></span>(<span class='keyword'>_</span> <span class='identifier'><a name='81_26' title='usrString3'>server</a></span>: <span class='typeidentifier'><a name='81_34' href='LanguageServer.swift.html#49_16' title='usrString1'>LanguageServer</a></span>, <span class='identifier'><a name='81_50' href='LanguageServer.swift.html#81_9' title='usrString1'>showMessageRequest</a></span> <span class='identifier'><a name='81_69' title='usrString3'>messageRequest</a></span>: <span class='typeidentifier'><a name='81_85' href='ShowMessageRequest.swift.html#11_18' title='usrString1'>ShowMessageRequestParams</a></span>)
<span class=linenum>0082</span>        <span class='keyword'>func</span> <span class='identifier'><a name='82_9' href='#' title='usrString2' onclick='return expand(this);'>languageServer<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#56_26"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:56</td><td><pre>                responder.languageServer(self, publishDiagnostics: value)</pre></td></table></span></a></span>(<span class='keyword'>_</span> <span class='identifier'><a name='82_26' title='usrString3'>server</a></span>: <span class='typeidentifier'><a name='82_34' href='LanguageServer.swift.html#49_16' title='usrString1'>LanguageServer</a></span>, <span class='identifier'><a name='82_50' href='LanguageServer.swift.html#82_9' title='usrString1'>publishDiagnostics</a></span> <span class='identifier'><a name='82_69' title='usrString3'>diagnosticsParams</a></span>: <span class='typeidentifier'><a name='82_88' href='Diagnostics.swift.html#52_14' title='usrString1'>PublishDiagnosticsParams</a></span>)
<span class=linenum>0083</span>    
<span class=linenum>0084</span>        <span class='keyword'>func</span> <span class='identifier'><a name='84_9' href='#' title='usrString2' onclick='return expand(this);'>languageServer<span class='references'><table><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#71_27"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:71</td><td><pre>                responder?.languageServer(self, failedToDecodeNotification: name, with: LanguageServerError.missingExpectedResult)</pre></td><tr><td style='text-decoration: underline;' onclick='document.location.href="JSONRPCLanguageServer.swift.html#80_23"; event.stopPropagation(); return false;'>JSONRPCLanguageServer.swift:80</td><td><pre>            responder?.languageServer(self, failedToDecodeNotification: name, with: newError)</pre></td></table></span></a></span>(<span class='keyword'>_</span> <span class='identifier'><a name='84_26' title='usrString2' onclick='return expand(this);'>server<span class='references'><table></table></span></a></span>: <span class='typeidentifier'><a name='84_34' href='LanguageServer.swift.html#49_16' title='usrString1'>LanguageServer</a></span>, <span class='identifier'><a name='84_50' href='LanguageServer.swift.html#84_9' title='usrString1'>failedToDecodeNotification</a></span> <span class='identifier'><a name='84_77' title='usrString2' onclick='return expand(this);'>notificationName<span class='references'><table></table></span></a></span>: <span class='typeidentifier'>String</span>, <span class='identifier'><a name='84_103' href='LanguageServer.swift.html#84_9' title='usrString1'>with</a></span> <span class='identifier'><a name='84_108' title='usrString2' onclick='return expand(this);'>error<span class='references'><table></table></span></a></span>: <span class='typeidentifier'>Error</span>)
<span class=linenum>0085</span>    }
<span class=linenum>0086</span>    